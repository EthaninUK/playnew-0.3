const axios = require('axios');

const DIRECTUS_URL = 'http://localhost:8055';

/**
 * å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š
 * const DIRECTUS_EMAIL = process.env.DIRECTUS_EMAIL
 * const DIRECTUS_PASSWORD = process.env.DIRECTUS_PASSWORD
 */

const GUIDE_CONFIG = {
  // ===== åŸºæœ¬ä¿¡æ¯ =====
  title: 'ç”Ÿæ€ä»»åŠ¡ï¼ˆEcosystem Questsï¼‰å®Œå…¨æŒ‡å—',
  slug: 'ecosystem-quests-complete-guide',
  summary:
    'ä»¥â€œå‘ç°â†’èµ„æ ¼â†’æ‰¹é‡æ‰§è¡Œâ†’å‡­è¯ä¿å­˜â†’ç§¯åˆ†å…‘ç°â€çš„é—­ç¯ï¼Œç³»ç»Ÿæ¢³ç† L1/L2/åè®®çš„ä»»åŠ¡ç±»å‹ã€ç§¯åˆ†ä¸ç©ºæŠ•æ˜ å°„ã€æˆæœ¬ä¸é£æ§ã€è‡ªåŠ¨åŒ–ä¸çœ‹æ¿æ¨¡æ¿ã€‚',

  // åœ¨ Directus ä¸­æ›¿æ¢ä¸ºçœŸå®åˆ†ç±» ID
  category: '77370b52-7a22-4199-bc18-b56fae289e46',

  // ç«™å†…ä¸€çº§/äºŒçº§åˆ†ç±»
  category_l1: 'airdrop',
  category_l2: 'ç”Ÿæ€ä»»åŠ¡',

  // ===== å…ƒæ•°æ® =====
  difficulty_level: 2,                 // 1-5
  risk_level: 2,                       // é’“é±¼/å‡ä»»åŠ¡/æˆæƒè¿‡é‡
  apy_min: 0,
  apy_max: 0,

  // èµ„é‡‘/æ—¶é—´/æŠ€æœ¯é—¨æ§›ï¼ˆç”¨äºå‰ç«¯ç­›é€‰/å±•ç¤ºï¼‰
  threshold_capital: '10-2,000 USDï¼ˆæŒ‰ä»»åŠ¡å¼¹æ€§å‚ä¸ï¼Œå°é¢å¤šæ¬¡ï¼‰',
  threshold_capital_min: 10,
  time_commitment: 'æ¯å‘¨ 1â€“3 å°æ—¶ï¼ˆæ‰¹é‡å¤„ç†ä¸å¤ç›˜ï¼‰',
  time_commitment_minutes: 120,
  threshold_tech_level: 'beginner',

  // ===== å¯è¯»æ€§å¼ºçš„ Markdown æ­£æ–‡ =====
  content: `> **é€‚ç”¨äººç¾¤**ï¼šæƒ³ç”¨æœ€å°æˆæœ¬æ‰¹é‡å®Œæˆé“¾/åè®®ä»»åŠ¡ï¼Œæå‡ **ç§¯åˆ†â†’ç©ºæŠ•** å‘½ä¸­ç‡ä¸å•ä½æ—¶é—´äº§å‡ºçš„äºº/å›¢é˜Ÿ  
> **é˜…è¯»æ—¶é—´**ï¼šâ‰ˆ 12â€“16 åˆ†é’Ÿ  
> **å…³é”®è¯**ï¼šQuests / Points / Airdrop / On-chain Tasks / Social Tasks / OAT / Proof / Eligibility / Automation

---

## ğŸ§­ TL;DR
- **ç›®æ ‡**ï¼šç”¨ SOP æŠŠåˆ†æ•£åœ¨ä¸åŒå¹³å°çš„ **ç”Ÿæ€ä»»åŠ¡**ï¼ˆé“¾ä¸Šäº¤äº’ã€ç¤¾äº¤ã€æ²»ç†ã€å¼€å‘è€…ã€å°é¢LPç­‰ï¼‰æ ‡å‡†åŒ–ï¼Œæå‡ **ç§¯åˆ†â†’ç©ºæŠ•** çš„ **å‘½ä¸­ç‡/æ€§ä»·æ¯”**ã€‚  
- **äº”æ­¥é—­ç¯**ï¼š**å‘ç° â†’ èµ„æ ¼ â†’ æ‰§è¡Œ â†’ å‡­è¯ä¿å­˜ â†’ å…‘ç°**ã€‚  
- **çºªå¾‹**ï¼š**ç™½åå•åŸŸåä¸åˆçº¦**ã€**æœ€å°æˆæƒ+å®šæœŸRevoke**ã€**å°é¢å¤šæ¬¡**ã€**è¯æ®é“¾å®Œæ•´**ï¼ˆTx/æˆªå›¾/æ—¶é—´ï¼‰ï¼Œå¹¶è®¾ **åœæœºé˜ˆå€¼**ï¼ˆGasã€å¤±è´¥ç‡ã€é£é™©ä¿¡å·ï¼‰ã€‚

---

## ğŸ—‚ ç›®å½•
1. [å¸¸è§ä»»åŠ¡ç±»å‹ä¸æ”¶ç›Šæ˜ å°„](#å¸¸è§ä»»åŠ¡ç±»å‹ä¸æ”¶ç›Šæ˜ å°„)
2. [å‘ç°ä¸ç­›é€‰ï¼šä¿¡æ¯æºä¸ç™½åå•](#å‘ç°ä¸ç­›é€‰ä¿¡æ¯æºä¸ç™½åå•)
3. [æ‰§è¡ŒSOPï¼šèµ„æ ¼â†’æ‰¹é‡â†’å‡­è¯](#æ‰§è¡Œsopèµ„æ ¼â†’æ‰¹é‡â†’å‡­è¯)
4. [æˆæœ¬ä¸çœŸå®æ”¶ç›Šï¼šå•ä½æˆæœ¬äº§å‡º](#æˆæœ¬ä¸çœŸå®æ”¶ç›Šå•ä½æˆæœ¬äº§å‡º)
5. [è‡ªåŠ¨åŒ–ä¸çœ‹æ¿ï¼šn8n/è„šæœ¬æ¨¡æ¿](#è‡ªåŠ¨åŒ–ä¸çœ‹æ¿n8nè„šæœ¬æ¨¡æ¿)
6. [é£é™©çŸ©é˜µä¸è§„é¿æ¸…å•](#é£é™©çŸ©é˜µä¸è§„é¿æ¸…å•)
7. [FAQ](#faq)
8. [ä¸€é¡µæ‰§è¡Œæ¸…å•](#ä¸€é¡µæ‰§è¡Œæ¸…å•)

---

## ğŸ§° å¸¸è§ä»»åŠ¡ç±»å‹ä¸æ”¶ç›Šæ˜ å°„
| ç±»å‹ | ç¤ºä¾‹åŠ¨ä½œ | è®°å½•è¯æ® | æ”¶ç›Šæ˜ å°„ |
|---|---|---|---|
| **é“¾ä¸Šäº¤äº’** | æ¡¥æ¥/å…‘æ¢/è´¨æŠ¼/æŠ•ç¥¨ | Txå“ˆå¸Œã€åŒºå—é«˜åº¦ã€æ—¶é—´ | ç§¯åˆ†â†’ç©ºæŠ•ã€ç»éªŒç­‰çº§ |
| **LP/åšå¸‚** | å°é¢ LP/æ’¤æ± /é¢†å– | åŠ å…¥/é€€å‡ºTxã€é¢†å–è®°å½• | äº¤æ˜“è´¹ã€æŒ–çŸ¿ã€ç§¯åˆ† |
| **ç¤¾äº¤/èº«ä»½** | ç»‘å®šX/Discordã€å…³æ³¨/å‘å¸– | ä»»åŠ¡æˆªå›¾ã€OAT | èµ„æ ¼é—¨æ§›ã€ç™½åå• |
| **æ²»ç†** | Snapshot/Tally æŠ•ç¥¨ | æŠ•ç¥¨é“¾æ¥æˆªå›¾ | ç”Ÿæ€ç§¯åˆ†ã€é¢å¤–æƒé‡ |
| **å¼€å‘è€…** | PR/Issue/éƒ¨ç½²Demo | PRé“¾æ¥ã€åˆçº¦åœ°å€ | Grantã€é¢å¤–ç§¯åˆ†/ç©ºæŠ• |
| **é‚€è¯·/ä»»åŠ¡å­£** | Referral/Season ä»»åŠ¡ | é‚€è¯·å…³ç³»ã€é¢æ¿æˆªå›¾ | ç§¯åˆ†å€å¢ã€ä»»åŠ¡åŠ æˆ |

---

## ğŸ” å‘ç°ä¸ç­›é€‰ï¼šä¿¡æ¯æºä¸ç™½åå•
- **å®˜æ–¹æº**ï¼šé¡¹ç›®å®˜ç½‘ã€å®˜æ–¹æ¡¥ã€Docsã€Twitter/Discordã€ä»»åŠ¡ä¸­å¿ƒï¼›  
- **èšåˆå¹³å°**ï¼šGalxeã€QuestNã€Layer3ã€Zealyã€TaskOnã€DegenScoreç­‰ï¼›  
- **ç™½åå•è§„åˆ™**ï¼š**ä»…å®˜æ–¹åŸŸå/åˆçº¦**ã€å®¡è®¡/å¤šç­¾/Timelock æ˜ç¡®ï¼›  
- **å€™é€‰æ¸…å•å­—æ®µ**ï¼šå¹³å°/é¡¹ç›®ã€é“¾ã€ä»»åŠ¡çª—å£ã€åŠ¨ä½œåˆ—è¡¨ã€é¢„è®¡ç§¯åˆ†ã€å•æ¬¡æˆæœ¬ã€é£é™©è¦ç‚¹ï¼ˆæˆæƒ/æ¡¥æ¥/æ¸…ç®—ï¼‰ã€‚

---

## ğŸ§­ æ‰§è¡ŒSOPï¼šèµ„æ ¼â†’æ‰¹é‡â†’å‡­è¯
**èµ„æ ¼ï¼ˆEligibilityï¼‰**  
- ç»‘å®š **é’±åŒ…/ç¤¾äº¤**ï¼›å®Œæˆ **åŸºç¡€äº¤äº’**ï¼ˆæ¡¥æ¥ã€DEXäº¤æ¢ã€å°‘é‡å€Ÿè´·/è´¨æŠ¼ï¼‰ï¼›  
- å°é¢å¤šæ¬¡ï¼Œè¦†ç›– **ä¸åŒæ—¶é—´æ®µ** ä¸ **å¤šç§åŠ¨ä½œ**ã€‚

**æ‰¹é‡æ‰§è¡Œï¼ˆBatchï¼‰**  
- è®¾ **å‘¨ä»»åŠ¡è¡¨**ï¼šæŒ‰é“¾/å¹³å°åˆ†ç»„ï¼›ä½è´¹æ—¶æ®µç»Ÿä¸€å¤„ç†ï¼›  
- ç»Ÿä¸€ **åœæœºé˜ˆå€¼**ï¼šGas>é˜ˆå€¼ã€å¤±è´¥ç‡>é˜ˆå€¼ã€æ·±åº¦<é˜ˆå€¼ã€é£é™©æé†’=çœŸ â†’ æš‚åœã€‚

**å‡­è¯ä¿å­˜ï¼ˆProofï¼‰**  
- æ¯é¡¹ä»»åŠ¡ä¿å­˜ **Txã€æˆªå›¾ã€æ—¶é—´ã€è´¦å·ID** åˆ°åº“ï¼ˆSupabase/Directusï¼‰ï¼›  
- å¯¹æœ‰ **OAT/NFT** çš„ï¼Œè®°å½• **åˆçº¦ä¸TokenID**ã€‚

---

## ğŸ’¸ æˆæœ¬ä¸çœŸå®æ”¶ç›Šï¼šå•ä½æˆæœ¬äº§å‡º
\`Unit ROI = (ç§¯åˆ†Ã—é¢„æœŸç©ºæŠ•ä»·å€¼ + ç›´æ¥å¥–åŠ±) / (Gas + æ‰‹ç»­è´¹ + è·¨é“¾è´¹ç”¨ + æ—¶é—´æˆæœ¬æŠ˜ç°)\`  
- **æˆæœ¬å‹ç¼©**ï¼šä½è´¹é“¾/æ—¶æ®µã€æ‰€å†…æ¢å¸ä¼˜å…ˆã€æ‰“åŒ…å¤šåŠ¨ä½œã€å‡å°‘è·¨é“¾ï¼›  
- **æ”¶ç›Šæ ¡å‡†**ï¼šå‚è€ƒå†å²åŒç±»åˆ†é…è§„åˆ™ã€ä»»åŠ¡æƒé‡ã€é“¾/åè®®ä½“é‡ä¸çƒ­åº¦ï¼›  
- **æ”¾å¼ƒæ¡ä»¶**ï¼šå½“ **Unit ROI è¿ç»­ä½äºé˜ˆå€¼** æˆ– **é£é™©ä¿¡å·è§¦å‘** â†’ åœæ­¢è¯¥çº¿è·¯ã€‚

---

## âš™ï¸ è‡ªåŠ¨åŒ–ä¸çœ‹æ¿ï¼šn8n/è„šæœ¬æ¨¡æ¿
- **è‡ªåŠ¨åŒ–**ï¼šæŠ“å–ä»»åŠ¡é¡µâ†’ç”Ÿæˆå‘¨ä»»åŠ¡è¡¨â†’æŒ‰ä½è´¹çª—å£æ‰¹é‡æ‰§è¡ŒåŸºç¡€åŠ¨ä½œâ†’å†™å…¥è¯æ®ï¼›  
- **é˜ˆå€¼å‘Šè­¦**ï¼šGas>é˜ˆå€¼ã€å¤±è´¥ç‡>é˜ˆå€¼ã€æˆæƒå¼‚å¸¸ã€æ¡¥æ¥åœ¨é€”è¶…æ—¶ï¼›  
- **çœ‹æ¿å­—æ®µ**ï¼šä»»åŠ¡â†’åœ°å€â†’è¯æ®â†’çŠ¶æ€â†’ç§¯åˆ†â†’Unit ROIâ†’åœ¨é€”é‡‘é¢â†’å¼‚å¸¸æ—¥å¿—ã€‚

---

## ğŸ›¡ï¸ é£é™©çŸ©é˜µä¸è§„é¿æ¸…å•
**é£é™©çŸ©é˜µ**
| é£é™© | å¯èƒ½æ€§ | å½±å“ | è¯´æ˜ |
|---|---|---|---|
| é’“é±¼/å‡ä»»åŠ¡ | ä¸­ | é«˜ | ä¼ªåŸŸå/æ¶æ„åˆçº¦/å‡ç©ºæŠ• |
| æˆæƒè¿‡é‡ | ä¸­ | ä¸­-é«˜ | Approve æ— é™é¢åº¦ |
| æ¡¥æ¥åœ¨é€”/å¤±è´¥ | ä½-ä¸­ | ä¸­-é«˜ | èµ„é‡‘å¡é“¾/å»¶è¿Ÿ |
| è´¦æˆ·å…³è”ä¸åˆè§„ | ä½-ä¸­ | ä¸­ | å¤šè´¦å·/åœ°åŒºé™åˆ¶ |
| æˆæœ¬å¤±æ§ | ä¸­ | ä¸­ | Gas/å¤±è´¥ç‡å¯¼è‡´ROIä¸‹æ»‘ |

**è§„é¿æ¸…å•**
- **åªèµ°å®˜æ–¹åŸŸåä¸åˆçº¦**ï¼Œç”¨ **Token Allowance ç®¡ç†å™¨** å®šæœŸ **Revoke**ï¼›  
- å°é¢åˆ†æ‰¹ï¼Œ**æ‰€å†…æ¢å¸ä¼˜å…ˆ**ï¼Œè·¨é“¾å°½é‡å°‘ï¼›  
- ç»Ÿä¸€ **åœæœºé˜ˆå€¼ä¸Kill-Switch**ï¼›  
- è¯æ®é“¾é½å…¨ï¼Œä¾¿äº **ç”³è¯‰/è¡¥å‘**ã€‚

---

## â“FAQ
**Q1ï¼šä»»åŠ¡å¾ˆå¤šï¼Œå¦‚ä½•ä¸é—æ¼ï¼Ÿ**  
> å»º **å‘¨ä»»åŠ¡è¡¨** + **å‘Šè­¦**ï¼ˆçª—å£å‰åæé†’ï¼‰ï¼›æ‰“ä¸Š **å¿…åš/å¯é€‰** æ ‡ç­¾ã€‚  
**Q2ï¼šé‡å¤å°é¢æ˜¯å¦æœ‰ç”¨ï¼Ÿ**  
> å¤šæ•°ç§¯åˆ†/èµ„æ ¼çœ‹ **æ´»è·ƒåº¦/ç•™å­˜**ï¼Œ**è·¨æ—¶é—´æ®µçš„å°é¢å¤šæ¬¡** é€šå¸¸æ›´ä¼˜ã€‚  
**Q3ï¼šå¤šè´¦å·ä¼šè¢«åˆ¤ä½œå¼Šå—ï¼Ÿ**  
> éµå®ˆé¡¹ç›®è§„åˆ™ï¼›é¿å… **åŒè®¾å¤‡/åŒIP** å¤§è§„æ¨¡åŒæ­¥æ“ä½œï¼›ä¿ç•™è¯æ®é“¾ã€‚

---

## âœ… ä¸€é¡µæ‰§è¡Œæ¸…å•
- [ ] å»º **å€™é€‰æ¸…å•ä¸å‘¨ä»»åŠ¡è¡¨**ï¼ˆå¹³å°/é“¾/åŠ¨ä½œ/çª—å£/æˆæœ¬/é£é™©ï¼‰  
- [ ] èµ„æ ¼ï¼šç»‘å®šé’±åŒ…/ç¤¾äº¤ï¼Œå®ŒæˆåŸºç¡€äº¤äº’ï¼ˆæ¡¥æ¥/å…‘æ¢/è´¨æŠ¼ï¼‰  
- [ ] æ‰¹é‡ï¼šä½è´¹æ—¶æ®µä¸€æ¬¡æ€§å¤„ç†ï¼›æ‰§è¡Œ **åœæœºé˜ˆå€¼**  
- [ ] å‡­è¯ï¼šä¿å­˜ Tx/æˆªå›¾/OAT/æ—¶é—´ï¼›å¼‚å¸¸ä¸åœ¨é€”è·Ÿè¸ª  
- [ ] å…‘ç°ï¼šç›‘æ§ **ç§¯åˆ†â†’ç©ºæŠ•/å¥–åŠ±** çª—å£ï¼Œè¯„ä¼° Unit ROI å¹¶å¤ç›˜
`,

  // ===== ä¸å‰ç«¯é€‚é…çš„æ­¥éª¤ç»“æ„ï¼ˆ5æ­¥ï¼‰ =====
  steps: [
    { step_number: 1, title: 'å‘ç°ä¸ç­›é€‰', description: 'æ”¶é›†ä»»åŠ¡æºå¹¶ç™½åå•åŒ–åŸŸå/åˆçº¦ï¼Œå»ºç«‹å€™é€‰æ¸…å•ï¼ˆå«æˆæœ¬ä¸é£é™©ï¼‰ã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ' },
    { step_number: 2, title: 'èµ„æ ¼ä¸åŸºç¡€äº¤äº’', description: 'ç»‘å®šé’±åŒ…/ç¤¾äº¤å¹¶å®Œæˆæ¡¥æ¥/å…‘æ¢/è´¨æŠ¼ç­‰åŸºç¡€åŠ¨ä½œã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ' },
    { step_number: 3, title: 'æ‰¹é‡ä¸é˜ˆå€¼', description: 'ä½è´¹æ—¶æ®µæ‰¹é‡æ‰§è¡Œï¼Œå°é¢å¤šæ¬¡ï¼›è®¾Gas/å¤±è´¥ç‡/é£é™©åœæœºé˜ˆå€¼ã€‚', estimated_time: '60â€“120 åˆ†é’Ÿ/å‘¨' },
    { step_number: 4, title: 'å‡­è¯ä¸çœ‹æ¿', description: 'è®°å½•Tx/æˆªå›¾/OATåˆ°åº“ï¼Œè¿½è¸ªç§¯åˆ†ã€Unit ROIã€åœ¨é€”ä¸å¼‚å¸¸æ—¥å¿—ã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ/å‘¨' },
    { step_number: 5, title: 'å…‘ç°ä¸å¤ç›˜', description: 'ç›‘æ§ç§¯åˆ†â†’ç©ºæŠ•çª—å£ï¼Œåˆ†æ‰¹å…‘ç°å¹¶å¤ç›˜SOPä¸ç™½åå•ã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ/å‘¨' },
  ],
};

// ===== è‡ªåŠ¨æ‰§è¡Œï¼šä¸æ—¢æœ‰æ¨¡æ¿ä¸€è‡´ =====
async function getAuthToken() {
  const response = await axios.post(`${DIRECTUS_URL}/auth/login`, {
    email: 'the_uk1@outlook.com',
    password: 'Mygcdjmyxzg2026!',
  });
  return response.data.data.access_token;
}

async function addGuide() {
  try {
    const token = await getAuthToken();

    const strategy = {
      ...GUIDE_CONFIG,
      status: 'published',
      is_featured: true,
      view_count: 0,
      bookmark_count: 0,
      published_at: new Date().toISOString(),
    };

    const response = await axios.post(
      `${DIRECTUS_URL}/items/strategies`,
      strategy,
      {
        headers: {
          Authorization: `Bearer ${token}`,
          'Content-Type': 'application/json',
        },
      },
    );

    console.log('\nâœ… ç”Ÿæ€ä»»åŠ¡ æŒ‡å—åˆ›å»ºæˆåŠŸ!');
    console.log(`   ID: ${response.data.data.id}`);
    console.log(`   Slug: ${response.data.data.slug}`);
    console.log(`   è®¿é—®: http://localhost:3000/strategies/${response.data.data.slug}\n`);
  } catch (error) {
    console.error('\nâŒ åˆ›å»ºå¤±è´¥:', error.response?.data || error.message);
  }
}

addGuide();
