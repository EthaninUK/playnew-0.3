// ç­–ç•¥ 31.3 & 31.4: æˆæœ¬ä¸æµç¨‹å¥—åˆ© (cost-process-arbitrage)

const axios = require('axios');

/**
 * 31.3 ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ©
 *
 * âš ï¸ é‡è¦è¯´æ˜ï¼šæœ¬ç­–ç•¥å†…å®¹ä»…ç”¨äºæ•™è‚²ä¸æ¡†æ¶ç¤ºä¾‹ï¼Œä¸æ„æˆä»»ä½•ç¨åŠ¡ã€æ³•å¾‹æˆ–ä¼šè®¡å»ºè®®ã€‚
 * ä»»ä½•å®é™…æ“ä½œå‰ï¼Œè¯·åŠ¡å¿…å’¨è¯¢å½“åœ°æŒç‰Œç¨åŠ¡å¸ˆ/å¾‹å¸ˆï¼Œå¹¶ä¸¥æ ¼éµå®ˆæ‰€åœ¨å¸æ³•ç®¡è¾–åŒºæ³•å¾‹æ³•è§„ã€‚
 */
const STRATEGY_31_3 = {
  title: 'ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ© - åœ¨åˆæ³•è¾¹ç•Œå†…ä¼˜åŒ–è·¨å¢ƒå‡€æ”¶ç›Š',
  slug: 'tax-compliance-cost-arbitrage',
  summary:
    'å›´ç»•ä¸åŒå›½å®¶/åœ°åŒºåœ¨åŠ å¯†èµ„äº§ç¨åˆ¶ã€åˆè§„è¦æ±‚ã€ç”³æŠ¥æˆæœ¬ã€ç›‘ç®¡å¼ºåº¦ä¸Šçš„å·®å¼‚ï¼Œæ­å»ºâ€œç¨åŠ¡ä¸åˆè§„æˆæœ¬çŸ©é˜µâ€ï¼šåœ¨åˆæ³•åˆè§„å‰æä¸‹ï¼Œé€‰æ‹©æ›´é€‚åˆä½ çš„å±…ä½åœ°ã€å®ä½“ç»“æ„ã€äº§å“å½¢æ€ä¸èµ„é‡‘è·¯å¾„ï¼Œä»è€Œåœ¨ç›¸åŒçš„æ¯›æ”¶ç›Šä¸‹ï¼Œè·å¾—æ›´é«˜çš„â€œç¨å + åˆè§„æˆæœ¬åâ€å‡€æ”¶ç›Šã€‚æ ¸å¿ƒä¸æ˜¯é€ƒç¨ï¼Œè€Œæ˜¯åšä¿¡æ¯é€æ˜ã€ç»“æ„åˆç†çš„ç¨åŠ¡ä¸åˆè§„ä¼˜åŒ–ã€‚',
  category: 'cost-process-arbitrage',
  category_l1: 'arbitrage',
  category_l2: 'cost-process-arbitrage',
  risk_level: 4,
  apy_min: 5,
  apy_max: 35,
  min_investment: 5000,
  time_commitment: 'å‰æœŸ 2-6 å‘¨æ­æ¡†æ¶ï¼Œä¹‹åæ¯å­£åº¦ 4-10 å°æ—¶ç»´æŠ¤',
  status: 'published',
  content: `# ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ© - åœ¨åˆæ³•è¾¹ç•Œå†…ä¼˜åŒ–è·¨å¢ƒå‡€æ”¶ç›Š

> âš ï¸ ä¸¥è‚ƒå…è´£å£°æ˜  
> æœ¬æ–‡æ‰€æœ‰å†…å®¹ä»…ç”¨äºæ•™è‚²ä¸ä¿¡æ¯æ•´ç†æ¼”ç¤ºï¼Œ  
> ä¸æ„æˆä»»ä½•å¸æ³•è¾–åŒºçš„æ­£å¼ç¨åŠ¡ã€æ³•å¾‹ã€ä¼šè®¡æˆ–æŠ•èµ„å»ºè®®ã€‚  
> ä»»ä½•å…·ä½“è¡ŒåŠ¨å‰ï¼Œè¯· **å¿…é¡»** å’¨è¯¢å½“åœ°æŒç‰Œä¸“ä¸šäººå£«ï¼Œ  
> å¹¶ç¡®ä¿éµå®ˆæ‰€åœ¨å›½å®¶/åœ°åŒºçš„å…¨éƒ¨é€‚ç”¨æ³•å¾‹å’Œç”³æŠ¥ä¹‰åŠ¡ã€‚  
> æœ¬ç­–ç•¥å¼ºè°ƒçš„æ˜¯ **åˆè§„ä¼˜åŒ–** ä¸ **ä¿¡æ¯é€æ˜**ï¼Œè€Œä¸æ˜¯é€ƒç¨ã€‚

---

## ğŸ’° ç­–ç•¥æ¦‚è§ˆ

| å‚æ•° | æ•°å€¼ |
|------|------|
| **é€‚ç”¨èŒƒå›´** | è·¨å¢ƒäº¤æ˜“è€…ã€é•¿æœŸæŒå¸è€…ã€DeFi/CeFi å¤æ‚ç­–ç•¥å‚ä¸è€… |
| **èµ·æ­¥è§„æ¨¡** | å»ºè®® â‰¥ $5,000ï¼ˆè¶Šå¤§è¶Šå€¼å¾—åšç³»ç»Ÿè§„åˆ’ï¼‰ |
| **æ”¶ç›Šæ¥æº** | ç¨åå‡€æ”¶ç›Šçš„æå‡ + åˆè§„æˆæœ¬çš„å‹ç¼© |
| **é¢„æœŸå¢åšæ•ˆåº”** | åŒæ ·æ¯›æ”¶ç›Šä¸‹ï¼Œé•¿æœŸå¯å¤šå‡º 5-35% çš„ç¨åå‡€å€¼ |
| **é£é™©ç­‰çº§** | âš ï¸âš ï¸âš ï¸âš ï¸ ä¸­é«˜ (4/5)ï¼ˆæ”¿ç­–é£é™© & åˆè§„é£é™©ï¼‰ |
| **éš¾åº¦ç­‰çº§** | é«˜çº§ï¼ˆååˆ¶åº¦ç†è§£ + ç»“æ„è®¾è®¡ï¼‰ |
| **é€‚åˆäººç¾¤** | æœ‰è·¨å›½è´¦æˆ·/èº«ä»½ã€æ‰“ç®—é•¿æœŸæ·±åº¦å‚ä¸ Crypto çš„ç©å®¶ |

---

## ğŸ“– å¼€åœºæ•…äº‹ï¼šåŒæ · 100,000 ç¾å…ƒæ¯›æ”¶ç›Šï¼Œç¨åå·®å‡ºä¸€è¾†è½¦

äº¤æ˜“è€… Neo å’Œ Iris ä¸€èµ·åšäº†ä¸€ç¬”è·¨å¢ƒå¥—åˆ©ç­–ç•¥ï¼š

- ä¸€å¹´æ—¶é—´ï¼Œé€šè¿‡ç¨³å®šå¸åˆ©å·® + åŸºå·®ç»„åˆï¼Œå„è‡ªè·å¾—äº†çº¦ **100,000 USD æ¯›æ”¶ç›Š**ã€‚  
- ç©æ³•å·®ä¸å¤šï¼Œèµ„é‡‘è§„æ¨¡ä¹Ÿç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº **ç¨åŠ¡ä¸åˆè§„è·¯å¾„** å®Œå…¨ä¸åŒã€‚

### Neoï¼šä¸ªäººç›´æŠ• + â€œéšç¼˜ç¨åŠ¡â€

- æ‰€åœ¨å›½ç¨åˆ¶ï¼š  
  - åŠ å¯†èµ„äº§çŸ­æœŸèµ„æœ¬åˆ©å¾—ç¨ç‡ â‰ˆ 30%  
  - æ— æ˜æ˜¾å‡å…ï¼ŒæŒ‰å½“å¹´æ”¶å…¥åˆå¹¶è®¡ç¨
- 100,000 USD æ¯›æ”¶ç›Šå…¨éƒ¨åœ¨å½“å¹´ç¡®è®¤ï¼š
  - ç†è®ºç¨é¢ â‰ˆ 30,000 USD  
- é¢å¤–æ”¯å‡ºï¼š
  - æ‰¾ä¼šè®¡å¸ˆå¸®å¿™â€œè¡¥è´¦ + å‡ºå…·æŠ¥è¡¨â€ â‰ˆ 2,000 USD

æœ€ç»ˆï¼ŒNeo çš„ç¨åå‡€æ”¶ç›Š â‰ˆ **68,000 USD**ã€‚

---

### Irisï¼šåˆè§„æ­å»ºâ€œæŠ•èµ„å®ä½“ + ç¨åŠ¡è§„åˆ’â€

Iris åœ¨ä¸€å¼€å§‹å°±å¤šåšäº†å‡ æ­¥ï¼š

1. è¯„ä¼°è‡ªå·±åœ¨ A å›½çš„ç¨åŠ¡å±…æ°‘èº«ä»½ï¼ŒåŒæ—¶åˆæ³•å–å¾— B å›½å±…ç•™ï¼š  
   - ç¡®ä¿ **ä¸ä¼šè§¦å‘åŒé‡å±…æ°‘èº«ä»½**  
   - ç¡®è®¤ A-B ä¹‹é—´æœ‰ç¨æ”¶åå®šï¼ˆDTAï¼‰

2. åœ¨ B å›½åˆè§„æ³¨å†Œä¸€ä¸ª **å°å‹æŠ•èµ„å®ä½“**ï¼ˆä¾‹å¦‚ Ltd/LLC/æœ‰é™åˆä¼™ï¼‰ï¼š  
   - Crypto äº¤æ˜“æ”¶ç›Šè®°åœ¨å…¬å¸åä¸‹  
   - å…¬å¸ç¨ç‡ â‰ˆ 15%  
   - è‹¥å½“å¹´ä¸å‘è‚¡ä¸œåˆ†çº¢ï¼Œåˆ™æš‚ä¸è§¦å‘ä¸ªäººæ‰€å¾—ç¨

3. è®¾è®¡ä¸ºï¼š  
   - å½“å¹´ä¸åˆ†çº¢ï¼Œåªåœ¨å®ä½“å†…æ»šå­˜æ”¶ç›Š  
   - å®ä½“æŒ‰ 15% å…¬å¸ç¨ç‡ä¸€æ¬¡æ€§ç¼´ç¨ï¼š

\`\`\`text
æ¯›æ”¶ç›Šï¼š100,000 USD
å…¬å¸ç¨ï¼š100,000 * 15% = 15,000 USD
å…¬å¸ç¨åå‡€æ”¶ç›Šï¼š85,000 USD
\`\`\`

4. åˆè§„æˆæœ¬ï¼š
   - ä¼šè®¡ã€æŠ¥ç¨ã€å¹´å®¡ç­‰è´¹ç”¨ â‰ˆ 3,000 USD

æ‰€ä»¥ Iris çš„ **å®ä½“å†…å¯ç»§ç»­æ»šåŠ¨çš„èµ„é‡‘ â‰ˆ 82,000 USD**ã€‚

---

### å¯¹æ¯”ï¼šåŒæ · 100k æ¯›æ”¶ç›Š

- Neoï¼šç¨åçº¦ 68,000 USD  
- Irisï¼šå®ä½“å†…æ»šå­˜çº¦ 82,000 USD  

å·®å€¼çº¦ **14,000 USD**ï¼Œè¶³å¤Ÿä¸€è¾†ä¸é”™çš„è½¦ã€‚  
è€Œä¸” Iris å…¨ç¨‹å¤„äº **å®Œå…¨åˆè§„** çŠ¶æ€ï¼Œæ²¡æœ‰ä»»ä½•â€œç°è‰²æ“ä½œâ€ã€‚

> çœŸæ­£è¢«â€œå¥—åˆ©â€çš„ï¼Œæ˜¯  
>  **ä¿¡æ¯å·® + æå‰è§„åˆ’å’Œä¸è§„åˆ’ä¹‹é—´çš„å·®è·ã€‚**

---

## ğŸ§  æ ¸å¿ƒé€»è¾‘ï¼šç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ©åœ¨åšä»€ä¹ˆï¼Ÿ

ä»ç­–ç•¥è§†è§’çœ‹ï¼ŒåŠ å¯†å¥—åˆ©çš„ **â€œæ€»å›æŠ¥â€** ä¸è¯¥åªçœ‹ï¼š

- äº¤æ˜“æ¯›æ”¶ç›Šï¼ˆPnLï¼‰

è¿˜å¿…é¡»æ‰£é™¤ï¼š

1. **ç¨è´Ÿ**ï¼š  
   - èµ„æœ¬åˆ©å¾—ç¨  
   - åˆ©æ¯/åˆ†çº¢æ‰€å¾—ç¨  
   - é¢„æç¨ç­‰  
2. **åˆè§„æˆæœ¬**ï¼š  
   - ä¼šè®¡ã€å®¡è®¡ã€æ³•å¾‹æ„è§ä¹¦  
   - æŠ¥å‘Šä¸å¤‡æ¡ˆæˆæœ¬  
   - é“¶è¡Œ/ç›‘ç®¡çš„åˆè§„é…åˆæˆæœ¬ï¼ˆææ–™ã€äººåŠ›ã€æ—¶é—´ï¼‰

ä½ çœŸæ­£èƒ½æ‹¿å»ç»§ç»­æ»šåŠ¨çš„ï¼Œæ˜¯ï¼š

\`\`\`text
ç¨å + åˆè§„æˆæœ¬åçš„å‡€æ”¶ç›Š
\`\`\`

ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ©ï¼Œå°±æ˜¯ï¼š

> åœ¨ **å®Œå…¨åˆæ³•åˆè§„** çš„å‰æä¸‹ï¼Œ  
> åˆ©ç”¨ä¸åŒå¸æ³•è¾–åŒºã€ä¸åŒç»“æ„ã€ä¸åŒç¨ç›®çš„å·®å¼‚ï¼Œ  
> è®©åŒä¸€ç¬”æ¯›æ”¶ç›Šåœ¨â€œç¨å + æˆæœ¬åâ€å°½å¯èƒ½å¤šåœ°ç•™åœ¨ä½ è¿™è¾¹ã€‚

---

## ğŸ” å­ç­–ç•¥æ‹†è§£ï¼šä¸‰å¤§æ–¹å‘

### æ¨¡å¼ Aï¼šç¨åŠ¡å±…æ°‘èº«ä»½ & å®ä½“æ³¨å†Œåœ°ä¼˜åŒ–ï¼ˆåˆè§„å‰æï¼‰

> åœ¨æ³•å¾‹å…è®¸èŒƒå›´å†…ï¼Œåˆç†é€‰æ‹©ä½ çš„ **ç¨åŠ¡å±…æ°‘åœ°** å’Œ **èµ„äº§æŒæœ‰å®ä½“æ‰€åœ¨åœ°**ã€‚

å…³é”®ç»´åº¦ï¼š

1. **ç¨åŠ¡å±…æ°‘åœ°è§„åˆ™**  
   - å±…ä½å¤©æ•° / ç»æµè”ç³» / å®¶åº­ä¸­å¿ƒ / å…¬æ°‘èº«ä»½  
   - ä¸åŒå›½å®¶å¯¹äºâ€œå…¨çƒæ”¶å…¥â€ä¸ â€œå¢ƒå†…æ¥æºæ”¶å…¥â€çš„è®¤å®šä¸åŒ

2. **å®ä½“æ³¨å†Œåœ°ç¨åˆ¶**  
   - å…¬å¸ç¨ç‡ / åˆ†çº¢ç¨ / èµ„æœ¬åˆ©å¾—ç¨  
   - æ˜¯å¦æœ‰â€œå‚ä¸å…ç¨â€â€œå¢ƒå¤–æ”¶å…¥è±å…â€ç­‰æ¡æ¬¾  
   - å¹´åº¦åˆè§„è¦æ±‚ä¸æˆæœ¬ï¼ˆè®°è´¦ã€å®¡è®¡ã€æŠ¥è¡¨ï¼‰

3. **åŒé‡ç¨æ”¶åå®šï¼ˆDTAï¼‰**  
   - æ˜¯å¦æœ‰é¿å…åŒé‡å¾ç¨çš„åå®š  
   - æŸäº›æ”¶å…¥æ˜¯å¦å¯ä»¥æŒ‰åå®šæ‰£å‡é¢„æç¨æˆ–è®¤å®šä¸ºâ€œä»…åœ¨ A å›½å¾ç¨â€

æ¨¡å¼ A åšçš„æ˜¯ï¼š

- åœ¨ä½  **çœŸå®æœ‰èƒ½åŠ›åˆæ³•å–å¾—èº«ä»½/å®ä½“** çš„å€™é€‰å›½å®¶ä¸­ï¼Œ  
- æ‰¾å‡ºç»¼åˆ \`ç¨ç‡ + åˆè§„æˆæœ¬ + ç¨³å®šæ€§\` æœ€ä¼˜çš„ç»„åˆï¼Œ  
- è€Œä¸æ˜¯â€œä¸ºäº†èŠ‚ç¨å»ä¼ªé€ èº«ä»½æˆ–å‡åœ°å€â€ã€‚

---

### æ¨¡å¼ Bï¼šæ”¶å…¥ç±»å‹ & ç¨ç›®å½’ç±»ä¼˜åŒ–

> åŒä¸€ç¬” Crypto æ”¶ç›Šï¼Œåœ¨ä¸åŒç¨åˆ¶ä¸‹ï¼Œå¯èƒ½è¢«å½’ä¸ºä¸åŒç¨ç›®ï¼š  
> â€œèµ„æœ¬åˆ©å¾— / åˆ©æ¯ / è¥ä¸šæ”¶å…¥ / ç‰¹æ®Šç±»æ”¶å…¥â€ï¼Œ  
> ç¨ç‡ä¸ç”³æŠ¥æ–¹å¼éƒ½å®Œå…¨ä¸åŒã€‚

å…¸å‹ç»´åº¦ï¼ˆç¤ºæ„ï¼‰ï¼š

- é«˜é¢‘åˆçº¦/ç°è´§äº¤æ˜“ â†’ å¯èƒ½è¢«è§†ä¸ºã€Œç»è¥æ€§ã€æˆ–ã€ŒçŸ­æœŸèµ„æœ¬åˆ©å¾—ã€  
- é•¿æœŸæŒå¸ + å¶å°”æ¢ä»“ â†’ å¯èƒ½é€‚ç”¨ã€Œé•¿æœŸèµ„æœ¬åˆ©å¾—ã€ä¼˜æƒ ç¨ç‡  
- å€Ÿè´·åˆ©æ¯ / Stablecoin ç†è´¢ â†’ å¯èƒ½æŒ‰ã€Œåˆ©æ¯æ‰€å¾—ã€è®¡ç¨  
- è´¨æŠ¼å¥–åŠ± / ç©ºæŠ• â†’ å„å›½å¤„ç†æ–¹å¼å·®å¼‚å¾ˆå¤§ï¼Œæœ‰çš„æŒ‰ã€Œæ™®é€šæ”¶å…¥ã€ï¼Œæœ‰çš„æŒ‰ã€Œèµ„æœ¬åˆ©å¾—èµ·ç‚¹ä»·å€¼ã€è®°å½•

æ¨¡å¼ B çš„å¥—åˆ©ç‚¹ï¼š

- åœ¨åˆè§„å‰æä¸‹ï¼Œé€šè¿‡è°ƒæ•´ **ç­–ç•¥ç»“æ„ + é¢‘ç‡ + æ”¶ç›Šå½¢å¼**ï¼Œ  
- è®©æ›´å¤šæ”¶ç›Šè½åœ¨å¯¹ä½ æœ€æœ‰åˆ©çš„ç¨ç›®æ¡¶é‡Œï¼ˆä¾‹å¦‚é•¿æœŸèµ„æœ¬åˆ©å¾—ï¼‰ã€‚

---

### æ¨¡å¼ Cï¼šåˆè§„æµç¨‹ & æŠ¥å‘Šæˆæœ¬ä¼˜åŒ–

> ä¸æ˜¯æ‰€æœ‰åˆè§„æˆæœ¬éƒ½æ¥è‡ªâ€œç¨â€ï¼Œå¾ˆå¤šæ¥è‡ª **æ··ä¹±**ã€‚

å¸¸è§ç—›ç‚¹ï¼š

- äº¤æ˜“ä¸€å †ï¼Œå®Œå…¨ä¸è®°è´¦ â†’ å¹´åº•äº¤ç»™ä¼šè®¡å¸ˆæ˜¯â€œä¸€é”…ç²¥â€  
  - ä¼šè®¡å¸ˆå•ä»·æ‹‰æ»¡  
  - å‡ºé”™é£é™©é«˜  
  - è‡ªå·±å‹åŠ›å·¨å¤§  

ä¼˜åŒ–æ–¹å‘ï¼š

1. **æ•°æ®ç»“æ„åŒ–**  
   - ä½¿ç”¨ Crypto ä¸“ç”¨è®°è´¦å·¥å…·æˆ–è‡ªå»ºè„šæœ¬  
   - æ‰€æœ‰äº¤æ˜“ç»Ÿä¸€å¯¼å‡ºã€åˆ†ç±»ã€æ ‡è®°æˆæœ¬ä»·ä¸æ±‡ç‡

2. **å®šæœŸå°ç»“è€Œä¸æ˜¯å¹´åº•å¤§çˆ†ç‚¸**  
   - æ¯æœˆ/æ¯å­£åº¦åšä¸€æ¬¡å°ç»“  
   - æŠŠå¤æ‚åº¦æ‹†æˆ 4 æ¬¡å°é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡å¤§çˆ†ç‚¸  

3. **é“¶è¡Œ/ç›‘ç®¡æ²Ÿé€šæ¨¡æ¿åŒ–**  
   - å‡†å¤‡å¥½æ ‡å‡†è¯´æ˜æ–‡æ¡£ï¼š  
     - èµ„é‡‘æ¥æºã€ç­–ç•¥ç±»å‹ã€èµ„é‡‘æµå‘  
   - è®©æ¯æ¬¡åˆè§„é—®è¯¢éƒ½èƒ½â€œç§’å›å¤â€ï¼Œ  
     è€Œä¸æ˜¯é‡æ–°å†™ä¸€éâ€œè®ºæ–‡â€ã€‚

---

## ğŸ› ï¸ ç¨åå‡€æ”¶ç›Šæ¨¡æ‹Ÿå™¨ï¼ˆæŠ½è±¡ç¤ºä¾‹ï¼‰

> ä»…å±•ç¤ºâ€œä¸åŒç»“æ„å¯¹åŒä¸€æ¯›æ”¶ç›Šçš„å½±å“â€ï¼Œ  
> å®é™…å‚æ•° *å¿…é¡»* ç”±ä¸“ä¸šäººå£«ç»™å‡ºã€‚

\`\`\`javascript
class AfterTaxReturnSimulator {
  constructor() {
    this.profiles = [
      {
        name: 'ä¸ªäººç›´æŠ•-é«˜é¢‘äº¤æ˜“',
        structure: 'individual',
        residence: 'Country_A',
        assumedTaxRate: 0.3, // å‡è®¾çŸ­æœŸèµ„æœ¬åˆ©å¾—ç¨ç‡ 30%
        complianceCostPerYear: 2000
      },
      {
        name: 'ä¸ªäººç›´æŠ•-ä¸­ä½é¢‘+é•¿æŒ',
        structure: 'individual',
        residence: 'Country_A',
        assumedTaxRate: 0.2, // å‡è®¾é•¿æœŸèµ„æœ¬åˆ©å¾—ç¨ç‡ 20%
        complianceCostPerYear: 1500
      },
      {
        name: 'B å›½æŠ•èµ„å®ä½“-æ»šå­˜ä¸åˆ†çº¢',
        structure: 'company',
        residence: 'Country_B',
        assumedTaxRate: 0.15, // å‡è®¾å…¬å¸ç¨ç‡ 15%
        complianceCostPerYear: 4000
      }
    ];
  }

  calcNet(grossProfit, profile) {
    const tax = grossProfit * profile.assumedTaxRate;
    const compliance = profile.complianceCostPerYear;
    const net = grossProfit - tax - compliance;

    return {
      profile: profile.name,
      grossProfit,
      tax,
      compliance,
      net,
      netRate: grossProfit > 0 ? net / grossProfit : 0
    };
  }

  demo() {
    const grossProfit = 100000;
    console.log('ğŸ“Š å‡è®¾æ¯›æ”¶ç›Š: ', grossProfit);

    this.profiles.forEach((p) => {
      const r = this.calcNet(grossProfit, p);
      console.log(
        \`- ç»“æ„: \${r.profile} | ç¨é¢=\${r.tax.toFixed(
          2
        )} | åˆè§„æˆæœ¬=\${r.compliance.toFixed(
          2
        )} | ç¨åå‡€æ”¶ç›Š=\${r.net.toFixed(
          2
        )} | å‡€ç•™å­˜æ¯”ä¾‹=\${(r.netRate * 100).toFixed(2)}%\`
      );
    });
  }
}
// ä½¿ç”¨ç¤ºä¾‹ï¼š
// const sim = new AfterTaxReturnSimulator();
// sim.demo();
\`\`\`

---

## ğŸ“Š é£æ§å‚æ•°ä¸è¾¹ç•Œè®¾å®šï¼ˆç­–ç•¥çº§ï¼‰

\`\`\`javascript
const TAX_COMPLIANCE_ARB_RISK = {
  MAX_RESTRUCTURE_BUDGET_RATIO: 0.1,   // ç»“æ„è°ƒæ•´é¢„ç®—ä¸è¶…è¿‡å‡€èµ„äº§ 10%
  MIN_EXPECTED_SAVING_RATIO: 0.05,     // æµ‹ç®—é•¿æœŸèŠ‚ç¨ <5% ä¸å€¼å¾—å¤§åŠ¨å¹²æˆˆ
  REVIEW_FREQUENCY_MONTHS: 12,         // è‡³å°‘æ¯ 12 ä¸ªæœˆå¤ç›˜ä¸€æ¬¡æ”¿ç­–ä¸ç»“æ„
  MAX_JURISDICTION_COUNT: 3,           // åŒæ—¶æ¶‰åŠçš„æ ¸å¿ƒç¨åŠ¡è¾–åŒºä¸è¶…è¿‡ 3 ä¸ª
  KEEP_RESERVE_MONTHS: 6               // ä¸ºå¯èƒ½ç¨æ¬¾ä¸åˆè§„æ”¯å‡ºé¢„ç•™ 6 ä¸ªæœˆç”Ÿæ´»è´¹
};
\`\`\`

---

## ğŸ¯ å®æˆ˜ Checklistï¼ˆç¨åŠ¡ä¸åˆè§„ä¼˜åŒ–ï¼‰

### 1ï¸âƒ£ ä¿¡æ¯æ¢³ç†

- [ ] åˆ—å‡ºä½ æ¶‰åŠçš„æ‰€æœ‰å›½å®¶/åœ°åŒºï¼ˆæŠ¤ç…§ã€å±…ç•™ã€å·¥ä½œåœ°ã€å®¶åº­æ‰€åœ¨åœ°ï¼‰  
- [ ] åˆ—å‡ºä½ æ‰€æœ‰çš„å®ä½“ä¸è´¦æˆ·ï¼šä¸ªäººè´¦æˆ· / å…¬å¸ / åˆä¼™ä¼ä¸š / ä¿¡æ‰˜ç­‰  
- [ ] åˆ—å‡ºä½ ä¸»åŠ›ç©æ³•ï¼šé«˜é¢‘ã€é•¿æŒã€å€Ÿè´·ã€ç©ºæŠ•ã€èŠ‚ç‚¹ã€åšå¸‚ç­‰  

### 2ï¸âƒ£ ä¸“ä¸šå’¨è¯¢

- [ ] è‡³å°‘æ‰¾ï¼šæœ¬å›½ç¨åŠ¡å¸ˆ + è·¨å¢ƒåˆè§„é¡¾é—®å„ 1  
- [ ] ä»¥è¡¨æ ¼å½¢å¼æŠŠä½ çš„çœŸå®æƒ…å†µç»™ä»–ä»¬çœ‹  
- [ ] è®©ä»–ä»¬å¸®ä½ å›ç­”ä¸‰ä»¶äº‹ï¼š  
  - ç°åœ¨çš„ç»“æ„ä¸‹ï¼Œæœ€åæƒ…å†µç¨è´Ÿæ˜¯å¤šå°‘ï¼Ÿ  
  - æœ‰å“ªäº› **åˆæ³•å¯é€‰** çš„ç»“æ„ï¼Ÿ  
  - æ¯ç§ç»“æ„çš„ç¨è´Ÿ + åˆè§„æˆæœ¬ + é£é™©åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

### 3ï¸âƒ£ å†³ç­–ä¸è½åœ°

- [ ] è‹¥é•¿æœŸæµ‹ç®—å¯èŠ‚çœ â‰¥ 10% ç¨åå‡€æ”¶ç›Šï¼Œè€ƒè™‘é‡æ„ï¼š  
  - åˆè§„è®¾ç«‹æŠ•èµ„å®ä½“ã€è°ƒæ•´å±…ä½æ¨¡å¼  
- [ ] ä¸ºæ¯ç§æ”¶ç›Šç±»å‹è®¾è®¡å¥½è®°è´¦ä¸å½’ç±»æ–¹å¼  
- [ ] ä¸ä¼šè®¡å¸ˆçº¦å®šï¼šæŒ‰æœˆ/å­£äº¤æ¥æ•°æ®ï¼Œè€Œä¸æ˜¯å¹´åº•çˆ†ç‚¸

### 4ï¸âƒ£ æŒç»­ç»´æŠ¤

- [ ] æ¯å­£åº¦åšä¸€æ¬¡â€œç¨åŠ¡ & åˆè§„ä½“æ£€â€å°ç»“  
- [ ] é‡åˆ°é‡å¤§æ”¿ç­–å˜åŒ–ï¼Œç¬¬ä¸€æ—¶é—´é—®ä¸“ä¸šäººå£«ï¼Œä¸è‡ªå·±çŒœ  
- [ ] ä»»ä½•è·¨å¢ƒå¤§é¢èµ„é‡‘æµï¼Œå…ˆæƒ³å¥½ï¼š  
  - å¦‚ä½•è§£é‡Šæ¥æºï¼Ÿ  
  - éœ€è¦å‡†å¤‡ä»€ä¹ˆæ–‡æ¡£ï¼Ÿ  

---

## âœ… å°ç»“

**ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ©** çš„æœ¬è´¨æ˜¯ï¼š

- æŠŠâ€œç¨ + åˆè§„â€å½“æˆçœŸå®æˆæœ¬ï¼Œè€Œä¸æ˜¯â€œå¹´æœ«æƒŠå–œâ€ï¼›  
- æ¥å—è§„åˆ™ï¼Œä½†ä¸æ”¾å¼ƒåœ¨è§„åˆ™å†…åšæœ€ä¼˜è§£ï¼›  
- ç”¨ä¸€æ¬¡æ€§çš„ç»“æ„æ€§å·¥ä½œï¼Œ  
  æ¢æ¥å¾ˆå¤šå¹´çš„â€œç¨åå‡€å€¼æå‡â€ã€‚

å½“ä½ çš„ç©æ³•ä½“é‡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œ  
è¿™ä¸€å—å¸¦æ¥çš„é•¿æœŸè¾¹é™…æ”¶ç›Šï¼Œ  
å¾€å¾€æ¯”â€œå†å¤šè–…å‡ ä¸ªç™¾åˆ†ç‚¹å¹´åŒ–â€é‡è¦å¾—å¤šã€‚  

`
};

/**
 * 31.4 æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ©
 */
const STRATEGY_31_4 = {
  title: 'æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ© - æŠŠæ¯ä¸€ç¬” Gas å’Œæ‰‹ç»­è´¹éƒ½å½“æˆâ€œå¯è–…æˆæœ¬â€',
  slug: 'withdrawal-fee-optimization-arbitrage',
  summary:
    'å›´ç»•äº¤æ˜“æ‰€æç°æ‰‹ç»­è´¹ã€ä¸åŒé“¾è·¯ Gas è´¹ç”¨ï¼ˆå¦‚ TRC20 / ERC20 / L2 / ä¾§é“¾ï¼‰ä»¥åŠå¤šè·³è·¯å¾„çš„ç»„åˆæˆæœ¬ï¼Œé€šè¿‡â€œç½‘ç»œé€‰æ‹© + æ‰¹é‡æç° + å‡ºå£é€‰æ‹©â€ç­‰æ–¹æ³•ï¼Œç³»ç»Ÿæ€§é™ä½è·¨æ‰€æ¬ç –ä¸ CEXâ†”é“¾ä¸Šè½¬è´¦çš„æ€»æˆæœ¬ï¼Œå¯¹é«˜é¢‘æ¬ç –å…šæ¥è¯´ï¼Œç›¸å½“äºå¤šäº†ä¸€æ¡ 3-15% çš„éšå½¢å¹´åŒ–å¢åšæ¥æºã€‚',
  category: 'cost-process-arbitrage',
  category_l1: 'arbitrage',
  category_l2: 'cost-process-arbitrage',
  risk_level: 2,
  apy_min: 3,
  apy_max: 15,
  min_investment: 100,
  time_commitment: 'æ¯å‘¨ 2-4 å°æ—¶ï¼ˆæ­å¥½è§„åˆ™åä¸»è¦æ˜¯æ‰§è¡Œï¼‰',
  status: 'published',
  content: `# æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ© - æŠŠæ¯ä¸€ç¬” Gas å’Œæ‰‹ç»­è´¹éƒ½å½“æˆâ€œå¯è–…æˆæœ¬â€

## ğŸ’° ç­–ç•¥æ¦‚è§ˆ

| å‚æ•° | æ•°å€¼ |
|------|------|
| **é€‚ç”¨åœºæ™¯** | é«˜é¢‘è·¨æ‰€æ¬ç –ã€CEXâ†”CEXã€CEXâ†”é“¾ä¸Šé¢‘ç¹è½¬è´¦ |
| **èµ·æ­¥è§„æ¨¡** | å‡ ç™¾ç¾å…ƒå°±å€¼å¾—ä¼˜åŒ–ï¼Œä½†è§„æ¨¡è¶Šå¤§è¶Šæ˜¾è‘— |
| **æ”¶ç›Šå½¢å¼** | é™ä½æç°æ‰‹ç»­è´¹ + é™ä½ Gas + é™ä½â€œåœ¨è·¯ä¸Šâ€æ—¶é—´æˆæœ¬ |
| **é¢„æœŸå¢åšæ•ˆæœ** | å¯¹é«˜é¢‘æ¬ç –è€…ï¼Œé•¿æœŸå¯å¤šå‡º 3-15% çš„â€œæ‘©æ“¦åå¹´åŒ–â€ |
| **é£é™©ç­‰çº§** | âš ï¸âš ï¸ è¾ƒä½-ä¸­ç­‰ (2/5) |
| **éš¾åº¦ç­‰çº§** | åˆ-ä¸­çº§ï¼ˆåè¡¨æ ¼ + æµç¨‹ + è§„åˆ™ï¼‰ |
| **é€‚åˆäººç¾¤** | æ‰€æœ‰éœ€è¦ç»å¸¸è·¨æ‰€è½¬èµ„é‡‘çš„äºº |

---

## ğŸ“– å¼€åœºæ•…äº‹ï¼šä¸€å¹´ç»™çŸ¿å·¥å’Œäº¤æ˜“æ‰€â€œæäº†å¤šå°‘â€ï¼Ÿ

æ¬ç –å…š Jason ä¸€å¹´å†…åœ¨ä¸åŒäº¤æ˜“æ‰€ä¹‹é—´æ¬ç –çº¦ 300 æ¬¡ï¼š

- æ¯æ¬¡æ“ä½œå¤§è‡´æ˜¯ï¼š  
  - åœ¨ A æ‰€ä¹°å…¥ USDT â†’ æåˆ° B æ‰€ â†’ å–æ‰/åšåˆçº¦  
- é»˜è®¤è®¾ç½®ï¼š  
  - æ°¸è¿œç”¨ ERC20 USDT æç°ï¼ˆâ€œæœ€ç†Ÿæ‚‰â€ï¼‰  
  - ä¸çœ‹æ‰‹ç»­è´¹ï¼Œä¹Ÿä¸çœ‹é“¾ä¸Š Gas

ä¸€å¹´ä¹‹åä»–ç»Ÿè®¡äº†ä¸€ä¸‹æç°è®°å½•ï¼ˆç®€åŒ–ç¤ºæ„ï¼‰ï¼š

- å•æ¬¡æç°å¹³å‡è´¹ç”¨ â‰ˆ 8 USDTï¼ˆåŒ…å«å¹³å°å›ºå®šè´¹ + Gasï¼‰  
- æç°æ¬¡æ•° â‰ˆ 300 æ¬¡  
- å¹´åº¦æç°æˆæœ¬ â‰ˆ **2,400 USDT**

åé¢ä»–è®¤çœŸåšäº†ä¸€ä¸ªæ¯”è¾ƒï¼š

- åŒæ ·è¿™å‡ å®¶äº¤æ˜“æ‰€ï¼Œå…¶å®éƒ½æ”¯æŒ TRC20 USDT æç°ï¼š  
  - æ‰‹ç»­è´¹å›ºå®š 1 USDT å·¦å³  
  - é“¾ä¸Šç¡®è®¤é€Ÿåº¦ä¹Ÿè¶³å¤Ÿæ¬ç –ä½¿ç”¨  
- éƒ¨åˆ†äº¤æ˜“æ‰€åœ¨æ´»åŠ¨æœŸé—´ï¼Œç”šè‡³æŸäº›ç½‘ç»œæç°è´¹å‡å…æˆ–éå¸¸ä½

äºæ˜¯ä»–æŠŠè‡ªå·±çš„â€œæç° SOPâ€æ”¹äº†ä¸€ä¸‹ï¼š

1. ç»å¤§å¤šæ•°è·¨æ‰€æ¬ç –ï¼Œä¼˜å…ˆä½¿ç”¨ TRC20/å…¶ä»–ä½è´¹ç½‘ç»œï¼›  
2. åªæœ‰åœ¨ç¡®å®éœ€è¦ ERC20 åŠŸèƒ½ï¼ˆå¦‚ç›´æ¥è¿›æŸä¸ª DeFi åè®®ï¼‰æ—¶ï¼Œæ‰ç”¨ ERC20ï¼›  
3. ä¸ºå¤§é¢å’Œå°é¢åˆ†åˆ«è®¾å®šä¸åŒçš„ç½‘ç»œä¼˜å…ˆçº§ã€‚

ä¸€å¹´åå†ç»Ÿè®¡ï¼š

- ä¼˜åŒ–åæç°æ¬¡æ•° â‰ˆ 320 æ¬¡  
- å•æ¬¡å¹³å‡è´¹ç”¨ â‰ˆ 2.1 USDT  
- å¹´åº¦æç°æˆæœ¬ â‰ˆ **672 USDT**

å¯¹æ¯”ï¼š

\`\`\`text
ä¼˜åŒ–å‰ï¼šçº¦ 2,400 USDT / å¹´
ä¼˜åŒ–åï¼šçº¦   672 USDT / å¹´
å·®é¢ï¼š â‰ˆ 1,700+ USDT / å¹´
\`\`\`

å¦‚æœæŠŠè¿™ 1,700 USDT æ¯å¹´ç»§ç»­æ»šå…¥ç¨³å®šæ”¶ç›Šç­–ç•¥ï¼Œ  
æ»šä¸ªå‡ å¹´å°±æ˜¯ä¸€å¤§å—â€œå‡­ç©ºå¤šå‡ºæ¥çš„èµ„é‡‘â€ã€‚

> çœŸæ­£è¢«å¥—åˆ©çš„ï¼Œæ˜¯â€œä¹ æƒ¯ + æ‡’å¾—ç®—â€è¿™ä»¶äº‹ã€‚

---

## ğŸ§  æ ¸å¿ƒé€»è¾‘ï¼šæç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ©è¦å¹²å˜›ï¼Ÿ

æœ¬è´¨ä¸Šï¼Œè¿™ä¸æ˜¯åœ¨èµŒè¡Œæƒ…ï¼Œè€Œæ˜¯åœ¨åšï¼š

> **æ‘©æ“¦æˆæœ¬æœ€å°åŒ–**ã€‚

å¯¹é«˜é¢‘ / ä¸­é¢‘è·¨æ‰€æ¬ç –å’Œ CEXâ†”é“¾ä¸Šçš„å¤§æˆ·æ¥è¯´ï¼š

- ä½ åƒçš„æ˜¯â€œä»·å·®â€å’Œâ€œç»“æ„æ€§æœºä¼šâ€ï¼›  
- åŒæ—¶ä¹Ÿåœ¨ä¸æ–­ä»˜å‡ºâ€œæ‘©æ“¦æˆæœ¬â€ï¼š  
  - æç°è´¹  
  - Gas  
  - æ—¶é—´ä¸é£æ§å»¶è¿Ÿ  

åªè¦ä½ ï¼š

1. æŠŠæ‰€æœ‰æç°è·¯å¾„ä¸è´¹ç”¨ç»“æ„ç”»æ¸…æ¥šï¼›  
2. å¯¹ä¸åŒèµ„äº§ä¸é‡‘é¢è®¾å®šä¸€å¥—**ç½‘ç»œé€‰æ‹©è§„åˆ™**ï¼›  
3. å°½é‡ç”¨è„šæœ¬/è¡¨æ ¼å¸®åŠ©å†³ç­–ï¼Œ

é‚£ä¹ˆï¼Œä½ å°±ç­‰äºç»™è‡ªå·±åŠ äº†ä¸€å±‚ï¼š

> â€œåœ¨ä¸å¢åŠ ä»»ä½•å¸‚åœºé£é™©çš„å‰æä¸‹ï¼Œæé«˜å‡€æ”¶ç›Šç‡â€çš„è¢«åŠ¨ BUFFã€‚

---

## ğŸ” æˆæœ¬æ‹†åˆ†ï¼šä¸€æ¬¡æç°ç©¶ç«ŸåŒ…å«å“ªäº›è´¹ç”¨ï¼Ÿ

ä»¥â€œä» CEX_A æç° USDT åˆ° CEX_Bâ€ä¸ºä¾‹ï¼ŒçœŸå®æˆæœ¬å¯èƒ½æ˜¯ï¼š

1. **äº¤æ˜“æ‰€æç°è´¹**  
   - å›ºå®šé¢åº¦ï¼ˆå¦‚ 1 USDT / 5 USDT / 10 USDT / æ¯ç¬”ï¼‰  
   - æˆ–éšç½‘ç»œåŠ¨æ€è°ƒæ•´  

2. **é“¾ä¸Š Gas è´¹**  
   - æœ‰çš„ç›´æ¥å‘ä½ æ”¶ï¼Œæœ‰çš„åŒ…å«åœ¨å›ºå®šæç°è´¹é‡Œ  
   - å–å†³äºç½‘ç»œï¼šETH L1 / L2 / TRON / BSC / Solana ç­‰  

3. **å¤±è´¥ / å¡ä½çš„éšæ€§æˆæœ¬**  
   - æ‰‹ç»­è´¹è¿‡ä½ â†’ çŸ¿å·¥è¿Ÿè¿Ÿä¸æ‰“åŒ…  
   - é“¾ä¸Šå µè½¦ â†’ ç­‰åŠå¤©æ‰ç¡®è®¤ â†’ é”™è¿‡å¥—åˆ©çª—å£  

4. **æ—¶é—´ä¸æœºä¼šæˆæœ¬**  
   - åœ¨èµ„é‡‘â€œé£è¡Œæ—¶é—´â€å†…ï¼Œä½ æ— æ³•ä½¿ç”¨è¿™ç¬”é’±å»åšå…¶å®ƒç­–ç•¥  
   - è‹¥å¤šæ¬¡åˆ†æ•£æç°ï¼Œä¼šè®©å¤§é‡èµ„é‡‘é•¿æœŸå¤„äºåŠé—²ç½®çŠ¶æ€  

**æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ©** å°±æ˜¯æŠŠè¿™äº›å…¨éƒ¨è§†ä¸ºâ€œå¯ä»¥ä¼˜åŒ–çš„å‚æ•°â€ã€‚

---

## ğŸ§© å­ç­–ç•¥æ‹†è§£ï¼šä¸‰ç§ä¸»è¦ç©æ³•

### æ¨¡å¼ Aï¼šå¤šç½‘ç»œ USDT/USDC æç°è·¯å¾„ä¼˜åŒ–

> åœ¨ TRC20 / ERC20 / BSC / Arbitrum / Optimism / Solana ç­‰å¤šæ¡é“¾ä¹‹é—´ï¼Œ  
> ä¸ºæ¯ä¸€ç§â€œèµ„é‡‘è¿ç§»ç›®çš„â€é€‰æ‹©æœ€ä¼˜ç½‘ç»œã€‚

å…¸å‹å†³ç­–ç»´åº¦ï¼š

- å•ç¬”æç°é‡‘é¢  
- æºäº¤æ˜“æ‰€ä¸ç›®æ ‡äº¤æ˜“æ‰€æ”¯æŒçš„ç½‘ç»œé›†åˆ  
- å½“å‰è¿™äº›ç½‘ç»œçš„æç°è´¹ä¸é“¾ä¸Šæ‹¥å µæƒ…å†µ  
- èµ„é‡‘æœ€ç»ˆç”¨é€”ï¼š  
  - åªæ˜¯è·¨æ‰€æ¬ç –ï¼Ÿ  
  - è¿˜æ˜¯è¦è½åœ°æŸæ¡ç‰¹å®šé“¾çš„ DeFiï¼Ÿ  

**ç¤ºä¾‹è§„åˆ™ï¼ˆç¤ºæ„ï¼‰ï¼š**

- å¦‚æœæ˜¯ CEX_A â†’ CEX_B ä¹‹é—´çº¯æ¬ç –ï¼š  
  - åŒæ–¹éƒ½æ”¯æŒ TRC20 â†’ ä¼˜å…ˆ TRC20ï¼ˆå¤šä¸º 0.8-1 USDT å›ºå®šï¼‰  
  - è‹¥ TRC20 ä¸´æ—¶é£æ§/ç»´æŠ¤ â†’ å¤‡é€‰ BSC/L2  
- å¦‚æœæœ€ç»ˆè¦åœ¨ ETH DeFi é‡Œä½¿ç”¨ï¼š  
  - æ¯”è¾ƒä¸¤ç§è·¯å¾„çš„ç»¼åˆæˆæœ¬ï¼š  
    - ç›´æ¥ ERC20 æç°  
    - TRC20 æç° â†’ å¦ä¸€æ‰€æˆ–æ¡¥æ¥ â†’ ERC20  
  - å¤§é¢æ—¶ï¼Œå¯èƒ½ç›´æ¥ ERC20 æ›´ç®€å•ã€æ›´å®‰å…¨  
  - å°é¢æ—¶ï¼Œå¤šè·³è·¯å¾„å¯èƒ½åè€Œæ›´åˆ’ç®—

---

### æ¨¡å¼ Bï¼šæç°æ‰¹é‡åŒ–ä¸åˆå¹¶

> é™ä½â€œæ¬¡æ•° Ã— å•æ¬¡å›ºå®šæˆæœ¬â€çš„è¿ä¹˜æ•ˆåº”ã€‚

å¾ˆå¤šäººï¼š

- æ¯èµšä¸€å°ç¬”å°±æä¸€æ¬¡ï¼Œ  
- æˆ–ä¸åŒå¸ç§é›¶é›¶æ•£æ•£åœ°é¢‘ç¹æèµ°ã€‚

ä¼˜åŒ–æ€è·¯ï¼š

1. ä¸ºè‡ªå·±è®¾å®š **æœ€ä½æç°é¢åº¦ä¸é¢‘ç‡**ï¼š

   - å•æ¬¡æç°è´¹ / é‡‘é¢ â‰¤ æŸä¸ªé˜ˆå€¼ï¼ˆå¦‚ 0.1%ï¼‰æ‰æ‰§è¡Œ  
   - è‹¥é‡‘é¢å¤ªå°ï¼Œå°±å…ˆåœ¨å¹³å°å†…æ»šåŠ¨æˆ–é›†ä¸­åˆ°ä¸‹æ¬¡å†æ  

2. åˆå¹¶å¤šç¬”å°é¢åˆ°ä¸€ç¬”ä¸­ç­‰è§„æ¨¡æç°ï¼š

   - å°¤å…¶æ˜¯æç°è´¹ä¸ºå›ºå®šé‡‘é¢æ—¶ï¼Œåˆå¹¶æ•ˆæœå°¤å…¶æ˜æ˜¾  
   - æ³¨æ„ä¸è¦å› æ­¤åœ¨å¹³å°é‡Œå½¢æˆè¿‡å¤§çš„å¯¹æ‰‹é£é™©æš´éœ² â†’ éœ€è¦å¹³è¡¡

---

### æ¨¡å¼ Cï¼šè·¨å¹³å°â€œå‡ºå£é€‰æ‹©â€å¥—åˆ©

> ä¸åŒäº¤æ˜“æ‰€å¯¹åŒä¸€ç½‘ç»œçš„æç°è´¹ä¸åŒï¼Œ  
> ä½ å¯ä»¥æŠŠâ€œèµ„é‡‘å‡ºå£â€æ”¾åœ¨æ›´ä¾¿å®œçš„ä¸€å¤´ã€‚

åœºæ™¯ç¤ºæ„ï¼š

- ä½ åœ¨ A/B/C ä¸‰ä¸ªæ‰€éƒ½æœ‰ USDT  
- ä¸‰å®¶çš„æç°è´¹å¤§è‡´å¦‚ä¸‹ï¼ˆTRC20/ ERC20ï¼‰ï¼š

  | æ‰€ | TRC20 | ERC20 |
  |----|-------|-------|
  | A  | 1.0   | 8.0   |
  | B  | 0.8   | 12.0  |
  | C  | 3.0   | 5.0   |

è‹¥ä½ æƒ³æ 20,000 USDT å‡ºå»åˆ°é“¾ä¸Šï¼š

- ç›´æ¥ä» A æ‰€ TRC20 æï¼š  
  - æˆæœ¬ 1 USDT  
- ç›´æ¥ä» C æ‰€ ERC20 æï¼š  
  - æˆæœ¬ 5 USDT  
- å¦‚æœä½ åˆšå¥½åœ¨ C æ‰€æœ‰å¾ˆå¤š USDTï¼Œåœ¨ A æ‰€å¾ˆå°‘ï¼š  
  - å¯ä»¥å…ˆåœ¨æ‰€å†…åšä¸€å°ç¬”äº¤æ˜“/åˆ’è½¬ï¼š  
    - æŠŠ C æ‰€éƒ¨åˆ† USDT æ¢æˆ BTC/ETH â†’ è½¬åˆ° A â†’ å†åœ¨ A æ‰€æ¢å› USDT â†’ TRC20 æç°  
  - éœ€è¦å¯¹æ¯”æ•´æ¡é“¾è·¯çš„æ€»æˆæœ¬ï¼ˆä»·å·® + æ‰‹ç»­è´¹ + é£é™©ï¼‰  
  - ä½†å¾ˆå¤šæ—¶å€™ï¼Œâ€œå¤šè·³ + ä½è´¹ç½‘ç»œâ€ç¡®å®æ¯”â€œå•è·³é«˜è´¹ç½‘ç»œâ€åˆ’ç®—

---

## ğŸ› ï¸ æç°ç½‘ç»œ & æ‰‹ç»­è´¹æ‰«æè„šæœ¬ç¤ºä¾‹

ä¸‹é¢æ˜¯ä¸€ä¸ªæç®€çš„â€œæç°è´¹ç”¨æ‰«æå™¨â€ç¤ºä¾‹ï¼š

\`\`\`javascript
class WithdrawalFeeScanner {
  constructor() {
    // ç¤ºä¾‹è´¹ç‡è¡¨ï¼ŒçœŸå®ä½¿ç”¨ä¸­å»ºè®®ä»é…ç½®æ–‡ä»¶/æ¥å£åŠ¨æ€è·å–
    this.feeTable = [
      { exchange: 'CEX_A', asset: 'USDT', network: 'TRC20', fee: 1.0 },
      { exchange: 'CEX_A', asset: 'USDT', network: 'ERC20', fee: 8.0 },
      { exchange: 'CEX_B', asset: 'USDT', network: 'TRC20', fee: 0.8 },
      { exchange: 'CEX_B', asset: 'USDT', network: 'ERC20', fee: 12.0 },
      { exchange: 'CEX_C', asset: 'USDT', network: 'TRC20', fee: 3.0 },
      { exchange: 'CEX_C', asset: 'USDT', network: 'ERC20', fee: 5.0 }
    ];
  }

  findOptions(exchange, asset, amount) {
    const candidates = this.feeTable.filter(
      (row) => row.exchange === exchange && row.asset === asset
    );

    return candidates.map((c) => {
      const effectiveRate = amount > 0 ? c.fee / amount : 0;
      return { ...c, amount, effectiveRate };
    });
  }

  demo() {
    const exchange = 'CEX_A';
    const asset = 'USDT';
    const amount = 1000;

    console.log(
      \`ğŸ“¤ æ¨¡æ‹Ÿä» \${exchange} æç° \${amount} \${asset} çš„è´¹ç”¨å¯¹æ¯”:\`
    );

    const options = this.findOptions(exchange, asset, amount).sort(
      (a, b) => a.fee - b.fee
    );

    options.forEach((o) => {
      console.log(
        \`- ç½‘ç»œ: \${o.network} | æç°è´¹=\${o.fee} \${o.asset} | æœ‰æ•ˆè´¹ç‡=\${(
          o.effectiveRate * 100
        ).toFixed(3)}%\`
      );
    });
  }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼š
// const scanner = new WithdrawalFeeScanner();
// scanner.demo();
\`\`\`

---

## ğŸ“Š é£æ§å‚æ•°ä¸å®è·µå»ºè®®

\`\`\`javascript
const WITHDRAWAL_OPT_ARB_RISK = {
  MAX_EXTRA_HOP_RATIO: 0.003,     // è‹¥å¤šä¸€è·³çš„é¢å¤–æˆæœ¬ > 0.3%ï¼Œå°±ä¸ä¸ºäº†çœå°é’±ç»•è¿œè·¯
  MIN_SAVING_PER_ACTION: 1.0,     // å•æ¬¡ä¼˜åŒ–è‡³å°‘èŠ‚çœ 1 USDTï¼Œä½äºè¿™ä¸ªè§†ä¸ºâ€œæ²¡å¿…è¦â€
  MAX_PENDING_TRANSFERS: 5,       // åŒæ—¶åœ¨è·¯ä¸Šçš„è·¨é“¾/æç°ä¸è¶…è¿‡ 5 ç¬”ï¼Œæ–¹ä¾¿è¿½è¸ª
  PREFER_MAINNET_FOR_LARGE: 20000,// å•ç¬” >20k æ—¶ï¼Œä¼˜å…ˆå®‰å…¨æ€§æ›´é«˜çš„ä¸»æµç½‘ç»œ
  DAILY_TIME_BUDGET_MIN: 20       // æ¯å¤©ä¸ºâ€œçœæ‰‹ç»­è´¹â€èŠ±çš„æ—¶é—´ä¸è¶…è¿‡ 20 åˆ†é’Ÿ
};
\`\`\`

---

## ğŸ¯ å®æˆ˜ Checklistï¼ˆæç°è´¹ç”¨ä¼˜åŒ–ï¼‰

### 1ï¸âƒ£ æ•°æ®ç›˜ç‚¹

- [ ] åˆ—å‡ºä½ å¸¸ç”¨çš„æ‰€æœ‰äº¤æ˜“æ‰€  
- [ ] å¯¹æ¯ä¸ªäº¤æ˜“æ‰€ï¼Œæ•´ç†ï¼š  
  - USDT/USDC/BTC/ETH åœ¨å„ç½‘ç»œçš„æç°è´¹  
  - æç°é™é¢ä¸é€Ÿåº¦ï¼ˆé€šå¸¸å‡ åˆ†é’Ÿè¿˜æ˜¯å‡ å°æ—¶ï¼‰  
  - æ˜¯å¦æœ‰å…æ‰‹ç»­è´¹ / é™æ—¶ä¼˜æƒ æ´»åŠ¨  

### 2ï¸âƒ£ åˆ¶å®šè§„åˆ™

- [ ] æŒ‰é‡‘é¢åŒºé—´è®¾è®¡ â€œç½‘ç»œä¼˜å…ˆçº§â€ï¼š  

  - \`< \$1,000\`ï¼šæ‰‹ç»­è´¹ç»å¯¹å€¼ä¼˜å…ˆï¼ˆèƒ½çœ 5 USDT å°±å¾ˆå…³é”®ï¼‰  
  - \`1k - 20k\`ï¼šæœ‰æ•ˆè´¹ç‡ä¼˜å…ˆï¼ˆæ§åˆ¶åœ¨ 0.1-0.2% åŒºé—´ï¼‰  
  - \`> 20k\`ï¼šå®‰å…¨ä¸å®¡æŸ¥ä¼˜å…ˆï¼ˆå³ä¾¿è´µä¸€ç‚¹ï¼Œä¹Ÿè¦ä¸Šæ›´â€œç¨³â€çš„ç½‘ç»œï¼‰

- [ ] å¯¹äºé¢‘ç¹æ¬ç –çš„æ ‡çš„ï¼ˆå¦‚ USDT/USDCï¼‰ï¼š  
  - æ˜ç¡®ä½ çš„â€œé»˜è®¤ç½‘ç»œâ€ï¼ˆä¾‹å¦‚ TRC20ï¼‰  
  - æ˜ç¡®ä½ çš„â€œç‰¹æ®Šç½‘ç»œåœºæ™¯â€ï¼ˆä¾‹å¦‚åªæœ‰ DeFi ç”¨ ERC20ï¼‰

### 3ï¸âƒ£ å·¥å…·åŒ–æ‰§è¡Œ

- [ ] æŠŠæç°è§„åˆ™å†™è¿›ä¸€ä¸ªå°è„šæœ¬ / Notion æ¨¡æ¿ / Excelï¼š  
  - è¾“å…¥ï¼šäº¤æ˜“æ‰€ã€èµ„äº§ã€é‡‘é¢ã€ç”¨é€”  
  - è¾“å‡ºï¼šæ¨èç½‘ç»œ + é¢„è®¡æˆæœ¬ + æœ‰æ•ˆè´¹ç‡  
- [ ] æ¯æ¬¡è·¨æ‰€å¤§é¢è½¬è´¦å‰ï¼Œå…ˆè·‘ä¸€éâ€œå†³ç­–å™¨â€ï¼Œä¸è¦å‡­æ„Ÿè§‰é€‰ã€‚

### 4ï¸âƒ£ è®°å½•ä¸å¤ç›˜

- [ ] è®°å½•æ¯æ¬¡æç°ï¼š  
  - å®é™…è´¹ç”¨ã€åˆ°è´¦æ—¶é—´ã€ç½‘ç»œé€‰æ‹©  
  - æ˜¯å¦å‡ºç°æ‹¥å µã€å¤±è´¥ã€äººå·¥å®¡æ ¸  
- [ ] æ¯æœˆ/æ¯å­£åº¦åšä¸€æ¬¡æ±‡æ€»ï¼š  
  - å“ªäº›ç½‘ç»œ/é€šé“æœ€ç¨³å®šã€æ€§ä»·æ¯”æœ€é«˜  
  - å“ªäº›ç»„åˆç»å¸¸å‡ºé—®é¢˜ â†’ é™çº§æˆ–æ‹‰é»‘  

---

## âœ… å°ç»“

**æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ©** çœ‹èµ·æ¥åªæ˜¯â€œçœå°é’±â€ï¼Œä½†å¯¹çœŸæ­£é«˜é¢‘çš„ç©å®¶æ¥è¯´ï¼š

- è¿™äº›â€œçœä¸‹æ¥çš„å°é’±â€ = ç¨³å®šã€æ— é£é™©ã€å¯å¤åˆ©çš„å¢é‡ï¼›  
- ä½ ä¸éœ€è¦é¢å¤–æ‰¿æ‹…æ³¢åŠ¨å’Œæ¸…ç®—é£é™©ï¼›  
- åªæ˜¯åœ¨èµ„é‡‘â€œè·¯ç”±é€‰æ‹©â€ä¸Šï¼Œæ¯”åˆ«äººå¤šçœ‹äº†ä¸€çœ¼ã€‚

å½“ä½ æŠŠè¿™ä¸€å—ä¹Ÿçº³å…¥ **æˆæœ¬ä¸æµç¨‹å¥—åˆ© (cost-process-arbitrage)** å¤§æ¡†æ¶ä¸­ï¼Œ  
ä½ ä¼šå‘ç°ï¼š

> åŒæ ·æ˜¯è·¨æ‰€æ¬ç –ï¼Œæœ‰äººä¸€å¹´æå‡ºå‡ åƒ U ä¹° Gas å’Œæ‰‹ç»­è´¹ï¼Œ  
> è€Œä½ ä¸€å¹´å¤šå‡ºæ¥çš„ï¼Œ  
> åˆ™æ˜¯ä¸€æ¡å®‰é™ä½†æŒç»­çš„â€œæ— é£é™©æ”¶ç›Šæ›²çº¿â€ã€‚

`
};

/**
 * ä¸Šä¼  31.3 å’Œ 31.4 ç­–ç•¥åˆ° Directus
 */
async function uploadStrategies() {
  const DIRECTUS_URL = 'http://localhost:8055';

  console.log('å¼€å§‹ä¸Šä¼ ç­–ç•¥ 31.3 å’Œ 31.4...\n');

  try {
    const { execSync } = require('child_process');
    const tokenOutput = execSync('./get-new-directus-token.sh').toString();
    const tokenMatch = tokenOutput.match(/DIRECTUS_ADMIN_TOKEN=(.+)/);

    if (!tokenMatch) {
      throw new Error('Failed to get admin token');
    }

    const ADMIN_TOKEN = tokenMatch[1].trim();

    const headers = {
      Authorization: `Bearer ${ADMIN_TOKEN}`,
      'Content-Type': 'application/json'
    };

    // ä¸Šä¼ ç­–ç•¥ 31.3
    console.log('ä¸Šä¼ ç­–ç•¥ 31.3: ç¨åŠ¡ä¸åˆè§„æˆæœ¬å·®å¥—åˆ©...');
    await axios.post(`${DIRECTUS_URL}/items/strategies`, STRATEGY_31_3, {
      headers
    });
    console.log('âœ… ç­–ç•¥ 31.3 ä¸Šä¼ æˆåŠŸ\\n');

    // ä¸Šä¼ ç­–ç•¥ 31.4
    console.log('ä¸Šä¼ ç­–ç•¥ 31.4: æç°è´¹ç”¨ä¼˜åŒ–å¥—åˆ©...');
    await axios.post(`${DIRECTUS_URL}/items/strategies`, STRATEGY_31_4, {
      headers
    });
    console.log('âœ… ç­–ç•¥ 31.4 ä¸Šä¼ æˆåŠŸ\\n');

    const response = await axios.get(
        `${DIRECTUS_URL}/items/strategies?limit=1&meta=total_count`,
      { headers }
    );
    console.log(
      `âœ… æ•°æ®åº“ä¸­ç°æœ‰ç­–ç•¥æ€»æ•°: ${response.data.meta.total_count}`
    );
  } catch (error) {
    console.error('âŒ ä¸Šä¼ å¤±è´¥:', error.response?.data || error.message);
    process.exit(1);
  }
}

// è‹¥éœ€è¦ç›´æ¥åœ¨ Node ä¸­è¿è¡Œæœ¬æ–‡ä»¶å†™å…¥ç­–ç•¥ï¼Œä¿æŒä¸ 31-1/31-2 ä¸€è‡´ï¼Œç›´æ¥æ‰§è¡Œï¼š
uploadStrategies();
