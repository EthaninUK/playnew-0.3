// ç­–ç•¥ 34.3 & 34.4: è¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies) - ç½‘æ ¼äº¤æ˜“ (Grid Trading æ‰©å±•ç¯‡)

const axios = require('axios');

/**
 * 34.3 æ— é™ç½‘æ ¼ç­–ç•¥ï¼ˆInfinity / Trending Gridï¼‰
 *
 * ä¸€çº§åˆ†ç±»: è¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies)
 * category_l1: derivatives
 * category: grid-trading
 * category_l2: grid-trading
 *
 * æ ¸å¿ƒï¼šä¸è®¾å›ºå®šä¸Šä¸‹è¾¹ç•Œï¼Œæ›´å¤šæ˜¯â€œå›´ç»•å½“å‰ä»·æ ¼å‘ä¸Šæˆ–å‘ä¸‹æŒç»­é“ºç½‘æ ¼â€ï¼Œ
 *       å€ŸåŠ©è¶‹åŠ¿ä¸æ³¢åŠ¨çš„å åŠ ï¼Œåœ¨å•è¾¹æˆ–é˜¶æ¢¯å¼è¶‹åŠ¿ä¸­æŒç»­æ»šåŠ¨è·åˆ©ã€‚
 */
const STRATEGY_34_3 = {
  title:
    'æ— é™ç½‘æ ¼ç­–ç•¥ - ä¸è®¾ä»·æ ¼ä¸Šä¸‹é™ï¼Œåœ¨è¶‹åŠ¿ä¸éœ‡è¡å åŠ ä¸­æŒç»­æ»šåŠ¨ç›ˆåˆ©',
  slug: 'infinity-grid-trend-following',
  summary:
    'æ— é™ç½‘æ ¼ï¼ˆInfinity Grid / Trend-following Gridï¼‰åŒºåˆ«äºä¼ ç»Ÿâ€œå›ºå®šåŒºé—´ç½‘æ ¼â€ï¼Œä¸å†å¼ºåˆ¶è®¾å®šä¸Šé™ä¸ä¸‹é™ï¼Œè€Œæ˜¯å›´ç»•å½“å‰ä»·æ ¼ä¸æ–­â€œå‘ä¸Š/å‘ä¸‹æ‰©å±•â€ç½‘æ ¼ã€‚ä»·æ ¼è¶Šå¾€è¶‹åŠ¿æ–¹å‘èµ°ï¼Œç½‘æ ¼è¶Šéšä¹‹ç§»åŠ¨ä¸é‡æ„ï¼Œç›®æ ‡æ˜¯åœ¨è¶‹åŠ¿è¡Œæƒ…ä¸­æ—¢èƒ½äº«å—æŒä»“æµ®ç›ˆï¼Œåˆèƒ½é€šè¿‡é˜¶æ¢¯å¼ä½ä¹°é«˜å–æŒç»­é”å®šåˆ©æ¶¦ã€‚é€‚åˆå¯¹è¶‹åŠ¿è¡Œæƒ…æœ‰åŸºæœ¬åˆ¤æ–­ã€æ„¿æ„æ¥å—å›æ’¤ã€å¹¶ç†è§£ç½‘æ ¼æœ¬è´¨çš„ç©å®¶ã€‚',
  category: 'grid-trading',
  category_l1: 'derivatives',
  category_l2: 'grid-trading',
  risk_level: 4,
  apy_min: 10,
  apy_max: 60,
  min_investment: 1000,
  time_commitment:
    'å‰æœŸ 1-3 å¤©ç†è§£ä¸é…ç½®ç­–ç•¥é€»è¾‘ï¼Œè¿è¡ŒæœŸé—´éœ€å®šæœŸï¼ˆæ¯å‘¨/æ¯æœˆï¼‰æ£€æŸ¥å¹¶è§†è¶‹åŠ¿è¿ç§»è°ƒæ•´å‚æ•°',
  status: 'published',
  content: `# 34.3 æ— é™ç½‘æ ¼ç­–ç•¥ - ä¸è®¾ä»·æ ¼ä¸Šä¸‹é™ï¼Œåœ¨è¶‹åŠ¿ä¸éœ‡è¡å åŠ ä¸­æŒç»­æ»šåŠ¨ç›ˆåˆ©

> âš ï¸ é£é™©æ€»è§ˆ  
> - æ— é™ç½‘æ ¼ä¸æ˜¯â€œæ°¸ä¸çˆ†ä»“â€çš„é­”æ³•ï¼Œæ›´ä¸æ˜¯æ— è„‘è·Ÿæ¶¨ç¥å™¨ï¼›  
> - å’Œæ™®é€šç½‘æ ¼ä¸€æ ·ï¼Œæœ¬è´¨ä»ç„¶æ˜¯**è§„åˆ™åŒ–ä½ä¹°é«˜å– + æŒä»“è¿‡å¤œ**ï¼›  
> - å¦‚æœè¶‹åŠ¿åå‘æˆ–å‡ºç°é•¿å‘¨æœŸåè¶‹åŠ¿ï¼Œå¤§æ¦‚ç‡ä¼šç»å†æ˜¾è‘—å›æ’¤ç”šè‡³é•¿æœŸå¥—ç‰¢ï¼›  
> - éœ€è¦æå‰æ¥å—â€œä¸¤ä»¶äº‹â€ï¼š  
>   1. ç›ˆåˆ©æ¥è‡ªâ€œé˜¶æ¢¯å¼æ”¶å‰²è¶‹åŠ¿ä¸­çš„æ³¢åŠ¨â€ï¼›  
>   2. ä»£ä»·æ˜¯â€œåœ¨è¶‹åŠ¿åè½¬æˆ–è¶…é¢„æœŸæš´è·Œæ—¶ï¼Œæ‰¿å—è´¦é¢æµ®äºä¸æ—¶é—´æˆæœ¬â€ã€‚  

---

## ğŸ’° ç­–ç•¥æ¦‚è§ˆ

| ç»´åº¦              | å†…å®¹è¯´æ˜ |
|-------------------|----------|
| **åº•å±‚æ ‡çš„**      | ä¸»æµå¸ï¼ˆBTC/ETH ç­‰ï¼‰ï¼Œéƒ¨åˆ†æµåŠ¨æ€§å¥½ã€è¶‹åŠ¿æ€§å¼ºçš„å±±å¯¨å¸ |
| **ç­–ç•¥ç±»å‹**      | è¶‹åŠ¿ç½‘æ ¼ / æ— é™ç½‘æ ¼ï¼ˆInfinity Grid / Trend-following Gridï¼‰ |
| **æ ¸å¿ƒç‰¹å¾**      | ä¸è®¾å›ºå®šä¸Šä¸‹ç•Œï¼Œç½‘æ ¼ä¼šéšä»·æ ¼/è¶‹åŠ¿åŠ¨æ€æ‰©å±•æˆ–é‡æ„ |
| **æ”¶ç›Šæ¥æº**      | è¶‹åŠ¿æ–¹å‘æŒä»“æµ®ç›ˆ + ä»·æ ¼é˜¶æ¢¯æ³¢åŠ¨å¸¦æ¥çš„å·®ä»·æ”¶ç›Š |
| **å…³é”®å‰æ**      | æ ‡çš„å­˜åœ¨ä¸­é•¿æœŸè¶‹åŠ¿ + è¿‡ç¨‹ä¸­æœ‰è¶³å¤Ÿçš„é˜¶æ¢¯æ³¢åŠ¨ |
| **ä¸»è¦é£é™©**      | è¶‹åŠ¿åè½¬ã€è¶…çº§å›è°ƒã€è¶‹åŠ¿è€—å°½ã€æ“ä½œæˆ–æœºå™¨äººç­–ç•¥å¤±æ•ˆ |
| **é€‚ç”¨äººç¾¤**      | å·²ç»ç†è§£ä¼ ç»Ÿç½‘æ ¼åŸç†ï¼Œä¸”å…·å¤‡ä¸€å®šè¶‹åŠ¿è®¤çŸ¥ä¸é£é™©æ‰¿å—åŠ›çš„ç©å®¶ |

---

## ğŸ“– åœºæ™¯æ•…äº‹ï¼šä»â€œåŒºé—´æ”¶å‰²â€åˆ°â€œæ­é¡ºé£è½¦æ”¶å‰²â€

### ä¼ ç»Ÿç½‘æ ¼ï¼šç”»ä¸€ä¸ªâ€œä»·æ ¼ç¬¼å­â€

åœ¨ 34.1/34.2 çš„å›ºå®šåŒºé—´ç½‘æ ¼ä¸­ï¼Œä½ çš„å¿ƒæ€æ˜¯ï¼š

> â€œBTC è¿‘æœŸå¯èƒ½ç›˜æ•´åœ¨ 25k~35kï¼Œæˆ‘å°±åœ¨è¿™æ®µåŒºé—´é‡Œç–¯ç‹‚ä½ä¹°é«˜å–ã€‚â€

ä¸€æ—¦ BTC èµ°å‡ºåŒºé—´ï¼š

- å‘ä¸Šçªç ´ï¼šä½ èµšåˆ°æµ®ç›ˆå’Œç½‘æ ¼å·®ä»·ï¼Œä½†åé¢å¯èƒ½è¸ç©ºï¼›  
- å‘ä¸‹è·Œç ´ï¼šä½ åœ¨æ›´ä½ä½ä¸æ–­è¡¥ä»“ï¼Œæœ€åå¯èƒ½é•¿æœŸæ·±å¥—ã€‚

### æ— é™ç½‘æ ¼ï¼šä¸ç”»ç¬¼å­ï¼Œç”»ä¸€æ¡â€œé˜¶æ¢¯é€šé“â€

ä½†æœ‰æ—¶å€™ï¼Œä½ çš„åˆ¤æ–­æ˜¯ï¼š

- â€œBTC æœªæ¥ 1 å¹´å¯èƒ½èµ°ä¸€ä¸ªå¤§è¶‹åŠ¿ï¼ˆæ¯”å¦‚ç‰›å¸‚æ…¢æ…¢çˆ¬å‡ï¼‰ï¼Œ  
   æˆ‘ä¸æƒ³åªåœ¨æŸä¸€ä¸ªå›ºå®šåŒºé—´å†…åšç½‘æ ¼ï¼Œ  
   æˆ‘å¸Œæœ›ç½‘æ ¼èƒ½ **è·Ÿç€è¶‹åŠ¿å¾€ä¸Šâ€˜çˆ¬æ¥¼â€™**ã€‚â€

è¿™å°±å¼•å‡ºäº†â€œæ— é™ç½‘æ ¼ / è¶‹åŠ¿ç½‘æ ¼â€çš„æƒ³æ³•ï¼š

- ä¸æ­»å®ˆä¸€ä¸ªå›ºå®šåŒºé—´ï¼›  
- è€Œæ˜¯åœ¨è¶‹åŠ¿æ–¹å‘ä¸Šä¸æ–­â€œè¡¥å»ºâ€æ–°çš„ç½‘æ ¼æ¡£ä½ï¼›  
- ä¾‹å¦‚ï¼š  
  - BTC ä» 30,000 æ¶¨åˆ° 40,000ï¼Œ  
  - ä½ çš„ç½‘æ ¼ä¸å†åœç•™åœ¨â€œ25k~35kâ€ï¼Œ  
  - è€Œæ˜¯é€çº§å°†ç½‘æ ¼é‡å¿ƒä»â€œ30k é™„è¿‘â€æŠ¬å‡åˆ°â€œ35k~45kâ€é™„è¿‘ã€‚

**ç›´è§‚æ„Ÿå—ï¼š**

> - åœ¨ä¸Šæ¶¨è¶‹åŠ¿ä¸­ï¼š  
>   - ä½ ä¸€è¾¹é˜¶æ¢¯å¼è·åˆ©äº†ç»“ï¼Œ  
>   - ä¸€è¾¹ä»ä¿ç•™éƒ¨åˆ†åº•ä»“ç»§ç»­äº«å—ä¸Šè¡Œï¼›  
> - åœ¨ä¸‹è·Œè¶‹åŠ¿ä¸­ï¼ˆè‹¥åšåå‘æ— é™ç½‘æ ¼/åšç©ºç½‘æ ¼ï¼‰ï¼š  
>   - ä½ ä¸€è¾¹é˜¶æ¢¯å¼åœ¨æ›´ä½ä»·ä½å¹³ç©ºè·åˆ©ï¼Œ  
>   - ä¸€è¾¹è·Ÿéšè¶‹åŠ¿åœ¨æ›´é«˜ä»·ä½ç»§ç»­å»ºç«‹ç©ºä»“ã€‚

---

## ğŸ§  æ— é™ç½‘æ ¼ vs å›ºå®šç½‘æ ¼ï¼šæ ¸å¿ƒå·®å¼‚

### å›ºå®šç½‘æ ¼ï¼ˆRange Gridï¼‰

- ä½ é¢„è®¾ä¸€ä¸ªä¸Šä¸‹è¾¹ç•ŒåŒºé—´ï¼›  
- ä»·æ ¼å§‹ç»ˆåœ¨åŒºé—´å†…â€œæ¥å›æ™ƒâ€æ—¶æ•ˆæœæœ€å¥½ï¼›  
- åŒºé—´å¤–çš„æç«¯è¶‹åŠ¿ä¼šç ´åç½‘æ ¼åŸå§‹è®¾å®šã€‚

### æ— é™ç½‘æ ¼ï¼ˆInfinity / Trending Gridï¼‰

- æ›´å¤šæ˜¯å›´ç»•â€œå½“å‰ä»·æ ¼ + è¶‹åŠ¿æ–¹å‘â€åŠ¨æ€æ‰©å±•ï¼›  
- ä¸å¼ºè°ƒç»å¯¹å›ºå®šçš„ä¸Šä¸‹è¾¹ç•Œï¼Œè€Œå¼ºè°ƒâ€œéšè¡Œå°±å¸‚â€ï¼›  
- å¸¸é…åˆä»¥ä¸‹é€»è¾‘ï¼š  
  - å½“ä»·æ ¼è¿œç¦»â€œåŸå§‹ç½‘æ ¼ä¸­å¿ƒâ€æ—¶ï¼Œ  
    è§¦å‘ç½‘æ ¼é‡æ„ / åŒºé—´ä¸Šç§» / ä¸‹ç§»ã€‚  

å¯ä»¥æŠŠå®ƒç†è§£ä¸ºï¼š

> **åœ¨è¶‹åŠ¿ä¸­**ï¼Œ  
>  è®©ç½‘æ ¼â€œæ­ä¸Šé¡ºé£è½¦â€ï¼Œ  
>  ç„¶ååœ¨æ¯ä¸ªæ¥¼å±‚â€œæŠ–ä¸€æŠ–èº«ä¸Šçš„ç­¹ç â€ï¼Œ  
>  æŠŠè¶‹åŠ¿ä¸­çš„æ³¢åŠ¨å˜æˆåˆ©æ¶¦ã€‚  

---

## ğŸ§© ç­–ç•¥å½¢æ€ï¼šçœ‹å¤šå‹ / çœ‹ç©ºå‹ / ä¸­æ€§å‹

### 1ï¸âƒ£ çœ‹å¤šå‹æ— é™ç½‘æ ¼ï¼ˆBull Infinity Gridï¼‰

- å‰æï¼šä½ é•¿æœŸçœ‹å¤š BTCï¼›  
- åšæ³•ï¼š  
  - ä»¥å½“å‰ä»·æ ¼ä¸ºä¸­å¿ƒï¼Œ  
  - å‘ä¸‹é“ºä¹°å•é˜¶æ¢¯ï¼Œå‘ä¸Šé“ºå–å•é˜¶æ¢¯ï¼›  
  - å½“ BTC ä¸Šæ¶¨åˆ°æ›´é«˜å¹³å°æ—¶ï¼Œ  
    - éƒ¨åˆ†å–å‡ºé”å®šæ”¶ç›Šï¼›  
    - åŒæ—¶**æŠ¬å‡**æ•´ä¸ªç½‘æ ¼çš„åŒºé—´ä¸ä¸­å¿ƒä»·ä½ã€‚

ç‰¹ç‚¹ï¼š

- è¶Šæ¶¨è¶Šå¤šæµ®ç›ˆ + éƒ¨åˆ†åˆ©æ¶¦è½è¢‹ï¼›  
- å›è°ƒæ—¶ï¼Œä½ æœ‰æœºä¼šåœ¨æ›´ä½é˜¶æ¢¯é‡æ–°æ¥å›ä¸€éƒ¨åˆ†ç­¹ç ã€‚

---

### 2ï¸âƒ£ çœ‹ç©ºå‹æ— é™ç½‘æ ¼ï¼ˆBear Infinity Gridï¼‰

- å‰æï¼šä½ è®¤ä¸ºæŸå¸ä¸­é•¿æœŸæœ‰ä¸‹è¡Œè¶‹åŠ¿æˆ–å¤§æ³¡æ²«ï¼›  
- ç”¨åå‘æ–¹å¼æ„å»ºï¼š  
  - å‘ä¸Šé“ºâ€œé€çº§åšç©ºâ€çš„é˜¶æ¢¯ï¼Œ  
  - å‘ä¸‹è®¾ç½®â€œé€çº§å¹³ç©ºâ€çš„è·åˆ©æ¡£ä½ï¼›  
- ç±»ä¼¼è¶‹åŠ¿åšç©ºç­–ç•¥ + è¢«åŠ¨ç½‘æ ¼è¡¥ä»“ã€‚

é£é™©æ›´é«˜ï¼Œéœ€è¦ç†Ÿæ‚‰åˆçº¦ã€ä¿è¯é‡‘å’Œå¼ºå¹³æœºåˆ¶ã€‚

---

### 3ï¸âƒ£ ä¸­æ€§å‹åŠ¨æ€ç½‘æ ¼ï¼ˆNeutral Dynamic Gridï¼‰

- ä¸æç«¯çœ‹å¤š/çœ‹ç©ºï¼Œè€Œæ˜¯ï¼š  
  - åŠ¨æ€è§‚å¯Ÿä»·æ ¼è¡Œä¸ºä¸è¶‹åŠ¿æŒ‡æ ‡ï¼ˆå¦‚ MA/EMAã€æ³¢åŠ¨ç‡ã€å®è§‚äº‹ä»¶ï¼‰ï¼›  
  - åœ¨è¶‹åŠ¿ç¡®è®¤æŒç»­æ—¶ï¼Œä»¥**è¶‹åŠ¿æ–¹å‘ä¸ºä¸»**é‡æ„ç½‘æ ¼ä¸­å¿ƒï¼›  
  - åœ¨è¶‹åŠ¿å‡å¼±æˆ–åè½¬ä¿¡å·å‡ºç°æ—¶ï¼Œé€æ­¥å‡ä»“ä¸æ”¶ç½‘ã€‚

ç®—æ˜¯æ— é™ç½‘æ ¼ä¸â€œå®šæœŸäººå·¥å¹²é¢„â€ä¹‹é—´çš„æŠ˜ä¸­æ–¹æ¡ˆã€‚

---

## ğŸ› ï¸ æ— é™ç½‘æ ¼çš„ç®€åŒ–å‚æ•°æ¨¡å‹ï¼ˆç¤ºæ„ï¼‰

> ä¸‹é¢æ˜¯ä¸€ä¸ª**æ•™å­¦çº§åˆ«**çš„æ— é™ç½‘æ ¼é…ç½®ç¤ºä¾‹ï¼Œ  
> ä¸æ¶‰åŠå…·ä½“äº¤æ˜“æ‰€ APIï¼Œè€Œæ˜¯å¸®ä½ æ•´ç†æ ¸å¿ƒå˜é‡ã€‚

\`\`\`javascript
const INFINITY_GRID_CONFIG_TEMPLATE = {
  symbol: 'BTCUSDT',
  mode: 'spot',                // ç°è´§ä¸ºä¸»ï¼Œè‹¥ç”¨åˆçº¦éœ€é¢å¤–é£æ§
  basePrice: 30000,            // å½“å‰å‚è€ƒä»·æ ¼
  gridSpacingRatio: 0.01,      // æ¯æ ¼é—´è· 1%ï¼Œå¦‚ 0.01 è¡¨ç¤ºä¸Šä¸‹ 1% ä¸€æ¡£
  maxGridsUp: 50,              // å‘ä¸Šæœ€å¤šæŒ‚å¤šå°‘æ¡£ï¼ˆç¤ºæ„ï¼‰
  maxGridsDown: 50,            // å‘ä¸‹æœ€å¤šæŒ‚å¤šå°‘æ¡£ï¼ˆç¤ºæ„ï¼‰
  baseInvestment: 5000,        // åˆå§‹æ€»èµ„é‡‘
  directionBias: 'long',       // 'long' å‘ä¸Šè¶‹åŠ¿åå¤š, 'short' å‘ä¸‹è¶‹åŠ¿åç©º, 'neutral' ä¸­æ€§
  autoRecenterThreshold: 0.15, // å½“ä»·æ ¼åç¦»åŸå§‹ basePrice è¶…è¿‡ 15% æ—¶ï¼Œè§¦å‘ä¸­å¿ƒé‡æ„
  rebalanceMode: 'stepwise',   // 'stepwise' åˆ†æ­¥é‡æ„, 'instant' ç«‹å³é‡æ„
  takeProfitOnRecenter: true,  // é‡æ„å‰æ˜¯å¦ç»Ÿä¸€å¹³æ‰æ—¢æœ‰ç½‘æ ¼å‰©ä½™ä»“ä½
  stopLossDrawdownRatio: 0.2   // è‹¥ç­–ç•¥æ•´ä½“å›æ’¤è¶…è¿‡ 20%ï¼Œè€ƒè™‘åœç”¨æ— é™ç½‘æ ¼
};
\`\`\`

---

## ğŸ“Š é£æ§ä¸è¡Œä¸ºçº¦æŸï¼ˆæ— é™ç½‘æ ¼ï¼‰

\`\`\`javascript
const INFINITY_GRID_RISK_CONFIG = {
  MAX_CAPITAL_RATIO: 0.3,         // æ— é™ç½‘æ ¼å æ€»èµ„äº§ä¸è¶…è¿‡ 30%
  AVOID_SHITCOINS: true,          // é¿å…åœ¨æµåŠ¨æ€§å·®/å®¹æ˜“å½’é›¶çš„å°å¸åšæ— é™ç½‘æ ¼
  PREFER_SPOT_OVER_LEVERAGE: true,// æ–°æ‰‹å°½é‡ä½¿ç”¨ç°è´§è€Œéæ æ†åˆçº¦
  CHECK_TREND_REGULARLY: true,    // è‡³å°‘æ¯å‘¨è¯„ä¼°ä¸€æ¬¡è¶‹åŠ¿æ˜¯å¦ä»ç„¶æˆç«‹
  MAX_TREND_AGE_DAYS: 180,        // åŒä¸€è¶‹åŠ¿å‡è®¾æœ€é•¿ä¸è¶…è¿‡ 180 å¤©ï¼Œéœ€è¦é‡æ–°è¯„ä¼°
  USE_VOLATILITY_FILTER: true,    // é¿å…åœ¨è¶…é«˜æ³¢åŠ¨/æç«¯ææ…Œæ—¶æ¿€è¿›å¼€ç½‘æ ¼
  MANUAL_OVERRIDE_ALLOWED: true   // ç­–ç•¥å…è®¸äººå·¥â€œæ‹‰é—¸â€ï¼Œåœ¨æç«¯é£é™©æ—¶ç›´æ¥å…³æ‰
};
\`\`\`

---

## ğŸ¯ å®æˆ˜ Checklistï¼ˆ34.3ï¼‰

### 1ï¸âƒ£ é€»è¾‘å‰ææ£€æŸ¥

- [ ] ä½ å¯¹æ ‡çš„æœ‰ä¸­é•¿æœŸè¶‹åŠ¿åˆ¤æ–­ï¼ˆä¾‹å¦‚ç‰›å¸‚/ç†Šå¸‚ï¼‰ï¼›  
- [ ] ä½ æ‰¿è®¤åˆ¤æ–­å¯èƒ½å‡ºé”™ï¼Œå¹¶æ„¿æ„ç”¨â€œå°ä»“ä½ + åŠæ—¶æ­¢æŸâ€å»å®è·µï¼›  
- [ ] ä½ ç†è§£â€œæ— é™â€æŒ‡çš„æ˜¯**åŒºé—´åŠ¨æ€è¿ç§»**ï¼Œä¸æ˜¯**æ— é£é™©æ— é™æ”¶ç›Š**ã€‚

### 2ï¸âƒ£ å‚æ•°è®¾å®šä¸å®éªŒ

- [ ] é€‰æ‹©åˆé€‚çš„ \`gridSpacingRatio\`ï¼ˆ1%-2%/æ ¼æ˜¯å¸¸è§èµ·ç‚¹ï¼‰ï¼›  
- [ ] å†³å®šå‘ä¸Š/å‘ä¸‹æœ€å¤šå¤šå°‘æ ¼ï¼ˆé¿å…æ— åºæ— é™æ‰©å±•ï¼‰ï¼›  
- [ ] å†³å®šä½•æ—¶è§¦å‘â€œä¸­å¿ƒé‡æ„â€ï¼š  
  - ä»·æ ¼åç¦»åŸ basePrice çš„ç™¾åˆ†æ¯”ï¼›  
  - æˆ–ç§»åŠ¨å¹³å‡çº¿å˜åŒ–ã€è¶‹åŠ¿æŒ‡æ ‡å˜åŒ–ã€‚

### 3ï¸âƒ£ å°èµ„é‡‘è¯•è·‘

- [ ] å…ˆç”¨å°é¢èµ„é‡‘ï¼ˆä¾‹å¦‚ 500~1000 USDTï¼‰è·‘ 1-3 ä¸ªæœˆï¼›  
- [ ] è§‚å¯Ÿï¼š  
  - åœ¨è¶‹åŠ¿å¹³ç¨³é˜¶æ®µï¼Œæ˜¯å¦èƒ½åŒæ—¶è·å¾—æµ®ç›ˆ + ç½‘æ ¼å·®ä»·ï¼›  
  - åœ¨è¶‹åŠ¿åè½¬æˆ–æš´è·Œé˜¶æ®µï¼Œå›æ’¤æ˜¯å¦åœ¨å¯æ¥å—èŒƒå›´å†…ï¼›  
- [ ] æ ¹æ®ç»“æœè°ƒæ•´ï¼š  
  - ç½‘æ ¼å¯†åº¦  
  - é‡æ„é˜ˆå€¼  
  - åœæ­¢æ¡ä»¶ã€‚

### 4ï¸âƒ£ é£æ§ä¸é€€å‡ºè®¡åˆ’

- [ ] ä¸ºæœ¬ç­–ç•¥è®¾ç½®ä¸€ä¸ª**æœ€å¤§å›æ’¤é˜ˆå€¼**ï¼ˆä¾‹å¦‚ 15%-25%ï¼‰ï¼›  
- [ ] å½“æ•´ä½“å›æ’¤è§¦åŠé˜ˆå€¼ï¼š  
  - ä¸è¦æ­»æ‰›ï¼Œå…ˆå…³ç­–ç•¥ â†’ è¯„ä¼°é€»è¾‘æ˜¯å¦å¤±æ•ˆï¼›  
- [ ] ä¸è¦è¢«â€œæ— é™â€è¿™ä¸ªè¯éª—äº†ï¼Œ  
  ä¸å­˜åœ¨çœŸæ­£çš„æ— é™èµ„é‡‘ä¸æ— é™å®¹é”™ã€‚  

---

## âœ… å°ç»“

**æ— é™ç½‘æ ¼ç­–ç•¥**ï¼Œæ˜¯åœ¨ä¼ ç»Ÿç½‘æ ¼â€œåŒºé—´éœ‡è¡æ”¶å‰²â€çš„åŸºç¡€ä¸Šï¼Œ  
åŠ å…¥â€œè¶‹åŠ¿è·Ÿéš + åŠ¨æ€é‡å¿ƒâ€çš„è¿›é˜¶ç©æ³•ï¼š

- ä¼˜ç‚¹ï¼š  
  - æœ‰æœºä¼šåœ¨å¤§è¶‹åŠ¿ä¸­**è¾¹æŒä»“äº«å—è¶‹åŠ¿ï¼Œè¾¹é€šè¿‡æ³¢åŠ¨é”ç›ˆ**ï¼›  
- ç¼ºç‚¹ï¼š  
  - é€»è¾‘å¤æ‚ã€é£é™©éš¾åº¦æ›´é«˜ï¼›  
  - è¶‹åŠ¿åˆ¤æ–­é”™è¯¯æˆ–æŒç»­é€†é£æ—¶ï¼Œå®¹æ˜“å‡ºç°è¾ƒå¤§å›æ’¤ã€‚

åœ¨ä½ çš„ã€Œè¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies) / grid-tradingã€æ¨¡å—ä¸­ï¼Œ  
å®ƒå¯ä»¥ä½œä¸ºï¼š  
> â€œä»ç®€å•åŒºé—´ç½‘æ ¼ â†’ è¶‹åŠ¿ç½‘æ ¼/æ— é™ç½‘æ ¼â€çš„ç¬¬äºŒå±‚ç©æ³•ï¼Œ  
ä¸“é—¨æœåŠ¡é‚£äº›å·²ç»ç†Ÿæ‚‰ç½‘æ ¼åº•å±‚é€»è¾‘ã€  
å¹¶å¸Œæœ›è¿›ä¸€æ­¥â€œåƒè¶‹åŠ¿â€çš„ç©å®¶ã€‚  

---

`
};

/**
 * 34.4 åˆçº¦ç½‘æ ¼äº¤æ˜“ï¼ˆFutures / Perpetual Gridï¼‰
 *
 * ä¸€çº§åˆ†ç±»: è¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies)
 * category_l1: derivatives
 * category: grid-trading
 * category_l2: grid-trading
 *
 * æ ¸å¿ƒï¼šåœ¨æ°¸ç»­åˆçº¦/æœŸè´§ä¸Šè¿è¡Œç½‘æ ¼ï¼Œåˆ©ç”¨æ æ†æ”¾å¤§å°å¹…æ³¢åŠ¨çš„ç½‘æ ¼æ”¶ç›Šï¼Œ
 *       åŒæ—¶å¼•å…¥å¼ºå¹³/å¼ºåˆ¶å‡ä»“ç­‰åˆçº¦ç‰¹æœ‰é£é™©ã€‚
 */
const STRATEGY_34_4 = {
  title:
    'åˆçº¦ç½‘æ ¼äº¤æ˜“ - åœ¨æ°¸ç»­åˆçº¦ä¸Šæ”¾å¤§ç½‘æ ¼æ”¶ç›Šçš„é«˜é£é™©ç©æ³•ï¼ˆé™„å¼ºå¹³é£é™©ï¼‰',
  slug: 'futures-grid-trading',
  summary:
    'åˆçº¦ç½‘æ ¼äº¤æ˜“æ˜¯æŠŠâ€œç½‘æ ¼é€»è¾‘â€æ¬åˆ°æ°¸ç»­åˆçº¦/æœŸè´§å¸‚åœºä¸Šï¼Œé€šè¿‡ä½¿ç”¨ 2x-5x ç”šè‡³æ›´é«˜æ æ†ï¼Œæ”¾å¤§å°å¹…ä»·æ ¼æ³¢åŠ¨ä¸­ä½ä¹°é«˜å–çš„å·®ä»·æ”¶ç›Šã€‚ç›¸æ¯”ç°è´§ç½‘æ ¼ï¼Œåˆçº¦ç½‘æ ¼å¯ä»¥å®ç°åŒå‘äº¤æ˜“ï¼ˆåšå¤š/åšç©ºï¼‰ã€å ç”¨èµ„é‡‘æ›´å°‘ï¼Œä½†åŒæ—¶å¼•å…¥çˆ†ä»“/å¼ºå¹³ã€èµ„é‡‘è´¹ç‡ã€å‰§çƒˆæ³¢åŠ¨å¼•å‘ç©¿ä»“ç­‰é«˜é£é™©å› ç´ ã€‚é€‚åˆå·²ç†Ÿæ‚‰ç°è´§ç½‘æ ¼ä¸åˆçº¦åŸºç¡€ï¼Œå¹¶æ„¿æ„ä»¥å°ä»“ä½å­¦ä¹ çš„è¿›é˜¶ç©å®¶ã€‚',
  category: 'grid-trading',
  category_l1: 'derivatives',
  category_l2: 'grid-trading',
  risk_level: 5,
  apy_min: 15,
  apy_max: 150,
  min_investment: 500,
  time_commitment:
    'éœ€è¦æ›´é«˜é¢‘çš„å…³æ³¨ä¸é£æ§ï¼ˆè‡³å°‘æ—¥åº¦ç”šè‡³å°æ—¶çº§ï¼‰ï¼Œä¸é€‚åˆå®Œå…¨æ”¾å…»æŒ‚æœº',
  status: 'published',
  content: `# 34.4 åˆçº¦ç½‘æ ¼äº¤æ˜“ - åœ¨æ°¸ç»­åˆçº¦ä¸Šæ”¾å¤§ç½‘æ ¼æ”¶ç›Šçš„é«˜é£é™©ç©æ³•ï¼ˆé™„å¼ºå¹³é£é™©ï¼‰

> âš ï¸ æåº¦é‡è¦é£é™©æç¤º  
> - åˆçº¦ç½‘æ ¼ = ç½‘æ ¼é€»è¾‘ Ã— æ æ†é£é™©ï¼›  
> - å®ƒå¯ä»¥è®©ä½ åœ¨å°å¹…éœ‡è¡ä¸­ç”¨å°èµ„é‡‘èµšåˆ°å¯è§‚æ”¶ç›Šï¼›  
> - ä¹Ÿå¯ä»¥åœ¨æç«¯è¡Œæƒ…/å•è¾¹è¶‹åŠ¿ä¸­ï¼Œè®©ä½ åœ¨æçŸ­æ—¶é—´å†…è§¦å‘å¼ºå¹³ï¼›  
> - ä½¿ç”¨å‰åŠ¡å¿…ä¿è¯ï¼š  
>   1. å·²æ¸…æ™°ç†è§£ç°è´§ç½‘æ ¼ï¼ˆ34.1/34.2ï¼‰ï¼›  
>   2. å·²ç†è§£åˆçº¦åŸºç¡€ï¼ˆæ æ†ã€ä¿è¯é‡‘ã€å¼ºå¹³ã€èµ„é‡‘è´¹ç‡ï¼‰ï¼›  
>   3. ç”¨â€œå°ä»“ä½ + å¯æ‰¿å—äºæŸâ€çš„é¢åº¦è¿›è¡Œå®éªŒã€‚  

---

## ğŸ’° ç­–ç•¥æ¦‚è§ˆ

| ç»´åº¦              | å†…å®¹è¯´æ˜ |
|-------------------|----------|
| **åº•å±‚å·¥å…·**      | æ°¸ç»­åˆçº¦ / äº¤å‰²åˆçº¦ï¼ˆBTCUSDT Perp, ETHUSDT Perp ç­‰ï¼‰ |
| **ç­–ç•¥æ–¹å‘**      | å¯åšå¤šç½‘æ ¼ã€åšç©ºç½‘æ ¼ã€åŒå‘ä¸­æ€§ç½‘æ ¼ |
| **æ ¸å¿ƒé€»è¾‘**      | åœ¨é¢„è®¾ä»·æ ¼åŒºé—´å†…ï¼Œä½¿ç”¨æ æ†åˆçº¦æŒ‚å‡ºå¤š/ç©ºç½‘æ ¼ï¼Œèµšå–åŒºé—´æ³¢åŠ¨å·®ä»· |
| **æ”¾å¤§æ•ˆåº”**      | æ æ†å€æ•° Ã— ç½‘æ ¼å¯†åº¦ â†’ æ”¾å¤§æ”¶ç›Šï¼Œä¹Ÿæ”¾å¤§é£é™© |
| **é¢å¤–å› ç´ **      | å¼ºå¹³ä»·ã€èµ„é‡‘è´¹ç‡ã€å¼ºåˆ¶å‡ä»“ã€æç«¯æ»‘ç‚¹ |
| **é€‚ç”¨äººç¾¤**      | ç†Ÿæ‚‰ç½‘æ ¼ç­–ç•¥ + åˆçº¦æœºåˆ¶çš„è¿›é˜¶/ä¸“ä¸šç©å®¶ |

---

## ğŸ“– åœºæ™¯æ•…äº‹ï¼šç°è´§ç½‘æ ¼èµšå¾—å¤ªæ…¢ï¼Œä½ æƒ³ç»™å®ƒâ€œåŠ ç‚¹ç«åŠ›â€

ä½ å·²ç»ç”¨ç°è´§ç½‘æ ¼åšè¿‡ä¸€æ®µæ—¶é—´ BTC/ETHï¼š

- åœ¨éœ‡è¡å¸‚ä¸­ï¼Œæ¯ä¸ªæœˆå¤šå‡ºä¸€ç‚¹ç½‘æ ¼æ”¶ç›Šï¼›  
- è™½ç„¶ç¨³å®šï¼Œä½†ä½ è§‰å¾—ï¼š  
  > â€œç”¨ 5,000 U åšç°è´§ç½‘æ ¼ï¼Œä¸€ä¸ªæœˆèµš 3-5% è¿˜ä¸é”™ï¼Œ  
  > ä½†å¦‚æœæˆ‘åªæ‹¿ 1,000 Uï¼Œåœ¨åˆçº¦ä¸Šåš 3x æ æ†ç½‘æ ¼ï¼Œ  
  > æ˜¯å¦èƒ½è·å¾—ç±»ä¼¼çš„æ”¶ç›Šç”šè‡³æ›´é«˜ï¼Ÿâ€

äºæ˜¯ä½ å¼€å§‹æ¥è§¦â€œåˆçº¦ç½‘æ ¼â€è¿™ä¸ªç©æ³•ï¼š

- å®ƒæ‰¿è¯ºä½ ï¼š  
  - ç”¨æ›´å°‘çš„èµ„é‡‘ï¼Œä¹Ÿèƒ½åšå‡ºç±»ä¼¼å¹…åº¦çš„ç½‘æ ¼æ”¶ç›Šï¼›  
  - æ”¯æŒåŒå‘/è¶‹åŠ¿ç½‘æ ¼ï¼ˆå¤š/ç©º/ä¸­æ€§ï¼‰ï¼›  

- ä½†å®ƒçš„ä»£ä»·æ˜¯ï¼š  
  - å¼•å…¥äº†ä¿è¯é‡‘ä¸å¼ºå¹³æœºåˆ¶ï¼›  
  - å¼•å…¥èµ„é‡‘è´¹ç‡æŒç»­æ¶ˆè€—ï¼›  
  - æç«¯è¡Œæƒ…ä¸­ï¼Œå¯èƒ½ç”±äºçŸ­æ—¶é—´å‰§çƒˆæ³¢åŠ¨è€Œè§¦å‘å¼ºå¹³ã€ç©¿ä»“ã€‚

åˆçº¦ç½‘æ ¼çš„æœ¬è´¨æ˜¯ï¼š

> â€œæŠŠç°è´§ç½‘æ ¼é‚£ä¸€å¥—è‡ªåŠ¨ä½ä¹°é«˜å–é€»è¾‘ï¼Œ  
>  æ¬åˆ°ä¸€ä¸ªå¸¦æ æ†ã€å¯ä»¥åšç©ºçš„å¸‚åœºé‡Œã€‚â€

---

## ğŸ§  åˆçº¦ç½‘æ ¼çš„åŸºæœ¬ç»“æ„

### 1ï¸âƒ£ å¤šå¤´åˆçº¦ç½‘æ ¼ï¼ˆLong Gridï¼‰

- æ€è·¯ï¼š  
  - å¯¹æ ‡ä¸Šæ¶¨/éœ‡è¡åå¤šè¡Œæƒ…ï¼›  
  - åœ¨ä¸€ä¸ªåŒºé—´å†…ï¼š  
    - ä¸‹æ–¹æŒ‚å¤šå•ï¼ˆä»·æ ¼è¶Šä½è¶Šå¤š/è¶Šå¤§ï¼‰ï¼›  
    - ä¸Šæ–¹æŒ‚å¹³ä»“å•ï¼ˆè·åˆ©äº†ç»“ï¼‰ã€‚

- å…¸å‹å½¢æ€ï¼š  
  - BTC å½“å‰ä»·æ ¼ 30,000ï¼›  
  - ä½ åœ¨ 28k~32k åŒºé—´åšåˆçº¦å¤šå¤´ç½‘æ ¼ï¼š  
    - ä»·æ ¼è·Œåˆ° 29k â†’ å¼€å¤šï¼›  
    - ä»·æ ¼å›åˆ° 30k â†’ å¹³å¤šè·åˆ©ï¼›  
    - å¦‚æ­¤å¾ªç¯ã€‚

---

### 2ï¸âƒ£ ç©ºå¤´åˆçº¦ç½‘æ ¼ï¼ˆShort Gridï¼‰

- æ€è·¯ï¼š  
  - å¯¹æ ‡ä¸‹è·Œ/éœ‡è¡åç©ºè¡Œæƒ…ï¼›  
  - åœ¨ä¸€ä¸ªåŒºé—´å†…ï¼š  
    - ä¸Šæ–¹æŒ‚å¼€ç©ºå•ï¼›  
    - ä¸‹æ–¹æŒ‚å¹³ç©ºå•ã€‚

- ä¾‹å¦‚ï¼š  
  - BTC å½“å‰ä»·æ ¼ 30,000ï¼›  
  - ä½ è®¤ä¸º 27k~33k æ˜¯ç†Šå¸‚åå¼¹åŒºé—´ï¼›  
  - å½“ä»·æ ¼æ‹‰åˆ° 32k â†’ å¼€ç©ºï¼›  
  - å›è½åˆ° 30k â†’ å¹³ç©ºè·åˆ©ã€‚

---

### 3ï¸âƒ£ åŒå‘ä¸­æ€§åˆçº¦ç½‘æ ¼ï¼ˆNeutral Gridï¼‰

- åœ¨ä¸Šä¸‹å¤šå±‚åŒæ—¶æŒ‚å¤š/ç©ºï¼›  
- ä»·æ ¼ä¸Šè¡Œæ—¶ï¼Œä¸‹æ–¹å¤šå•ç›ˆåˆ©ã€ä¸Šæ–¹ç©ºå•åƒæµ®äºï¼›  
- ä»·æ ¼ä¸‹è·Œæ—¶ï¼Œç›¸åï¼›  
- è®¾è®¡å¾—å½“æ—¶ï¼Œæ•´ä½“å¯ä»¥å›´ç»•æŸä¸ªä¸­å¿ƒä»·**åƒæ³¢åŠ¨**ã€‚  

è¿™ç§ç©æ³•æœ€å¤æ‚ï¼Œä¹Ÿæœ€å®¹æ˜“åœ¨æç«¯è¡Œæƒ…ä¸­å‡ºé—®é¢˜ã€‚

---

## ğŸ§© åˆçº¦ç½‘æ ¼ä¸ç°è´§ç½‘æ ¼çš„å…³é”®åŒºåˆ«

1. **çˆ†ä»“/å¼ºå¹³é£é™©**  
   - ç°è´§ç½‘æ ¼ä¸ä¼šçˆ†ä»“ï¼ˆä½†ä¼šæ·±å¥—ï¼‰ï¼›  
   - åˆçº¦ç½‘æ ¼å¼€ä»“ä½¿ç”¨æ æ†ï¼Œä¼šæœ‰å¼ºå¹³ä»·ï¼›  
   - æç«¯è¡Œæƒ…ä¸­ï¼Œå¦‚æœåŒºé—´è®¾å¾—å¤ªçª„ä¸”æ æ†è¿‡é«˜ï¼Œå¯èƒ½ç¬é—´å¼ºå¹³ã€‚

2. **èµ„é‡‘è´¹ç‡ï¼ˆFunding Rateï¼‰**  
   - æ°¸ç»­åˆçº¦å¤šç©ºå¤´ä¹‹é—´ä¼šæœ‰å®šæœŸèµ„é‡‘äº’æ¢ï¼›  
   - è‹¥ä½ æŒæœ‰å¤§é‡å¤šå•/ç©ºå•ï¼Œ  
     - åœ¨æŸäº›æ—¶æ®µä¼šâ€œé•¿æœŸæ”¯ä»˜èµ„é‡‘è´¹ç‡â€ï¼Œå‰Šå¼±ç½‘æ ¼æ”¶ç›Šã€‚

3. **æ»‘ç‚¹ä¸ç©¿ä»“**  
   - åˆçº¦ç›˜åœ¨æç«¯è¡Œæƒ…ä¸­å¯èƒ½å‡ºç°å·¨å¤§æ»‘ç‚¹ï¼›  
   - è‹¥å•è¾¹å¿«é€Ÿçªç ´ï¼Œç½‘æ ¼æŒ‚å•å¯èƒ½å…¨éƒ¨è¢«â€œæ‰«ç©¿â€ï¼Œ  
     å¯¼è‡´éœ€è¦å¤§é‡ä¿è¯é‡‘æ”¯æ’‘ï¼Œä¸ç„¶ä¼šè¢«å¼ºå¹³ã€‚

---

## ğŸ› ï¸ åˆçº¦ç½‘æ ¼å‚æ•°æ¨¡æ¿ï¼ˆç¤ºæ„ï¼‰

\`\`\`javascript
const FUTURES_GRID_CONFIG_TEMPLATE = {
  symbol: 'BTCUSDT',
  mode: 'futures',              // åˆçº¦ç½‘æ ¼
  positionMode: 'one-way',      // æˆ– 'hedge'ï¼ˆåŒå‘æŒä»“ï¼‰ï¼Œè§†äº¤æ˜“æ‰€è§„åˆ™
  leverage: 3,                  // æ æ†å€æ•°ï¼ˆå»ºè®® 2-3x èµ·æ­¥ï¼Œæ–°æ‰‹ä¸è¦å¤ªé«˜ï¼‰
  lowerPrice: 28000,            // ç½‘æ ¼ä¸‹è¾¹ç•Œ
  upperPrice: 32000,            // ç½‘æ ¼ä¸Šè¾¹ç•Œ
  gridCount: 25,                // ç½‘æ ¼æ•°é‡
  direction: 'long',            // 'long', 'short', 'neutral'
  totalMargin: 1000,            // åˆå§‹ä¿è¯é‡‘æŠ•å…¥ï¼ˆä¾‹å¦‚ 1000 USDTï¼‰
  stopLossPrice: 27000,         // æ•´ä½“æ­¢æŸçº¿ï¼ˆå¯é€‰ï¼‰
  takeProfitPrice: 34000,       // æ•´ä½“æ­¢ç›ˆçº¿ï¼ˆå¯é€‰ï¼‰
  maxPositionNotional: 30_000,  // æœ€å¤§å…è®¸åä¹‰ä»“ä½ï¼Œé˜²æ­¢ä»“ä½æ— é™åŠ å¤§
  fundingFeeAwareness: true     // æ˜¯å¦åœ¨ç­–ç•¥ä¸­è€ƒè™‘èµ„é‡‘è´¹ç‡å½±å“
};
\`\`\`

---

## ğŸ“Š åˆçº¦ç½‘æ ¼é£é™©é…ç½®ç¤ºä¾‹

\`\`\`javascript
const FUTURES_GRID_RISK_CONFIG = {
  MAX_CAPITAL_RATIO: 0.15,       // åˆçº¦ç½‘æ ¼å æ€»å‡€èµ„äº§ä¸è¶…è¿‡ 15%
  MAX_LEVERAGE: 3,               // æ æ†å»ºè®®ä¸Šé™ï¼ˆé™¤éæç†Ÿç»ƒï¼‰
  MIN_MARGIN_BUFFER_RATIO: 0.3,  // é¢„ç•™è‡³å°‘ 30% èµ„é‡‘ä½œä¸ºè¿½åŠ ä¿è¯é‡‘ç¼“å†²
  AVOID_HIGH_VOL_EVENT_DAYS: true, // å¤§äº‹ä»¶æ—¥å‰åè°¨æ…ä½¿ç”¨æˆ–å‡ä»“
  ENABLE_FORCE_CLOSE_ON_DRAWDOWN: true, // å›æ’¤è¶…è¿‡æŸé˜ˆå€¼è‡ªåŠ¨å¹³æ‰æ‰€æœ‰ä»“ä½
  TARGET_DAILY_PROFIT_RATIO: 0.01, // æ—¥æ”¶ç›Šç›®æ ‡ 1% å³å¯ï¼Œé¿å…è´ªå©ªåŠ æ æ†
  MAX_SINGLE_GRID_LOSS_RATIO: 0.005 // å•æ ¼äºæŸå ä¿è¯é‡‘çš„æ¯”ä¾‹ä¸Šé™
};
\`\`\`

---

## ğŸ§® åˆçº¦ç½‘æ ¼ç®€æ˜“â€œçˆ†ä»“ç¼“å†²â€ä¼°ç®—ï¼ˆæ•™å­¦æ¨¡å‹ï¼‰

> ä¸‹é¢æ˜¯ä¸€ä¸ªæåº¦ç®€åŒ–çš„â€œè·å¼ºå¹³å®‰å…¨è·ç¦»â€ä¼°ç®—ç¤ºæ„ï¼Œ  
> ç”¨æ¥å¸®åŠ©æ–°æ‰‹ç†è§£â€œä¸è¦æŠŠæ æ†å¼€æ»¡æ ¼â€çš„ç›´è§‰ã€‚

\`\`\`javascript
class FuturesGridSafetyEstimator {
  /**
   * @param {number} entryPrice   ç½‘æ ¼ä¸­å¿ƒå‚è€ƒä»·ï¼ˆè¿‘ä¼¼è§†ä¸ºå¹³å‡å¼€ä»“ä»·ï¼‰
   * @param {number} leverage     æ æ†å€æ•°
   * @param {number} maintenanceMarginRate ç»´æŒä¿è¯é‡‘ç‡ï¼ˆä¾‹å¦‚ 0.005 = 0.5%ï¼‰
   */
  constructor({ entryPrice, leverage, maintenanceMarginRate }) {
    this.entryPrice = entryPrice;
    this.leverage = leverage;
    this.maintenanceMarginRate = maintenanceMarginRate;
  }

  /**
   * ä¼°ç®—å¤šå¤´æ–¹å‘ä¸Šï¼Œä»·æ ¼æœ€å¤§å¯æ‰¿å—å›æ’¤æ¯”ä¾‹ï¼ˆæç®€æ¨¡å‹ï¼‰
   * å®é™…å„å¹³å°å…¬å¼ä¸åŒï¼Œè¿™é‡Œåªä¸ºç›´è§‰å±•ç¤º
   */
  estimateLongLiquidationDrawdown() {
    const L = this.leverage;
    const mm = this.maintenanceMarginRate;
    // éä¸¥æ ¼å…¬å¼ï¼Œä»…å¸®åŠ©ç›´è§‚ç†è§£ï¼š
    // çº¦ç­‰äºï¼šæœ€å¤§å¯æ‰¿å—ä¸‹è·Œ â‰ˆ 1 / L - mmï¼ˆç¤ºæ„ï¼‰
    const maxDrawdownRatio = 1 / L - mm;
    return maxDrawdownRatio;
  }

  report() {
    const r = this.estimateLongLiquidationDrawdown();
    console.log('ğŸ“Š åˆçº¦ç½‘æ ¼æ æ†å®‰å…¨ç¤ºæ„:');
    console.log(
      \`- æ æ†å€æ•°: \${this.leverage}x | ç»´æŒä¿è¯é‡‘ç‡: \${(
        this.maintenanceMarginRate * 100
      ).toFixed(2)}%\`
    );
    console.log(
      \`- çº¦ç•¥å¯æ‰¿å—ä»·æ ¼æœ€å¤§ä¸‹è·Œæ¯”ä¾‹(å¤šå¤´): \${(
        r * 100
      ).toFixed(2)}%\`
    );
    console.log(
      '- æé†’: è¿™åªæ˜¯æåº¦ç®€åŒ–ä¼°ç®—ï¼ŒçœŸå®çˆ†ä»“ä»·éœ€æŒ‰äº¤æ˜“æ‰€å…¬å¼ç²¾ç®—ã€‚'
    );
  }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼ˆä»…ç¤ºæ„ï¼‰ï¼š
// const est = new FuturesGridSafetyEstimator({
//   entryPrice: 30000,
//   leverage: 3,
//   maintenanceMarginRate: 0.005
// });
// est.report();
\`\`\`

---

## ğŸ¯ å®æˆ˜ Checklistï¼ˆ34.4ï¼‰

### 1ï¸âƒ£ å‰ç½®çŸ¥è¯†è‡ªæ£€

- [ ] ä½ å·²ç»å®é™…åšè¿‡ä¸€æ®µæ—¶é—´â€œæ— æ æ†ç°è´§ç½‘æ ¼â€ï¼›  
- [ ] ä½ èƒ½ç®—æ¸…ï¼š  
  - æ æ† Ã— åŒºé—´å®½åº¦ Ã— ç½‘æ ¼æ•°é‡ â†’ å¤§è‡´çš„æœ€å¤§åä¹‰æ•å£ï¼›  
- [ ] ä½ èƒ½æŸ¥åˆ°å¹¶ç†è§£äº¤æ˜“æ‰€ç»™å‡ºçš„â€œå¼ºå¹³ä»·â€å…¬å¼æˆ–é¡µé¢æç¤ºã€‚

### 2ï¸âƒ£ å‚æ•°é€‰æ‹©ä¸â€œå°ä»“ä½è¯•é”™â€

- [ ] å…ˆé€‰æ‹©ä¿å®ˆå‚æ•°ï¼š  
  - æ æ† 2~3x  
  - åŒºé—´å®½åº¦é€‚ä¸­ï¼ˆå¦‚ Â±10-15%ï¼‰  
  - ç½‘æ ¼æ•°é‡ 20~40  
  - ä¿è¯é‡‘æŠ•å…¥å ä½ æ€»èµ„é‡‘ 5~10% ä»¥å†…ï¼›  
- [ ] ç¬¬ä¸€æ¬¡åˆçº¦ç½‘æ ¼ï¼Œåªç”¨â€œå°å®éªŒé‡‘â€è·‘ä¸€æ®µæ—¶é—´ï¼ˆæ¯”å¦‚ 1-3 å‘¨ï¼‰ã€‚

### 3ï¸âƒ£ é£æ§ä¸ç›‘æ§

- [ ] è®¾å®šï¼š  
  - æ€»æ­¢æŸï¼ˆä¾‹å¦‚äºæŸè¾¾åˆ°ä¿è¯é‡‘ 30% æ—¶å…³é—­ç½‘æ ¼å¹¶æ¸…ä»“ï¼‰  
  - æ€»æ­¢ç›ˆï¼ˆæ”¶ç›Šè¶…è¿‡ 30-50% æ—¶é”å®šå¹¶é€€å‡ºï¼‰ï¼›  
- [ ] å®šæœŸæŸ¥çœ‹ï¼š  
  - æ€»åä¹‰ä»“ä½æ˜¯å¦è¶…å‡ºé¢„æœŸï¼›  
  - å¼ºå¹³ä»·æ˜¯å¦è¿‡äºæ¥è¿‘ç°ä»·ï¼›  
  - èµ„é‡‘è´¹ç‡æ”¯å‡ºæ˜¯å¦è¿‡é«˜ï¼Œå·²ç»ä¾µèš€å¤§éƒ¨åˆ†ç½‘æ ¼æ”¶ç›Šã€‚

### 4ï¸âƒ£ è¡Œæƒ…è¿‡æ»¤ï¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™**ä¸è¦**ç”¨åˆçº¦ç½‘æ ¼

- [ ] åœ¨â€œå¤§äº‹ä»¶æ—¥â€ï¼ˆFOMCã€ç¾è”å‚¨åˆ©ç‡å†³è®®ã€å…³é”®ç›‘ç®¡è£å†³ã€é“¾ä¸Šé‡å¤§å‡çº§å½“å¤©ï¼‰  
  - å‡ä»“æˆ–æš‚åœåˆçº¦ç½‘æ ¼ï¼›  
- [ ] åœ¨è¶…é«˜æ³¢åŠ¨ã€é•¿é˜³/é•¿é˜´çªç ´åˆæœŸï¼š  
  - æš‚ç¼“ä½¿ç”¨ç½‘æ ¼ï¼Œé¿å…åœ¨è¶‹åŠ¿çˆ†å‘ç‚¹åšâ€œåå‘æ”¶æ³¢åŠ¨â€çš„å‚»äº‹ï¼›  
- [ ] åœ¨è¶‹åŠ¿æœ«æœŸã€æƒ…ç»ªæåº¦ FOMO æˆ–æåº¦ææ…Œæ—¶ï¼š  
  - é™æ æ†/ç¼©è§„æ¨¡ï¼Œé˜²æ­¢â€œæœ€åä¸€æ£’æ¥ç›˜â€ã€‚

### 5ï¸âƒ£ å¤ç›˜ä¸ç­–ç•¥è¿›åŒ–

- [ ] é’ˆå¯¹åˆçº¦ç½‘æ ¼ï¼Œè®°å½•ï¼š  
  - æ¯æœŸåŒºé—´ã€ç½‘æ ¼æ•°ã€æ æ†ã€æ€»åä¹‰ä»“ä½ï¼›  
  - æ€»æ”¶ç›Šã€æœ€å¤§å›æ’¤ã€å¼ºå¹³/é™©äº›å¼ºå¹³æ¬¡æ•°ï¼›  
  - èµ„é‡‘è´¹ç‡æˆæœ¬ï¼›  
- [ ] æ€»ç»“ï¼š  
  - å“ªäº›å‚æ•°ç»„åˆåœ¨æŸç±»è¡Œæƒ…ä¸‹è¡¨ç°è¾ƒå¥½ï¼›  
  - å“ªäº›åœºæ™¯ä¸‹åˆçº¦ç½‘æ ¼â€œä¸€å¼€å¿…ç¿»è½¦â€ï¼›  
- [ ] æ ¹æ®å¤ç›˜ç»“æœï¼Œå°†â€œåˆçº¦ç½‘æ ¼â€å®šä½ä¸ºï¼š  
  - æ•´ä½“ç­–ç•¥ç»„åˆä¸­çš„ä¸€ä¸ª**é«˜é£é™©ã€é«˜æ”¶ç›Šã€å°æ¯”ä¾‹æ¨¡å—**ï¼Œ  
    è€Œä¸æ˜¯ä¸»åŠ›ä»“ä½ã€‚  

---

## âœ… å°ç»“

**åˆçº¦ç½‘æ ¼äº¤æ˜“**æ˜¯ç½‘æ ¼ä½“ç³»ä¸­çš„â€œå¸¦ç«ç„°å–·å°„å™¨çš„ç‰ˆæœ¬â€ï¼š

- ä¼˜ç‚¹ï¼š  
  - èƒ½ç”¨è¾ƒå°çš„ä¿è¯é‡‘å‚ä¸è¾ƒå¤§çš„æ³¢åŠ¨ç©ºé—´ï¼›  
  - åœ¨éœ‡è¡å¸‚ä¸­ï¼Œç½‘æ ¼å·®ä»· Ã— æ æ† â†’ å½¢æˆå¯è§‚æ”¶ç›Šï¼›  
  - æ”¯æŒåŒå‘ï¼Œå³ä½¿ç†Šå¸‚ä¹Ÿæœ‰åšç©ºç½‘æ ¼çš„ç©æ³•ã€‚  

- ç¼ºç‚¹ï¼š  
  - çˆ†ä»“/å¼ºå¹³é£é™©çœŸå®å­˜åœ¨ï¼Œå°¤å…¶åœ¨é»‘å¤©é¹…ä¸æç«¯å•è¾¹è¡Œæƒ…ä¸­ï¼›  
  - èµ„é‡‘è´¹ç‡ã€æ»‘ç‚¹ã€è„±é”šæç«¯æ’®åˆç­‰å› ç´ ï¼Œä¼šæ”¾å¤§é£é™©ä¸æˆæœ¬ï¼›  
  - ä¸é€‚åˆå¿ƒæ€è„†å¼±ã€æ— æ³•æ¥å—å¤§å¹…å›æ’¤çš„ç©å®¶ã€‚  

åœ¨ä½ çš„ã€Œè¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies) / grid-tradingã€æ¨¡å—ä¸­ï¼š

- 34.1ï¼šBTC ç°è´§ç½‘æ ¼ â†’ ç½‘æ ¼å…¥é—¨ã€ä½é£é™©ç‰ˆæœ¬ï¼›  
- 34.2ï¼šå¸å®‰ç½‘æ ¼æœºå™¨äºº â†’ æ‰§è¡Œå·¥å…·å±‚é¢çš„ä¸€é”®åŒ–è½åœ°ï¼›  
- 34.3ï¼šæ— é™ç½‘æ ¼ç­–ç•¥ â†’ è¶‹åŠ¿ + æ³¢åŠ¨çš„è¿›é˜¶ç©æ³•ï¼›  
- 34.4ï¼šåˆçº¦ç½‘æ ¼äº¤æ˜“ â†’ ç½‘æ ¼é€»è¾‘ + æ æ†çš„é«˜é˜¶é£é™©ç‰ˆæœ¬ã€‚  

ç»™ç”¨æˆ·çš„çœŸå®å»ºè®®æ˜¯ï¼š

> å¦‚æœè¿˜æ²¡åœ¨ç°è´§ç½‘æ ¼ä¸Šâ€œç©å¾—å¾ˆæ˜ç™½â€ï¼Œ  
>  å…ˆä¸è¦æ€¥ç€ä¸Šåˆçº¦ç½‘æ ¼ã€‚  
>  
>  å½“ä½ èƒ½æ¸…æ™°å›ç­”ï¼š  
>  â€œæˆ‘çŸ¥é“åœ¨æœ€ç³Ÿç³•æƒ…å†µä¼šäºå¤šå°‘ï¼Œè€Œä¸”å¿ƒç†ä¸Šèƒ½æ‰¿å—â€ï¼Œ  
>  å†æ¥è®¤çœŸè€ƒè™‘ç»™ç½‘æ ¼åŠ ä¸Šæ æ†ã€‚  

---

`
};

/**
 * ä¸Šä¼  34.3 & 34.4 ç­–ç•¥åˆ° Directus
 */
async function uploadStrategies() {
  const DIRECTUS_URL = 'http://localhost:8055';

  console.log(
    'å¼€å§‹ä¸Šä¼ ç­–ç•¥ 34.3 (æ— é™ç½‘æ ¼ç­–ç•¥) å’Œ 34.4 (åˆçº¦ç½‘æ ¼äº¤æ˜“)...\n'
  );

  try {
    const { execSync } = require('child_process');
    const tokenOutput = execSync('./get-new-directus-token.sh').toString();
    const tokenMatch = tokenOutput.match(/DIRECTUS_ADMIN_TOKEN=(.+)/);

    if (!tokenMatch) {
      throw new Error('Failed to get admin token');
    }

    const ADMIN_TOKEN = tokenMatch[1].trim();

    const headers = {
      Authorization: `Bearer ${ADMIN_TOKEN}`,
      'Content-Type': 'application/json'
    };

    console.log('ä¸Šä¼ ç­–ç•¥ 34.3: æ— é™ç½‘æ ¼ç­–ç•¥...');
    await axios.post(`${DIRECTUS_URL}/items/strategies`, STRATEGY_34_3, {
      headers
    });
    console.log('âœ… ç­–ç•¥ 34.3 ä¸Šä¼ æˆåŠŸ\\n');

    console.log('ä¸Šä¼ ç­–ç•¥ 34.4: åˆçº¦ç½‘æ ¼äº¤æ˜“...');
    await axios.post(`${DIRECTUS_URL}/items/strategies`, STRATEGY_34_4, {
      headers
    });
    console.log('âœ… ç­–ç•¥ 34.4 ä¸Šä¼ æˆåŠŸ\\n');

    const response = await axios.get(
      `${DIRECTUS_URL}/items/strategies?limit=1&meta=total_count`,
      { headers }
    );
    console.log(
      `âœ… æ•°æ®åº“ä¸­ç°æœ‰ç­–ç•¥æ€»æ•°: ${response.data.meta.total_count}`
    );
  } catch (error) {
    console.error('âŒ ä¸Šä¼ å¤±è´¥:', error.response?.data || error.message);
    process.exit(1);
  }
}

// è‹¥è¦åœ¨ Node ä¸­ç›´æ¥æ‰§è¡Œæœ¬æ–‡ä»¶å†™å…¥ç­–ç•¥ï¼Œè¯·å–æ¶ˆä¸‹é¢ä¸€è¡Œæ³¨é‡Šï¼š
uploadStrategies();
