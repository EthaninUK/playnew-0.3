// ç­–ç•¥ 34.9: è¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies) - ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ© (Stablecoin Pair Grid Arbitrage)

const axios = require('axios');

/**
 * 34.9 ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©
 *
 * ä¸€çº§åˆ†ç±»: è¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies)
 * category_l1: derivatives
 * category: grid-trading
 * category_l2: grid-trading
 *
 * åœºæ™¯ï¼šåœ¨ USDT/USDCã€USDT/BUSDã€USDC/FDUSD ç­‰â€œç¨³å®šå¸äº¤æ˜“å¯¹â€ä¹‹é—´ï¼Œ
 *       ä½¿ç”¨è¶…é«˜é¢‘ã€è¶…ç»†ç½‘æ ¼ï¼Œåå¤åƒæå°çš„ä»·å·®ï¼ˆé€šå¸¸æ˜¯ 0.01%~0.1% çº§åˆ«ï¼‰ï¼Œ
 *       æŠŠâ€œç¨³å®šå¸ä¹‹é—´çš„è½»å¾®é”šå®šåå·® + æ‰‹ç»­è´¹æ¢¯åº¦å·®â€å˜æˆæœºå™¨åŒ–å¥—åˆ©æ”¶ç›Šã€‚
 */

const STRATEGY_34_9 = {
  title: 'ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ© - åœ¨ USDT/USDC å¾®å°ä»·å·®ä¸­åšè¶…é«˜é¢‘â€œç‚¹æ•°æ”¶å‰²æœºâ€',
  slug: 'stablecoin-grid-arbitrage',
  summary:
    'ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©ï¼Œæ˜¯åœ¨ USDT/USDCã€USDT/FDUSDã€USDC/DAI ç­‰ç¨³å®šå¸äº¤æ˜“å¯¹ä¸Šéƒ¨ç½²è¶…é«˜é¢‘ã€æç»†é—´è·çš„ç½‘æ ¼ç­–ç•¥ï¼Œé€šè¿‡åå¤ä½ä¹°é«˜å–ï¼ŒæŠ“å– 0.01%~0.1% çº§åˆ«çš„å¾®å°ä»·å·®ã€‚ç”±äºæ ‡çš„æ˜¯ç¨³å®šå¸ï¼Œä»·æ ¼æ³¢åŠ¨å¹…åº¦æœ‰é™ã€æ–¹å‘æ€§é£é™©ç›¸å¯¹è¾ƒå°ï¼Œä½†ç­–ç•¥å¯¹æ‰‹ç»­è´¹ã€ç‚¹å·®ã€API å»¶è¿Ÿå’Œé£æ§è¦æ±‚æé«˜ï¼Œæ›´åƒæ˜¯â€œåšå¸‚/é«˜é¢‘é£æ ¼â€çš„é‡åŒ–ç½‘æ ¼å¥—åˆ©ç©æ³•ã€‚é€‚åˆå¯¹äº¤æ˜“æˆæœ¬ã€æ’®åˆæ·±åº¦å’Œäº¤æ˜“æ‰€æœºåˆ¶æœ‰æ·±å…¥ç†è§£çš„ç©å®¶ã€‚',
  category: 'grid-trading',
  category_l1: 'derivatives',
  category_l2: 'grid-trading',
  risk_level: 3,
  apy_min: 5,
  apy_max: 40,
  min_investment: 1000,
  time_commitment:
    'ç­–ç•¥æœ¬èº«æ˜¯ 7x24 å°æ—¶è¿è½¬ï¼Œä½†å¯ä»¥é€šè¿‡æœºå™¨äºº/è„šæœ¬å®ç°è‡ªåŠ¨åŒ–ï¼Œäººä¸ºéœ€è¦å®šæœŸï¼ˆå¤©/å‘¨çº§åˆ«ï¼‰æ£€æŸ¥æˆæœ¬ã€æ»‘ç‚¹ä¸äº¤æ˜“æ‰€é£é™©ã€‚',
  status: 'published',
  content: `# 34.9 ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ© - åœ¨ USDT/USDC å¾®å°ä»·å·®ä¸­åšè¶…é«˜é¢‘â€œç‚¹æ•°æ”¶å‰²æœºâ€

> æ ¸å¿ƒä¸€å¥è¯ï¼š  
> - åœ¨ USDT/USDC ç­‰ç¨³å®šå¸å¯¹ä¹‹é—´ï¼Œ  
> - ç”¨å¯†é›†ç½‘æ ¼ + è¶…é«˜é¢‘äº¤æ˜“ï¼Œ  
> - æŠŠâ€œæå°ä»·å·® + å¸‚åœºå™ªéŸ³â€å˜æˆä¸€ç¬”ç¬”å¾®åˆ©ï¼Œ  
> - è®©â€œç†è®ºä¸Šåº”å½“ 1:1â€çš„ç¨³å®šå¸ä¹‹é—´ï¼Œ  
>   å˜æˆä½ æŒç»­æ”¶å‰²æ•ˆç‡çš„æ¥æºã€‚

---

## ğŸ’° ç­–ç•¥æ¦‚è§ˆ

| ç»´åº¦              | å†…å®¹è¯´æ˜ |
|-------------------|----------|
| **æ ‡çš„ç±»å‹**      | ç¨³å®šå¸äº¤æ˜“å¯¹ï¼ˆUSDT/USDCã€USDT/BUSDã€USDC/FDUSD ç­‰ï¼‰ |
| **ç­–ç•¥ç±»åˆ«**      | è¶…é«˜é¢‘ç½‘æ ¼å¥—åˆ© / åšå¸‚é£æ ¼çš„å¾®åˆ©ç­–ç•¥ |
| **ä¸»è¦æ”¶ç›Šæ¥æº**  | ç¨³å®šå¸é—´é”šå®šåå·®ã€æµåŠ¨æ€§ä¸å‡è¡¡å¯¼è‡´çš„å¾®å°ä»·å·® |
| **ä»·æ ¼æ³¢åŠ¨ç‰¹å¾**  | ä¸­å¿ƒé”šå®šåœ¨ 1:1 é™„è¿‘ï¼Œå°å¹…ä¸Šä¸‹æ³¢åŠ¨ï¼ˆä¾‹å¦‚ 0.998~1.002ï¼‰ |
| **é£æ§é‡ç‚¹**      | æ‰‹ç»­è´¹ã€æ»‘ç‚¹ã€äº¤æ˜“æ‰€é£é™©ã€è„±é”šé£é™©ã€API å»¶è¿Ÿä¸ç³»ç»Ÿç¨³å®šæ€§ |
| **é€‚ç”¨äººç¾¤**      | å¯¹ç½‘æ ¼ä¸åšå¸‚é€»è¾‘ç†Ÿæ‚‰ã€èƒ½ç²¾ç®—äº¤æ˜“æˆæœ¬çš„è¿›é˜¶ç©å®¶æˆ–å‡†é‡åŒ–å›¢é˜Ÿ |

---

## ğŸ“– åœºæ™¯æ•…äº‹ï¼šä»â€œUSDTâ‰ˆUSDCâ€åˆ°â€œUSDT/USDC ä¹Ÿå¯ä»¥ç½‘æ ¼å¥—åˆ©â€

ä½ å¯èƒ½æœ‰è¿™ç§ç›´è§‰ï¼š

> â€œUSDT å’Œ USDC ä¸éƒ½æ˜¯ 1 ç¾å…ƒå—ï¼Ÿ  
>  ä¸¤è€…ä¹‹é—´è¿˜æœ‰ä»€ä¹ˆä»·æ ¼å¯ä»¥å¥—åˆ©ï¼Ÿâ€

ä½†åœ¨çœŸå®äº¤æ˜“æ‰€é‡Œï¼Œ  
USDT/USDC çš„ä»·æ ¼å¸¸å¸¸å¾®å¾®åç¦» 1ï¼š

- æŸäº›æ—¶åˆ»ï¼š1 USDT = 0.999 USDCï¼›  
- å¦ä¸€äº›æ—¶åˆ»ï¼š1 USDT = 1.001 USDCï¼›  
- å†åŠ ä¸Šä¸åŒæ—¶é—´æ®µæµåŠ¨æ€§å˜åŒ–ã€  
  ä¸åŒå¸‚åœºå‚ä¸è€…çš„å…‘æ¢éœ€æ±‚ï¼Œ  
  å°±ä¼šå½¢æˆä¸€ä¸ªåœ¨ 0.998~1.002 ä¹‹é—´æ¥å›æŠ–åŠ¨çš„â€œçª„åŒºé—´â€ã€‚

å¦‚æœä½ ï¼š

1. ä¸‹äº†ä¸€ä¸ªâ€œUSDT æ¢æˆ USDCâ€çš„ä½ä»·ä¹°å•ï¼ˆä¾‹å¦‚ 0.999ï¼‰ï¼›  
2. åŒæ—¶æŒ‚äº†ä¸€ä¸ªâ€œUSDC æ¢å› USDTâ€çš„é«˜ä»·å–å•ï¼ˆä¾‹å¦‚ 1.001ï¼‰ï¼›  

å½“å¸‚åœºä» 0.999 æŠ–åˆ° 1.001ï¼š

- ä½ ç”¨ 0.999 çš„ä»·æ ¼ä¹°å…¥äº† USDCï¼›  
- åˆç”¨ 1.001 çš„ä»·æ ¼å–å‡º USDC æ¢å› USDTï¼›  
- åœ¨è¿™ä¸­é—´çš„ 0.2% å·®ä»·é‡Œï¼Œ  
  æ‰£æ‰æ‰‹ç»­è´¹åï¼Œ  
  ä½ å°±èµšåˆ°äº†ä¸€ç¬”å°å°çš„ç¨³å®šå¸ä»·å·®æ”¶ç›Šã€‚

**ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©**è¦åšçš„å°±æ˜¯ï¼š

> æŠŠè¿™ç§æ“ä½œç³»ç»ŸåŒ–ï¼š  
> - åŒºé—´æ›´ç»†  
> - æ¡£ä½æ›´å¤š  
> - å·¥å…·è‡ªåŠ¨åŒ–  
> - å‘¨æœŸæ›´é¢‘ç¹  
>  
> è®©â€œç¨³å®šå¸ä¹‹é—´çš„å°å¹…å¤´ç—›â€  
> å˜æˆä½ è´¦æˆ·çš„æ„‰æ‚¦æ”¶å…¥ã€‚

---

## ğŸ§  ç­–ç•¥æ ¸å¿ƒé€»è¾‘ï¼šå¾®å°ä»·å·® + é«˜é¢‘æˆäº¤ + æè‡´æˆæœ¬æ§åˆ¶

### 1ï¸âƒ£ ä»·æ ¼è¡Œä¸ºç‰¹å¾ï¼šçª„å¹…ä½†é«˜é¢‘çš„ä¸Šä¸‹æ³¢åŠ¨

ä»¥ USDT/USDC ä¸ºä¾‹ï¼š

- é•¿æœŸå‡å€¼ â‰ˆ 1ï¼›  
- çŸ­æ—¶é—´å†…ï¼Œå¯èƒ½åœ¨ 0.9990~1.0010 ä¹‹é—´æ¥å›æŠ–åŠ¨ï¼›  
- å½“å¸‚åœºå­˜åœ¨å¤§é‡â€œå•å‘å…‘æ¢éœ€æ±‚â€ï¼ˆä¾‹å¦‚æŸåœ° USDT æ›´å—æ¬¢è¿ï¼‰ï¼Œ  
  è¿™ä¸ªä»·å·®å¯èƒ½çŸ­æš‚æ‰©å¼ åˆ° 0.995~1.005 ç­‰ã€‚

å¯¹æ™®é€šç”¨æˆ·æ¥è¯´ï¼Œè¿™äº›æ³¢åŠ¨å‡ ä¹å¯ä»¥å¿½ç•¥ï¼›  
ä½†å¯¹é«˜é¢‘ç½‘æ ¼æ¥è¯´ï¼Œå®ƒä»¬å°±æ˜¯ï¼š

> â€œä¸€å †åœ¨ä½ çœ¼çš®åº•ä¸‹ä½†æ²¡äººè®¤çœŸæ”¶æ‹¾çš„æ®‹ä½™ä»·å€¼â€ã€‚

### 2ï¸âƒ£ ç½‘æ ¼ç»“æ„ï¼šæç»†é—´è· + å°é¢è®¢å• + é«˜é¢‘æˆäº¤

ä¸ BTC ç½‘æ ¼é‚£ç§â€œå‡ ç™¾/å‡ åƒåˆ€ä¸€æ¡£â€ä¸åŒï¼š

- ç¨³å®šå¸ç½‘æ ¼çš„æ¯æ ¼å·®ä»·å¯èƒ½åªæœ‰ 0.01%~0.05%ï¼›  
- ä¾‹å¦‚ï¼š  
  - ä»·æ ¼ä¸­å¿ƒï¼š1.0000  
  - ç½‘æ ¼æ¡£ä½ï¼š0.9985 / 0.9990 / 0.9995 / 1.0000 / 1.0005 / 1.0010 / 1.0015 ç­‰ï¼›  

æ¯ä¸€ä¸ªæ¡£ä½ï¼š

- æŒ‚ä¸€ä¸ªä¹°å•ï¼ˆUSDTâ†’USDCï¼‰æˆ–å–å•ï¼ˆUSDCâ†’USDTï¼‰ï¼›  
- å½“ä»·æ ¼åœ¨è¿™äº›æ¡£ä½ä¹‹é—´é¢‘ç¹ç©¿æ¢­ï¼Œ  
  ä½ å°±å¯ä»¥é«˜é¢‘å®Œæˆâ€œç¨³å®šå¸å…‘æ¢ â†’ å†å…‘æ¢â€çš„å¾ªç¯ã€‚

### 3ï¸âƒ£ æˆæœ¬æ•æ„Ÿåº¦ï¼šæ‰‹ç»­è´¹å’Œæ»‘ç‚¹æ˜¯ç”Ÿæ­»çº¿

å› ä¸ºå•ç¬”ä»·å·®å¾ˆå°ï¼š

- æ”¶ç›Šå®Œå…¨å¯èƒ½è¢«æ‰‹ç»­è´¹ã€æ»‘ç‚¹å’Œäº¤æ˜“ç¨ä¸€å£åƒå…‰ï¼›  
- ç”šè‡³åœ¨æ²¡æœ‰ä¸¥å¯†æˆæœ¬æ§åˆ¶çš„å‰æä¸‹ï¼Œ  
  è¿™ä¸ªç­–ç•¥ä¼šå˜æˆâ€œæ›¿äº¤æ˜“æ‰€åˆ·é‡ + äº¤æ‰‹ç»­è´¹â€ã€‚

å› æ­¤ï¼Œç¨³å®šå¸ç½‘æ ¼å¥—åˆ©çš„å‰ææ˜¯ï¼š

1. ä½ çš„æ‰‹ç»­è´¹ç­‰çº§è¶³å¤Ÿä½ï¼ˆVIP/Maker ä½è´¹ç‡ï¼Œæˆ–è´Ÿè´¹ç‡è¿”ä½£ï¼‰ï¼›  
2. ç½‘æ ¼æ¡£ä½è®¾ç½®éœ€è¦è¦†ç›– Spread ä½†ä¸ä¸æŒ–çŸ¿æœºå™¨äººæ¶æ€§ç«äº‰ï¼›  
3. æ¯ä¸€æ ¼çš„ç†è®ºåˆ©æ¶¦ï¼ˆä»·å·® Ã— æˆäº¤æ•°é‡ï¼‰  
   > æ‰‹ç»­è´¹ + æ»‘ç‚¹ + é¢„ç•™é£é™©è¡¥å¿ã€‚  

---

## ğŸ§© ç­–ç•¥é…ç½®ç»“æ„ï¼ˆæ¦‚å¿µæ¨¡æ¿ï¼‰

\`\`\`javascript
const STABLECOIN_GRID_CONFIG_TEMPLATE = {
  symbol: 'USDCUSDT',              // ç¨³å®šå¸äº¤æ˜“å¯¹
  mode: 'spot',                    // ä¸€èˆ¬ä½¿ç”¨ç°è´§æ¨¡å¼
  lowerPrice: 0.9985,              // åŒºé—´ä¸‹è¾¹ç•Œï¼ˆæ ¹æ®å†å²æ³¢åŠ¨è®¾ç½®ï¼‰
  upperPrice: 1.0015,              // åŒºé—´ä¸Šè¾¹ç•Œ
  gridCount: 60,                   // ç½‘æ ¼æ¡£ä½æ•°é‡ï¼ˆæç»†é—´è·ï¼‰
  totalInvestment: 10000,          // æ€»ç¨³å®šå¸æŠ•å…¥è§„æ¨¡ï¼ˆUSDT è®¡ï¼‰
  quoteCurrency: 'USDT',           // èµ„é‡‘åŸºå‡†è®¡ä»·è´§å¸
  makerFeeRate: 0.0002,            // æŒ‚å•è´¹ç‡ï¼ˆç¤ºä¾‹ 0.02%ï¼‰
  takerFeeRate: 0.0004,            // åƒå•è´¹ç‡ï¼ˆç¤ºä¾‹ 0.04%ï¼‰
  minProfitPerGridRatio: 0.0005,   // æ¯æ ¼æœ€ä½ç›®æ ‡æ¯›åˆ©ç‡ï¼ˆ0.05%ï¼‰
  preferMakerOnly: true,           // ä¼˜å…ˆåªä½¿ç”¨æŒ‚å•ï¼ˆmakerï¼‰ï¼Œé¿å… taker æˆæœ¬
  autoRebalance: true,             // æ˜¯å¦è‡ªåŠ¨åœ¨ä¸¤ç§ç¨³å®šå¸ä¹‹é—´å†å¹³è¡¡
  exchange: 'binance',             // é»˜è®¤ä½¿ç”¨çš„äº¤æ˜“æ‰€
  monitorDepegRisk: true           // æ˜¯å¦ç›‘æ§è„±é”šé£é™©ï¼ˆæ¯”å¦‚ USDT/USDC é»‘å¤©é¹…ï¼‰
};
\`\`\`

---

## ğŸ› ï¸ ç½‘æ ¼é—´è·ä¸å•æ ¼åˆ©æ¶¦çš„ç®€æ˜“ä¼°ç®—ï¼ˆç¤ºæ„ï¼‰

\`\`\`javascript
/**
 * ä¼°ç®—ç¨³å®šå¸ç½‘æ ¼å•æ ¼ç†è®ºåˆ©æ¶¦ï¼ˆä¸å«æ»‘ç‚¹ï¼‰
 * priceStepRatio: æ¯æ ¼ä»·æ ¼å·®å æ¯”ï¼Œä¾‹å¦‚ 0.0005 = 0.05%
 * makerFeeRate:   æŒ‚å•è´¹ç‡
 * takerFeeRate:   åƒå•è´¹ç‡ï¼ˆè‹¥åªæŒ‚å•æˆäº¤ï¼Œå¯ä»¥è¿‘ä¼¼ç”¨ä¸¤è¾¹ makerï¼‰
 */
function estimateStablecoinGridProfit({
  priceStepRatio,
  makerFeeRate,
  takerFeeRate,
  makerOnly = true
}) {
  // ç†è®ºæ¯›åˆ©ï¼šä»·å·®æ”¶ç›Š
  const grossProfit = priceStepRatio; // æ¯”ä¾‹å½¢å¼

  // æˆæœ¬ï¼šä¸¤è¾¹æ‰‹ç»­è´¹ï¼ˆä¹°ä¸€ç¬” + å–ä¸€ç¬”ï¼‰
  let totalFee;
  if (makerOnly) {
    totalFee = 2 * makerFeeRate;
  } else {
    totalFee = makerFeeRate + takerFeeRate;
  }

  // å‡€åˆ©ç‡ï¼ˆæœªè€ƒè™‘æ»‘ç‚¹å’Œæ½œåœ¨ Depeg é£é™©ï¼‰
  const netProfit = grossProfit - totalFee;
  return {
    grossProfit,
    totalFee,
    netProfit
  };
}

// ä½¿ç”¨ç¤ºä¾‹ï¼ˆä»…ç¤ºæ„ï¼‰ï¼š
// const res = estimateStablecoinGridProfit({
//   priceStepRatio: 0.0008,  // 0.08% æ¯æ ¼
//   makerFeeRate: 0.0002,    // 0.02%
//   takerFeeRate: 0.0004,    // 0.04%
//   makerOnly: true
// });
// console.log(res);
\`\`\`

é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥ï¼š

- åœ¨ç­–ç•¥ä¸Šçº¿å‰ï¼Œå…ˆç”¨å‚æ•°æ¨¡æ‹Ÿå¤šç§æ¡£ä½é—´è·ï¼›  
- æ‰¾åˆ°â€œæ—¢èƒ½è¦†ç›–ä»·å·®ï¼Œåˆèƒ½è¦†ç›–æˆæœ¬è¿˜æœ‰å¾®åˆ©â€çš„åˆç†è®¾ç½®ã€‚

---

## ğŸ“Š é£é™©ç»´åº¦ï¼šçœ‹ä¼¼â€œæ— é£é™©â€çš„ç¨³å®šå¸ï¼Œå…¶å®æœ‰è¿™å‡ å±‚å‘

1. **ç¨³å®šå¸è‡ªèº«çš„è„±é”š/ä¿¡ç”¨é£é™©**  
   - USDTã€USDCã€BUSDã€FDUSDã€TUSDã€DAI ç­‰èƒŒåéƒ½æœ‰ä¸åŒçš„å‘è¡Œæœºæ„ä¸å‚¨å¤‡ç»“æ„ï¼›  
   - æŸäº›å¸å¯èƒ½åœ¨ç‰¹å®šç›‘ç®¡äº‹ä»¶ã€é“¾ä¸Šå±æœºã€å‘è¡Œæ–¹ä¸‘é—»ä¸­å‡ºç°æ˜æ˜¾è„±é”šï¼›  
   - ä¸€æ—¦å…¶ä¸­ä¸€ç«¯å‡ºç°æç«¯è´¬å€¼ï¼Œ  
     - ä½ â€œå¥—åˆ©â€åˆ°æ‰‹çš„å…¶å®æ˜¯ä¸€ä¸ªç»§ç»­ä¸‹è·Œçš„ç­¹ç ã€‚

2. **äº¤æ˜“æ‰€/å¹³å°é£é™©**  
   - ä½ çš„èµ„é‡‘é€šå¸¸ä¼šé•¿æ—¶é—´åœç•™åœ¨æŸä¸€ä¸ªæˆ–å¤šä¸ª CEX ä¸Šï¼›  
   - åœ¨æç«¯ç¯å¢ƒä¸­ï¼Œäº¤æ˜“æ‰€å†»ç»“æç°ã€ç ´äº§/æŒ¤å…‘éƒ½ä¼šæŠŠä½ çš„ç½‘æ ¼ç­–ç•¥å˜æˆâ€œäº¤æ˜“è´¦é¢æ•°å­—â€ï¼›  
   - å› æ­¤éœ€è¦åˆ†æ•£å¹³å°ã€å®šæœŸæç¦»éƒ¨åˆ†åˆ©æ¶¦åˆ°å†·é’±åŒ…/ä¸»é“¾ã€‚

3. **æ‰‹ç»­è´¹ç­‰çº§çš„â€œéšå½¢åˆ€åˆƒâ€**  
   - å¦‚æœä½ æ²¡æœ‰å‚ä¸ VIPã€åšå¸‚å•†ã€è¿”ä½£è®¡åˆ’ï¼Œ  
     - æ‰‹ç»­è´¹ç­‰çº§é€šå¸¸åé«˜ï¼›  
   - åœ¨å•ç¬”ä»·å·®æå°çš„å‰æä¸‹ï¼Œé«˜æ‰‹ç»­è´¹ä¼šè®©ç­–ç•¥ç›´æ¥å˜è´ŸæœŸæœ›ï¼›  
   - **ç¨³å®šå¸ç½‘æ ¼å¥—åˆ©çš„å‰æä¹‹ä¸€æ˜¯ï¼šä½ å·²ç»æ˜¯ä½è´¹ç‡ç”¨æˆ·**ï¼Œ  
     - æˆ–è€…ä¸äº¤æ˜“æ‰€è°ˆå¥½äº†åšå¸‚è´¹ç‡ã€‚

4. **æŠ€æœ¯é£é™©ï¼šAPIã€å»¶è¿Ÿã€æ’®åˆå¼‚å¸¸**  
   - è¶…é«˜é¢‘ç½‘æ ¼å¯¹æŠ€æœ¯è´¨é‡è¦æ±‚é«˜ï¼š  
     - API ç¨³å®šæ€§ã€  
     - æ’®åˆå»¶è¿Ÿã€  
     - è¿æ¥æ–­çº¿é‡è¿ï¼Œ  
     - æ„å¤–æŒ‚å•å¤±è´¥ç­‰ã€‚  
   - ä¸€æ—¦é•¿æ—¶é—´â€œåŠæ®‹çŠ¶æ€è¿è¡Œâ€ï¼Œ  
     - å¯èƒ½å‡ºç°å•è¾¹è¿‡åº¦åä»“ã€æœªæŒ‰é¢„æœŸå¹³è¡¡ç­‰é—®é¢˜ã€‚

---

## ğŸ¯ å®æˆ˜ Checklistï¼ˆ34.9ï¼‰

### 1ï¸âƒ£ å¯åŠ¨å‰çš„å‡†å¤‡

- [ ] ä½ å·²ç»ç†Ÿæ‚‰æ™®é€šç°è´§ç½‘æ ¼ï¼ˆå¦‚ BTC/ETH ç½‘æ ¼ï¼‰çš„åŸºç¡€é€»è¾‘ï¼›  
- [ ] ä½ å·²ç»äº†è§£è‡ªå·±åœ¨ç›®æ ‡äº¤æ˜“æ‰€çš„å®é™…æ‰‹ç»­è´¹ç­‰çº§ï¼ˆmaker/takerï¼‰ï¼›  
- [ ] ä½ å¯¹ç›®æ ‡ç¨³å®šå¸ï¼ˆUSDT/USDC/FDUSD ç­‰ï¼‰çš„ä¿¡ç”¨ã€ç›‘ç®¡åŠå†å²è„±é”šäº‹ä»¶æœ‰åŸºæœ¬äº†è§£ï¼›  
- [ ] ä½ æœ‰èƒ½åŠ›éƒ¨ç½²æˆ–ä½¿ç”¨ç¨³å®šã€é«˜å¯ç”¨çš„ç½‘æ ¼æœºå™¨äºº/åšå¸‚è„šæœ¬ã€‚

### 2ï¸âƒ£ äº¤æ˜“å¯¹ä¸åŒºé—´é€‰æ‹©

- [ ] ä¼˜å…ˆé€‰æ‹©ï¼š  
  - å¤§äº¤æ˜“æ‰€ä¸Šçš„ä¸»æµç¨³å®šå¸å¯¹ï¼ˆUSDT/USDC ç­‰ï¼‰ï¼›  
  - æ·±åº¦å¥½ã€æˆäº¤é‡è¾ƒé«˜ã€ç›˜å£è–„åšé€‚ä¸­çš„å¸‚åœºï¼›  
- [ ] æ ¹æ®å†å²æ•°æ®ï¼ˆ7~30 å¤©ï¼‰ä¼°ç®—åˆç†æ³¢åŠ¨åŒºé—´ï¼š  
  - ä¾‹å¦‚ 0.998~1.002 æˆ–ç•¥å®½ä¸€ç‚¹ã€‚

### 3ï¸âƒ£ ç½‘æ ¼å‚æ•°è®¾ç½®

- [ ] å†³å®šç½‘æ ¼æ•°é‡ï¼ˆä¾‹å¦‚ 40~100 æ¡£ï¼‰ï¼Œè¦†ç›–æ•´ä¸ªåŒºé—´ï¼›  
- [ ] è®¡ç®—æ¯ä¸€æ ¼çš„é—´è·ï¼ˆä»·å·®ï¼‰å¹¶ç”¨ä¸Šé¢çš„å…¬å¼ä¼°ç®—å‡€åˆ©ç‡ï¼›  
- [ ] ç¡®è®¤ï¼šå•æ ¼ç†è®ºå‡€åˆ©ç‡ > æ‰‹ç»­è´¹ + æ»‘ç‚¹ + é£é™©é¢„ç•™ï¼›  
- [ ] åˆç†æ‹†åˆ†èµ„é‡‘ï¼š  
  - é¿å…å•ç¬”è¿‡å°ï¼ˆè¢«æœ€å°äº¤æ˜“å•ä½/æ‰‹ç»­è´¹åå™¬ï¼‰ï¼Œ  
  - ä¹Ÿé¿å…å•ç¬”è¿‡å¤§ï¼ˆå½±å“ç›˜å£ã€å¼•å‘è‡ªæŸæ»‘ç‚¹ï¼‰ã€‚

### 4ï¸âƒ£ è¿è¡Œä¸ç›‘æ§

- [ ] å®ç›˜è¿è¡ŒåˆæœŸï¼Œæ”¾å°ä»“ä½è¿›è¡Œ 1-2 å‘¨æµ‹è¯•ï¼›  
- [ ] è§‚å¯Ÿï¼š  
  - å®é™…æ¯æ ¼æˆäº¤é¢‘ç‡ï¼›  
  - å®é™…å‡€åˆ©ï¼ˆæ‰£é™¤æ‰‹ç»­è´¹åï¼‰ä¸ç†è®ºå€¼çš„åå·®ï¼›  
  - æ˜¯å¦å­˜åœ¨æç«¯è¡Œæƒ…æ—¶çš„è„±é”šè¿¹è±¡ï¼›  
- [ ] å¯¹äºå‡ºç°å¼‚å¸¸æ³¢åŠ¨ã€è´Ÿé¢æ–°é—»ã€ç›‘ç®¡é£é™©æ—¶ï¼š  
  - ä¼˜å…ˆè€ƒè™‘å…³åœç­–ç•¥å¹¶å›æ”¶èµ„é‡‘ã€‚

### 5ï¸âƒ£ å†å¹³è¡¡ä¸é€€å‡º

- [ ] å®šæœŸæ£€æŸ¥ç¨³å®šå¸èµ„äº§åˆ†å¸ƒï¼š  
  - æ˜¯å¦ä¸€è¾¹ç¨³å®šå¸æ˜æ˜¾è¿‡å¤šï¼ˆä¾‹å¦‚ 90% éƒ½æ˜¯ USDCï¼‰ï¼›  
  - æ˜¯å¦éœ€è¦äººå·¥æˆ–è‡ªåŠ¨å†å¹³è¡¡ï¼Œ  
    è®©ä¸¤ç§å¸çš„æ¯”ä¾‹å›åˆ°ç­–ç•¥é¢„æœŸèŒƒå›´ï¼›  
- [ ] å‘¨æœŸæ€§æç¦»éƒ¨åˆ†åˆ©æ¶¦ï¼š  
  - å°†éƒ¨åˆ†æ”¶ç›Šæåˆ°ä¸»é“¾/å†·é’±åŒ…/å¤šç­¾åœ°å€ï¼Œ  
  - é¿å…å…¨éƒ¨èµ„é‡‘é•¿æœŸæš´éœ²åœ¨å•ä¸ªå¹³å°é£é™©é‡Œï¼›  
- [ ] å½“é•¿æœŸæ¥çœ‹ä»·å·®æ”¶çª„ã€æµåŠ¨æ€§æ¶åŒ–ã€ç›‘ç®¡ä¸ç¡®å®šæ€§ä¸Šå‡æ—¶ï¼š  
  - åŠæ—¶è€ƒè™‘ç­–ç•¥æ•´ä½“ä¸‹çº¿æˆ–è¿ç§»åˆ°å…¶ä»–ç¨³å®šå¸å¯¹ã€‚

---

## ğŸ§® æ•™å­¦ç‰ˆï¼šç¨³å®šå¸ç½‘æ ¼ç”Ÿæˆå™¨æ€è·¯ï¼ˆç®€åŒ–ï¼‰

> ä»¥ä¸‹ç¤ºä¾‹ä¸»è¦ç”¨äºæ•™å­¦å’Œç­–ç•¥è®¾è®¡ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦ç»“åˆå®é™… API ä¸é£æ§æ¨¡å—ã€‚

\`\`\`javascript
function buildStablecoinGrid({
  lowerPrice,
  upperPrice,
  gridCount,
  totalInvestment
}) {
  const step = (upperPrice - lowerPrice) / (gridCount - 1);
  const prices = [];
  for (let i = 0; i < gridCount; i++) {
    prices.push(lowerPrice + step * i);
  }

  // ç®€åŒ–å¤„ç†ï¼šæ¯ä¸€æ¡£åˆ†é…ç›¸åŒèµ„é‡‘
  const perGridInvestment = totalInvestment / (gridCount - 1);

  return prices.map((price, idx) => {
    // æ•™å­¦ç¤ºæ„ï¼šä¸­æ¢ä»·ä»¥ä¸‹è®¾ä¸ºä¹°å•ã€ä»¥ä¸Šè®¾ä¸ºå–å•
    const midIndex = Math.floor(gridCount / 2);
    const side = idx <= midIndex ? 'buy' : 'sell';
    return {
      price,
      side,
      budget: perGridInvestment
    };
  });
}

// ç¤ºä¾‹ï¼š
// const grid = buildStablecoinGrid({
//   lowerPrice: 0.9985,
//   upperPrice: 1.0015,
//   gridCount: 60,
//   totalInvestment: 10000
// });
// console.log(grid.slice(0, 5));
\`\`\`

---

## âœ… å°ç»“ï¼šç¨³å®šå¸ç½‘æ ¼å¥—åˆ©åœ¨ä½ ç©æ³•åº“ä¸­çš„å®šä½

åœ¨æ•´ä¸ªã€Œè¡ç”Ÿå“ç­–ç•¥ (Derivatives Strategies) / grid-tradingã€æ¨¡å—ä¸­ï¼š

- BTC/ETH ç½‘æ ¼ï¼Œå¼ºè°ƒâ€œæ³¢åŠ¨ä¸­å¥—åˆ©â€ï¼›  
- å±±å¯¨å¸é«˜æ³¢åŠ¨ç½‘æ ¼ï¼Œå¼ºè°ƒâ€œé«˜é£é™©é«˜æ³¢â€ï¼›  
- ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©ï¼Œåˆ™æ˜¯ï¼š

> â€œåœ¨çœ‹ä¼¼æ²¡ä»€ä¹ˆæ³¢åŠ¨çš„åœ°æ–¹ï¼Œ  
>  ç”¨è¶…ç²¾ç»†ç½‘æ ¼ + æè‡´æˆæœ¬æ§åˆ¶ï¼Œ  
>  æŠŠå¾®å°ä»·å·®å˜æˆé«˜é¢‘å¤šæ¬¡çš„ç‚¹æ•°æ”¶ç›Šã€‚â€

å®ƒæ›´æ¥è¿‘åšå¸‚ä¸é«˜é¢‘çš„ä¸­é—´åœ°å¸¦ï¼š

- å¯¹æ ‡çš„æ–¹å‘æ€§é£é™©ç›¸å¯¹æ›´ä½ï¼›  
- å¯¹æ‰§è¡Œä¸æˆæœ¬çš„è¦æ±‚æé«˜ï¼›  
- å¯¹äº¤æ˜“æ‰€å’Œç¨³å®šå¸ä½“ç³»çš„æ•´ä½“å®‰å…¨æ€§é«˜åº¦æ•æ„Ÿã€‚

åœ¨ä½ çš„å¹³å°ä¸­ï¼Œå¯ä»¥æŠŠ 34.9 æ ‡è®°ä¸ºï¼š

> ã€Œé€‚åˆå¯¹æ‰‹ç»­è´¹ã€æ·±åº¦ã€å»¶è¿Ÿæœ‰å¼ºæ•æ„Ÿåº¦ï¼Œ  
>  å¹¶å…·å¤‡ä¸€å®šé‡åŒ–/åšå¸‚ç»éªŒçš„é«˜é˜¶ç½‘æ ¼ç©æ³•ã€‚ã€

---
`
};

/**
 * ä¸Šä¼  34.9 ç­–ç•¥åˆ° Directus
 */
async function uploadStrategies() {
  const DIRECTUS_URL = 'http://localhost:8055';

  console.log('å¼€å§‹ä¸Šä¼ ç­–ç•¥ 34.9 (ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©)...\n');

  try {
    const { execSync } = require('child_process');
    const tokenOutput = execSync('./get-new-directus-token.sh').toString();
    const tokenMatch = tokenOutput.match(/DIRECTUS_ADMIN_TOKEN=(.+)/);

    if (!tokenMatch) {
      throw new Error('Failed to get admin token');
    }

    const ADMIN_TOKEN = tokenMatch[1].trim();

    const headers = {
      Authorization: `Bearer ${ADMIN_TOKEN}`,
      'Content-Type': 'application/json'
    };

    console.log('ä¸Šä¼ ç­–ç•¥ 34.9: ç¨³å®šå¸å¯¹ç½‘æ ¼å¥—åˆ©...');
    await axios.post(`${DIRECTUS_URL}/items/strategies`, STRATEGY_34_9, {
      headers
    });
    console.log('âœ… ç­–ç•¥ 34.9 ä¸Šä¼ æˆåŠŸ\\n');

    const response = await axios.get(
      `${DIRECTUS_URL}/items/strategies?limit=1&meta=total_count`,
      { headers }
    );
    console.log(
      `âœ… æ•°æ®åº“ä¸­ç°æœ‰ç­–ç•¥æ€»æ•°: ${response.data.meta.total_count}`
    );
  } catch (error) {
    console.error('âŒ ä¸Šä¼ å¤±è´¥:', error.response?.data || error.message);
    process.exit(1);
  }
}

// è‹¥éœ€è¦ç›´æ¥åœ¨ Node ä¸­æ‰§è¡Œå†™å…¥ç­–ç•¥ï¼Œå¯ä»¥å–æ¶ˆä¸‹é¢ä¸€è¡Œæ³¨é‡Šï¼š
uploadStrategies();
