const axios = require('axios');

const DIRECTUS_URL = 'http://localhost:8055';

/**
 * å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¯å¢ƒå˜é‡
 * const DIRECTUS_EMAIL = process.env.DIRECTUS_EMAIL
 * const DIRECTUS_PASSWORD = process.env.DIRECTUS_PASSWORD
 */

const GUIDE_CONFIG = {
  // ===== åŸºæœ¬ä¿¡æ¯ =====
  title: 'NFT é“¸é€ ï¼ˆNFT Mintingï¼‰å®Œå…¨æŒ‡å—',
  slug: 'nft-minting-complete-guide',
  summary:
    'é¢å‘å‚ä¸è€…ä¸å‘è¡Œæ–¹çš„åŒè§†è§’æ‰‹å†Œï¼šç™½åå•/å…¬å”®/å…è´¹é“¸é€ ã€é“¾ä¸æ ‡å‡†é€‰å‹ã€Gas/æŠ¢é“¸ä¸é˜²æœºå™¨äººã€å…ƒæ•°æ®ä¸æ‰˜ç®¡ï¼ˆIPFS/Arweaveï¼‰ã€æ­ç¤ºæœºåˆ¶ä¸ç‰ˆæƒ/ç‰ˆç¨ã€é£æ§ä¸è¯æ®ç•™å­˜ã€‚',

  // åœ¨ Directus ä¸­æ›¿æ¢ä¸ºçœŸå®åˆ†ç±» ID
  category: '4056f89b-9c40-4b82-a343-8a2cae9e23e6',

  // ç«™å†…ä¸€çº§/äºŒçº§åˆ†ç±»
  category_l1: 'nft',
  category_l2: 'NFT é“¸é€ ',

  // ===== å…ƒæ•°æ® =====
  difficulty_level: 2,           // 1-5
  risk_level: 3,                 // é’“é±¼/å‡åˆçº¦/Gasæˆ˜/ç‰ˆæƒäº‰è®®
  apy_min: 0,
  apy_max: 0,

  // èµ„é‡‘/æ—¶é—´/æŠ€æœ¯é—¨æ§›
  threshold_capital: '10â€“1,000 USDï¼ˆæŒ‰é“¾ä¸é¡¹ç›®å¼¹æ€§å‚ä¸ï¼‰',
  threshold_capital_min: 10,
  time_commitment: 'æ¯å‘¨ 1â€“2 å°æ—¶ï¼ˆå€™é€‰ç­›é€‰/å‡†å¤‡/å‚ä¸/å¤ç›˜ï¼‰',
  time_commitment_minutes: 90,
  threshold_tech_level: 'beginner',

  // ===== å¯è¯»æ€§å¼ºçš„ Markdown æ­£æ–‡ =====
  content: `> **é€‚ç”¨äººç¾¤**ï¼šæƒ³è¦**å®‰å…¨ã€é«˜æ•ˆ**å‚ä¸ NFT é“¸é€ ï¼ˆæˆ–ä»¥å‘è¡Œæ–¹è§†è§’é™ä½é£æ§ä¸è¿è¥æˆæœ¬ï¼‰çš„ä¸ªäººä¸å›¢é˜Ÿ  
> **é˜…è¯»æ—¶é—´**ï¼šâ‰ˆ 12â€“16 åˆ†é’Ÿ  
> **å…³é”®è¯**ï¼šAllowlist / Public Mint / Free Mint / ERC-721 / ERC-1155 / SBT / Metadata / Reveal / Provenance / Royalty / IPFS / Arweave / Anti-Bot

---

## ğŸ§­ TL;DR
- **ä¸‰ç±»å‚ä¸**ï¼š\\*ç™½åå•ï¼ˆAllowlist/ALï¼‰\\*ã€\\*å…¬å”®ï¼ˆPublicï¼‰\\*ã€\\*å…è´¹é“¸é€ ï¼ˆFree Mintï¼‰\\*ã€‚ä¼˜å…ˆ **å®˜æ–¹é“¾æ¥+å·²å®¡è®¡åˆçº¦**ï¼Œé¢„å…ˆè®¾ç½® **Gas ä¸Šé™ä¸æˆæƒæœ€å°åŒ–**ã€‚  
- **æ ¸å¿ƒè¦ç‚¹**ï¼šé“¾ä¸æ ‡å‡†ï¼ˆERC-721/1155ï¼‰ã€**å…ƒæ•°æ®ä¸æ‰˜ç®¡ï¼ˆIPFS/Arweaveï¼‰**ã€**æ­ç¤ºï¼ˆRevealï¼‰ä¸æº¯æºï¼ˆProvenanceï¼‰**ã€**ç‰ˆæƒä¸ç‰ˆç¨**ã€åæœºå™¨äººä¸äº¤æ˜“æ‰€äºŒçº§æµåŠ¨æ€§ã€‚  
- **çºªå¾‹**ï¼š**ç™½åå•è¯æ®ç•™å­˜**ã€**ç­¾ååªåœ¨å®˜ç½‘åŸŸå**ã€**å°é¢è¯•é“¸**ã€åŠ¨æ€è°ƒæ•´ **Gas/æ»‘ç‚¹**ï¼›å‘è¡Œä¾§ä½¿ç”¨ **é˜²æœºå™¨äºº/é™é¢/é˜¶æ®µå¼€å”®**ã€‚

---

## ğŸ—‚ ç›®å½•
1. [å‚ä¸è€…è§†è§’ï¼šé“¸é€ æµç¨‹ä¸å‡†å¤‡](#å‚ä¸è€…è§†è§’é“¸é€ æµç¨‹ä¸å‡†å¤‡)
2. [å‘è¡Œæ–¹è§†è§’ï¼šæ ‡å‡†ã€æ‰˜ç®¡ä¸æ­ç¤º](#å‘è¡Œæ–¹è§†è§’æ ‡å‡†æ‰˜ç®¡ä¸æ­ç¤º)
3. [é“¾ä¸æ ‡å‡†ï¼šè¯¥é€‰å“ªæ¡é“¾/å“ªç§æ ‡å‡†](#é“¾ä¸æ ‡å‡†è¯¥é€‰å“ªæ¡é“¾å“ªç§æ ‡å‡†)
4. [é˜²éª—ä¸é£æ§ SOP](#é˜²éª—ä¸é£æ§-sop)
5. [æŠ¢é“¸ä¸Gasä¼˜åŒ–](#æŠ¢é“¸ä¸gasä¼˜åŒ–)
6. [ç‰ˆç¨ä¸äºŒçº§å¸‚åœº](#ç‰ˆç¨ä¸äºŒçº§å¸‚åœº)
7. [æŒ‡æ ‡çœ‹æ¿ä¸è¯æ®ç•™å­˜](#æŒ‡æ ‡çœ‹æ¿ä¸è¯æ®ç•™å­˜)
8. [FAQ](#faq)
9. [ä¸€é¡µæ‰§è¡Œæ¸…å•](#ä¸€é¡µæ‰§è¡Œæ¸…å•)

---

## ğŸ‘¤ å‚ä¸è€…è§†è§’ï¼šé“¸é€ æµç¨‹ä¸å‡†å¤‡
- **å‘ç°ä¸ç­›é€‰**ï¼šå®˜æ–¹ç«™ç‚¹/Twitter/Discordã€èšåˆå¹³å°ï¼ˆGalxe/Layer3/Manifold/Blur Launchpad/Magic Edenï¼‰ã€‚  
- **èµ„æ ¼ä¸é—¨æ§›**ï¼šç™½åå•ç­¾å/æŒæœ‰æŸNFT/ä»»åŠ¡å®Œæˆæˆªå›¾ï¼›æå‰ç»‘å®šé’±åŒ…ä¸ç¤¾äº¤ã€‚  
- **åˆçº¦ç¡®è®¤**ï¼šåœ¨å®˜æ–¹é¡µé¢ç‚¹å‡»åˆ° **åŒºå—æµè§ˆå™¨** æ ¡éªŒåˆçº¦åœ°å€ã€å‡½æ•°ï¼ˆ\`mint\`/ \`publicMint\`/ \`whitelistMint\` ç­‰ï¼‰ã€‚  
- **èµ„é‡‘ä¸Gas**ï¼šå‡†å¤‡ **mint ä»·æ ¼ + é¢„ä¼° Gas**ï¼ˆé«˜å³°Ã—1.5 å®‰å…¨å«ï¼‰ï¼Œåˆ†åœ°å€å°é¢å‚ä¸ã€‚  
- **æ“ä½œé¡ºåº**ï¼šå…ˆæµ‹è¯•ç½‘/å°é¢åº¦ â†’ æ­£å¼é“¸é€  â†’ é¢†å–/ç­¾å â†’ ç«‹åˆ» **Revoke æˆæƒ**ï¼ˆéå¿…è¦æ— éœ€ Approve å…¨é¢ï¼‰ã€‚

---

## ğŸ§± å‘è¡Œæ–¹è§†è§’ï¼šæ ‡å‡†ã€æ‰˜ç®¡ä¸æ­ç¤º
- **åˆçº¦æ ‡å‡†**ï¼š  
  - **ERC-721** å•ä¸€è—å“ã€ç‹¬ç‰¹æ€§å¼ºï¼›  
  - **ERC-1155** å¤šç‰ˆæœ¬/åŒè´¨åŒ–æ‰¹é‡ï¼Œé€‚åˆé—¨ç¥¨/é“å…·ï¼›  
  - **SBT** ä¸å¯è½¬ç§»èº«ä»½å‡­è¯ï¼ˆè°¨æ…ï¼‰ã€‚  
- **å…ƒæ•°æ®ä¸åª’ä½“æ‰˜ç®¡**ï¼š**IPFS/Arweave** æˆ–æ··åˆï¼ˆPinning/ç½‘å…³ä¸å†—ä½™ï¼‰ï¼›é¿å…çº¯ä¸­å¿ƒåŒ– URLã€‚  
- **æ­ç¤ºï¼ˆRevealï¼‰**ï¼šå…ˆå ä½ï¼ˆå ä½å›¾+éšè—å…ƒæ•°æ®ï¼‰â†’ å…¬å¸ƒ **Provenance Hash** ä¸æ‰“ä¹±ç§å­ï¼ˆChainlink VRF ç­‰ï¼‰â†’ å®šæ—¶æ­ç¤ºã€‚  
- **åæœºå™¨äºº/é™é¢**ï¼š**æ¯åœ°å€/æ¯Tx é™é¢**ã€Merkle è¯æ˜ç™½åå•ã€é˜¶æ®µå¼€å”®ï¼ˆé¢„å”®â†’å…¬å”®ï¼‰ã€äººæœºéªŒè¯/ç­¾åç™½åå•ã€‚  
- **åº”æ€¥**ï¼šPause/Timelock/å¤šç­¾æƒé™æ¸…æ™°ï¼›å¼‚å¸¸æŠ«éœ²ä¸é€€æ¬¾é¢„æ¡ˆã€‚

---

## ğŸŒ é“¾ä¸æ ‡å‡†ï¼šè¯¥é€‰å“ªæ¡é“¾/å“ªç§æ ‡å‡†
- **ä»¥å¤ªåŠä¸»ç½‘**ï¼šå“ç‰Œä¸æµåŠ¨æ€§å¼ºï¼ŒGas é«˜ï¼›ä¸¥é€‰ä¼˜è´¨é¡¹ç›®ä¸é‡è¦å‘å¸ƒã€‚  
- **L2ï¼ˆOP/ZKï¼‰ä¸ä¸»æµä¾§é“¾**ï¼šGas ä½ã€é€‚åˆä»»åŠ¡ç±»/å¤§è§„æ¨¡å‘è¡Œï¼ˆBaseã€Blastã€zkSyncã€Arbitrumã€Polygonã€BSC ç­‰ï¼‰ã€‚  
- **æ¯”ç‰¹ç³»ï¼ˆOrdinals/BRC-20/Runesï¼‰**ï¼šé“­æ–‡ç”Ÿæ€ï¼Œè§„åˆ™ä¸åŒï¼ˆéœ€ä½¿ç”¨å…¼å®¹é’±åŒ…/æœåŠ¡ï¼‰ã€‚  
> é€‰æ‹©ä¾æ®ï¼š**è´¹ç”¨**ã€**äºŒçº§æµåŠ¨æ€§**ã€**å¼€å‘å·¥å…·é“¾** ä¸ **å—ä¼—**ã€‚

---

## ğŸ›¡ï¸ é˜²éª—ä¸é£æ§ SOP
- **åªç‚¹å®˜æ–¹åŸŸå**ï¼›**åˆçº¦åœ°å€** ä»¥å®˜æ–¹å…¬å¸ƒä¸ºå‡†ï¼›æ‹’ç»ç§ä¿¡ Mint é“¾æ¥ã€‚  
- **ç­¾åæœ€å°åŒ–**ï¼šä»…ç­¾ä¸é“¸é€ ç›¸å…³çš„æ¶ˆæ¯/äº¤æ˜“ï¼›é¿å…â€œSetApprovalForAllâ€ã€‚  
- **æˆæƒç®¡ç†**ï¼šé“¸é€ åç”¨ **Allowance å·¥å…· Revoke**ã€‚  
- **å°é¢è¯•é“¸**ï¼šå…ˆ 1â€“2 æšï¼›**å¤±è´¥ç‡é«˜/åˆçº¦å¼‚å¸¸** ç«‹åˆ»åœã€‚  
- **è¯æ®é“¾**ï¼šä¿å­˜ **Txã€æˆªå›¾ã€ç™½åå•é¢æ¿**ï¼›ä¾¿äºåç»­ç”³è¯‰/è¡¥å‘ã€‚

---

## âš¡ æŠ¢é“¸ä¸ Gas ä¼˜åŒ–
- **æ—¶é—´çª—**ï¼šç²¾ç¡®åˆ°ç§’ï¼›æå‰åœ¨å®˜æ–¹ UI é¢„å¡«å‚æ•°ã€‚  
- **Gas ç­–ç•¥**ï¼šEIP-1559 è®¾ç½® **Max Fee/Max Priority**ï¼›ç”¨ **Gas oracle** ä¼°ç®—æ‹¥å µï¼›å¿…è¦æ—¶ **åŠ ä»·æŠ¢ Tx**ã€‚  
- **å¹¶å‘ä¸é‡è¯•**ï¼šæ”¯æŒ Nonce æ’é˜Ÿä¸å¤±è´¥å›é€€ï¼›é¿å…å¤šé’±åŒ…åŒç§’å†²çªè¢«é£æ§ã€‚  
- **èµ›åå¤„ç†**ï¼šè‹¥ä¸ºä»»åŠ¡å‹/ç§¯åˆ†å‹é“¸é€ ï¼ŒåŠæ—¶ **Claim/OAT** å¹¶è®°å½•ã€‚

---

## ğŸ’¿ ç‰ˆç¨ä¸äºŒçº§å¸‚åœº
- **é“¾ä¸Š/é“¾ä¸‹ç‰ˆç¨**ï¼šå¤šæ•°å¹³å°å¯¹ **åˆ›ä½œè€…ç‰ˆç¨å¯é€‰**ï¼›å‘è¡Œæ—¶å£°æ˜ **è®¸å¯åè®®**ï¼ˆCC0/å•†ä¸šä½¿ç”¨/é™åˆ¶æ€§ï¼‰ã€‚  
- **äºŒçº§æŒ‚å•**ï¼šé¦–å‘å¹³å°ï¼ˆOpenSea/Blur/Magic Eden ç­‰ï¼‰æ·±åº¦å·®å¼‚æ˜æ˜¾ï¼›å…³æ³¨ **åœ°æ¿ä»·/æˆäº¤/ç‰ˆç¨æ‰§è¡Œ**ã€‚  
- **åˆè§„ä¸å•†ç”¨**ï¼šæ¸…æ™°çš„ **ç‰ˆæƒä¸è®¸å¯** æ–‡æœ¬ + å…ƒæ•°æ®é“¾æ¥ï¼ˆREADME/ç½‘ç«™ï¼‰ã€‚

---

## ğŸ“Š æŒ‡æ ‡çœ‹æ¿ä¸è¯æ®ç•™å­˜
- **å‚ä¸ä¾§**ï¼šmint æˆåŠŸç‡ã€Gas/ä»¶ã€ç™½åå•æˆåŠŸç‡ã€æŒæœ‰å¤©æ•°ã€äºŒçº§å–å‡ºç‡ã€å‡€æ”¶ç›Šã€‚  
- **å‘è¡Œä¾§**ï¼šé“¸é€ å®Œæˆç‡ã€å”¯ä¸€åœ°å€ã€æœºå™¨äººå æ¯”ã€æ­ç¤ºæŒ‰æ—¶ç‡ã€äºŒçº§æˆäº¤/åœ°æ¿ã€ç‰ˆç¨å›æ”¶ç‡ã€‚  
- **è¯æ®å­—æ®µ**ï¼šproject/chain/contract/method/tx_hash/block_time/mint_price/gas/max_fee/proof_url/screenshot_url/allowlist_flag/reveal_time/royalty_bp/notesã€‚

---

## â“FAQ
**Q1ï¼šå…è´¹é“¸é€ å€¼å¾—å—ï¼Ÿ**  
> é€‚åˆ **ä»»åŠ¡/ç”Ÿæ€å‚ä¸** ä¸ **ä½æˆæœ¬ä¸‹æ³¨**ï¼›ä½†å¸¸ä¼´éš **æœºå™¨äºº/åœ°æ¿æ³¢åŠ¨**ï¼Œå°é¢è¯•é“¸ä¸ºå®œã€‚  
**Q2ï¼šå¦‚ä½•åˆ¤æ–­æ˜¯å¦ä¸ºå‡åˆçº¦ï¼Ÿ**  
> ä»…ä¿¡ **å®˜æ–¹å‘å¸ƒ** çš„åœ°å€ï¼›åœ¨æµè§ˆå™¨æ ¸å¯¹ **åˆçº¦åˆ›å»ºè€…/æºç éªŒè¯/ç¤¾åª’ä¸€è‡´æ€§**ã€‚  
**Q3ï¼šé“¸é€ åå¤šä¹…æ­ç¤ºåˆé€‚ï¼Ÿ**  
> ç”±é¡¹ç›®èŠ‚å¥å†³å®šï¼›é€æ˜çš„ **Provenance ä¸éšæœºæœºåˆ¶** æ›´èƒ½è·å¾—ä¿¡ä»»ã€‚

---

## âœ… ä¸€é¡µæ‰§è¡Œæ¸…å•
- [ ] å®˜æ–¹é“¾æ¥ä¸åˆçº¦åœ°å€æ ¸éªŒï¼Œç™½åå•å‡­è¯ä¿å­˜  
- [ ] èµ„é‡‘ä¸ Gas é¢„æ¡ˆï¼Œå°é¢è¯•é“¸ï¼Œæˆæƒæœ€å°åŒ–å¹¶åŠæ—¶ Revoke  
- [ ] å…³æ³¨æ­ç¤º/éšæœºä¸ç‰ˆç¨æ–‡æœ¬ï¼›è®°å½• Tx/æˆªå›¾  
- [ ] æŠ¢é“¸ï¼šEIP-1559 å‚æ•°ã€Gas oracleã€å¤±è´¥å›é€€  
- [ ] å‘è¡Œæ–¹ï¼šIPFS/Arweave æ‰˜ç®¡ã€é˜¶æ®µå¼€å”®ã€Anti-Botã€Provenance ä¸åº”æ€¥é¢„æ¡ˆ
`,

  // ===== ä¸å‰ç«¯é€‚é…çš„æ­¥éª¤ç»“æ„ï¼ˆ5æ­¥ï¼‰ =====
  steps: [
    { step_number: 1, title: 'å€™é€‰ä¸èµ„æ ¼', description: 'æ”¶é›†å®˜æ–¹é“¾æ¥ä¸ç™½åå•ï¼Œæ ¸éªŒåˆçº¦ä¸é—¨æ§›ï¼Œå‡†å¤‡èµ„é‡‘ä¸Gasã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ' },
    { step_number: 2, title: 'å°é¢è¯•é“¸', description: 'å…ˆå°é¢è¯•é“¸ä¸æˆæƒæœ€å°åŒ–ï¼Œå¼‚å¸¸ç«‹å³åœæœºå¹¶Revokeã€‚', estimated_time: '10â€“20 åˆ†é’Ÿ/æ¬¡' },
    { step_number: 3, title: 'æŠ¢é“¸ä¸è®°å½•', description: 'æŒ‰çª—å£æŠ¢é“¸ï¼Œè®¾ç½®EIP-1559å‚æ•°ï¼›ä¿å­˜Tx/æˆªå›¾/ç™½åå•è¯æ®ã€‚', estimated_time: '10â€“20 åˆ†é’Ÿ/æ¬¡' },
    { step_number: 4, title: 'æ­ç¤ºä¸äºŒçº§', description: 'å…³æ³¨Reveal/Provenanceï¼›è¯„ä¼°äºŒçº§å¹³å°æµåŠ¨æ€§ä¸ç‰ˆç¨æ‰§è¡Œã€‚', estimated_time: '20â€“40 åˆ†é’Ÿ' },
    { step_number: 5, title: 'å¤ç›˜ä¸é£æ§', description: 'ç»Ÿè®¡æˆåŠŸç‡/å•ä½æˆæœ¬/å‡€æ”¶ç›Šï¼›ä¼˜åŒ–å€™é€‰åº“ä¸Gasç­–ç•¥ã€‚', estimated_time: '30â€“60 åˆ†é’Ÿ/å‘¨' },
  ],
};

// ===== è‡ªåŠ¨æ‰§è¡Œï¼šä¸æ—¢æœ‰æ¨¡æ¿ä¸€è‡´ =====
async function getAuthToken() {
  const response = await axios.post(`${DIRECTUS_URL}/auth/login`, {
    email: 'the_uk1@outlook.com',
    password: 'Mygcdjmyxzg2026!',
  });
  return response.data.data.access_token;
}

async function addGuide() {
  try {
    const token = await getAuthToken();

    const strategy = {
      ...GUIDE_CONFIG,
      status: 'published',
      is_featured: true,
      view_count: 0,
      bookmark_count: 0,
      published_at: new Date().toISOString(),
    };

    const response = await axios.post(
      `${DIRECTUS_URL}/items/strategies`,
      strategy,
      {
        headers: {
          Authorization: `Bearer ${token}`,
          'Content-Type': 'application/json',
        },
      },
    );

    console.log('\nâœ… NFT é“¸é€  æŒ‡å—åˆ›å»ºæˆåŠŸ!');
    console.log(`   ID: ${response.data.data.id}`);
    console.log(`   Slug: ${response.data.data.slug}`);
    console.log(`   è®¿é—®: http://localhost:3000/strategies/${response.data.data.slug}\n`);
  } catch (error) {
    console.error('\nâŒ åˆ›å»ºå¤±è´¥:', error.response?.data || error.message);
  }
}

addGuide();
