const axios = require('axios');

const DIRECTUS_URL = 'http://localhost:8055';

// ===== 12.7 Drift Protocol Solana åšå¸‚ =====
const STRATEGY_12_7 = {
  title: 'Drift Protocol Solana åšå¸‚ - é«˜æ€§èƒ½é“¾ä¸Šæ°¸ç»­åšå¸‚',
  slug: 'orderbook-12-7-drift-protocol-solana-market-making',
  summary: 'åœ¨ Drift Protocol(Solana ç”Ÿæ€)åšé“¾ä¸Šæ°¸ç»­åˆçº¦å¸‚,äº«å—æä½ Gas è´¹(<$0.001)ã€äºšç§’çº§ç¡®è®¤å’Œ JIT æµåŠ¨æ€§æœºåˆ¶,å¹´åŒ– 20-70% APY,Solana é«˜æ€§èƒ½é“¾çš„åšå¸‚ä¼˜é€‰ã€‚',

  category: 'orderbook',
  category_l1: 'derivatives',
  category_l2: 'è®¢å•ç°¿åšå¸‚',

  difficulty_level: 3,
  risk_level: 3,

  apy_min: 20,
  apy_max: 70,
  threshold_capital: '3000 ç¾å…ƒèµ·',
  threshold_capital_min: 3000,
  time_commitment: 'åˆå§‹è®¾ç½® 2 å°æ—¶,æ¯æ—¥ç›‘æ§ 1 å°æ—¶',
  time_commitment_minutes: 150,
  threshold_tech_level: 'intermediate',

  content: `> **é€‚åˆäººç¾¤**: Solana ç”Ÿæ€ç”¨æˆ·,é“¾ä¸Šåšå¸‚è€…
> **é˜…è¯»æ—¶é—´**: çº¦ 8 åˆ†é’Ÿ
> **å…³é”®è¯**: Drift Protocol / Solana / æ°¸ç»­åˆçº¦ / JIT æµåŠ¨æ€§

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ Drift Protocol?

### æ ¸å¿ƒç‰¹æ€§

**Solana åŸç”Ÿæ°¸ç»­åˆçº¦**:
- è®¢å•ç°¿ + AMM æ··åˆæ¨¡å¼
- äºšç§’çº§äº¤æ˜“ç¡®è®¤(400ms)
- Gas è´¹ < $0.001
- æ”¯æŒ 50+ äº¤æ˜“å¯¹

**JIT(Just-In-Time)æµåŠ¨æ€§**:
- åšå¸‚å•†å¯æä¾›å³æ—¶æµåŠ¨æ€§
- æ•æ‰å¤§å•äº¤æ˜“
- èµšå–é¢å¤–è´¹ç”¨

---

## ğŸ“‹ Drift åšå¸‚æŒ‡å—

### å‡†å¤‡å·¥ä½œ

**èµ„äº§è¦æ±‚**:
- å‡†å¤‡ USDC(Solana é“¾)
- æœ€ä½ $3,000 èµ·
- å»ºè®® $10,000+ ä»¥æé«˜èµ„é‡‘æ•ˆç‡

**é’±åŒ…å‡†å¤‡**:
- Phantom æˆ– Solflare é’±åŒ…
- é¢„å­˜å°‘é‡ SOL(æ”¯ä»˜ Gas)

### æ“ä½œæµç¨‹

**æ­¥éª¤ 1: è¿æ¥ Drift**

1. è®¿é—® app.drift.trade
2. è¿æ¥ Phantom é’±åŒ…
3. å­˜å…¥ USDC ä½œä¸ºä¿è¯é‡‘

**æ­¥éª¤ 2: æ‰‹åŠ¨åšå¸‚**(é€‚åˆå°èµ„é‡‘)

**åœ¨ Drift ç•Œé¢æŒ‚å•**:
1. é€‰æ‹©äº¤æ˜“å¯¹(å¦‚ SOL-PERP)
2. è®¾ç½®é™ä»·å•:
   - ä¹°å•: ä½äºå½“å‰ä»· 0.05%
   - å–å•: é«˜äºå½“å‰ä»· 0.05%
3. ç­‰å¾…æˆäº¤

**æ”¶ç›Š**:
- Maker è´¹ç‡: -0.001%(è¿”ä½£)
- ä»·å·®åˆ©æ¶¦: 0.05-0.1%

**æ­¥éª¤ 3: JIT æµåŠ¨æ€§æä¾›**(é«˜çº§)

**ä»€ä¹ˆæ˜¯ JIT?**
- å½“æœ‰å¤§å•å³å°†æˆäº¤æ—¶
- åšå¸‚å•†å¿«é€Ÿæ’å…¥æµåŠ¨æ€§
- èµšå–è¯¥ç¬”äº¤æ˜“çš„è´¹ç”¨

**ä½¿ç”¨ Drift SDK**:

\`\`\`typescript
import { DriftClient, Wallet } from '@drift-labs/sdk';
import { Connection, Keypair } from '@solana/web3.js';

// åˆå§‹åŒ–
const connection = new Connection('https://api.mainnet-beta.solana.com');
const wallet = new Wallet(Keypair.fromSecretKey(YOUR_SECRET_KEY));

const driftClient = new DriftClient({
  connection,
  wallet,
  env: 'mainnet-beta',
});

await driftClient.subscribe();

// ç›‘å¬å¤§å•
driftClient.eventEmitter.on('orderFill', async (event) => {
  const fillSize = event.baseAssetAmountFilled;

  // å¦‚æœæ˜¯å¤§å•(>$50K)
  if (fillSize > 50000) {
    console.log('æ£€æµ‹åˆ°å¤§å•,æä¾› JIT æµåŠ¨æ€§');

    // å¿«é€ŸæŒ‚å•
    await driftClient.placePerpOrder({
      marketIndex: 0,  // SOL-PERP
      orderType: 'limit',
      direction: 'long',
      baseAssetAmount: fillSize * 0.5,
      price: event.fillPrice * 0.999,  // ç•¥ä½äºæˆäº¤ä»·
      postOnly: false,
    });
  }
});
\`\`\`

**æ­¥éª¤ 4: è‡ªåŠ¨åšå¸‚æœºå™¨äºº**

**ç®€å•åšå¸‚è„šæœ¬**:

\`\`\`typescript
async function marketMake(marketIndex: number, spread: number) {
  // è·å–å½“å‰ä»·æ ¼
  const market = driftClient.getPerpMarketAccount(marketIndex);
  const oraclePrice = market.amm.lastOraclePrice;

  // è®¡ç®—ä¹°å–ä»·
  const bidPrice = oraclePrice * (1 - spread);
  const askPrice = oraclePrice * (1 + spread);

  // å–æ¶ˆæ—§è®¢å•
  await driftClient.cancelAllOrders();

  // æŒ‚æ–°è®¢å•
  await driftClient.placePerpOrder({
    marketIndex,
    orderType: 'limit',
    direction: 'long',
    baseAssetAmount: 1000,  // $1000
    price: bidPrice,
    postOnly: true,  // ç¡®ä¿ Maker
  });

  await driftClient.placePerpOrder({
    marketIndex,
    orderType: 'limit',
    direction: 'short',
    baseAssetAmount: 1000,
    price: askPrice,
    postOnly: true,
  });

  console.log(\`æŒ‚å•: Buy $\{bidPrice} | Sell $\{askPrice}`);
}

// æ¯ 5 ç§’æ›´æ–°ä¸€æ¬¡
setInterval(() => {
  marketMake(0, 0.0005);  // SOL-PERP, 0.05% ä»·å·®
}, 5000);
\`\`\`

---

## ğŸ’° æ”¶ç›Šæ¡ˆä¾‹

### æ¡ˆä¾‹ 1: æ‰‹åŠ¨åšå¸‚

**æŠ•èµ„**: $5,000 USDC

**æ“ä½œ**:
- åŒè¾¹æŒ‚å•,ä»·å·® 0.1%
- æ—¥æˆäº¤ $50,000

**æ”¶ç›Š**:
\`\`\`
æ—¥è¿”ä½£ = $50K Ã— 0.001% = $0.5
æ—¥ä»·å·® = $50K/2 Ã— 0.1% = $25
æ—¥æ€»è®¡ = $25.5

å¹´åŒ– = $25.5 Ã— 365 / $5K = 186%
\`\`\`

**Gas æˆæœ¬**(å¯å¿½ç•¥):
- æ¯ç¬” < $0.001
- æ—¥å‡ 100 ç¬” = $0.1

---

### æ¡ˆä¾‹ 2: JIT æµåŠ¨æ€§

**æŠ•èµ„**: $20,000

**ç­–ç•¥**: ä¸“æ³¨æ•æ‰å¤§å•

**æ”¶ç›Š**(å‡è®¾æ—¥å‡æ•æ‰ 5 ç¬”å¤§å•):
\`\`\`
æ¯ç¬”å¤§å• = $100K
JIT è´¹ç”¨ = 0.02%(Drift ç‰¹æ®Šå¥–åŠ±)
å•ç¬”æ”¶ç›Š = $100K Ã— 0.02% = $20

æ—¥æ”¶ç›Š = $20 Ã— 5 = $100
å¹´åŒ– = $100 Ã— 365 / $20K = 182.5%
\`\`\`

---

## ğŸ”¥ é«˜çº§ç­–ç•¥

### ç­–ç•¥ 1: å¤šäº¤æ˜“å¯¹åˆ†æ•£

**åˆ†æ•£é£é™©**:
- SOL-PERP: 40% èµ„é‡‘
- BTC-PERP: 30%
- ETH-PERP: 20%
- å±±å¯¨å¸: 10%(é«˜ä»·å·®)

### ç­–ç•¥ 2: ç»“åˆ AMM æ± 

**ç»„åˆæ”¶ç›Š**:
- 70% èµ„é‡‘åšå¸‚
- 30% èµ„é‡‘å­˜ Drift çš„ AMM æ± 
- åŒé‡æ”¶ç›Š

### ç­–ç•¥ 3: æ³¢åŠ¨ç‡äº¤æ˜“

**åŠ¨æ€è°ƒæ•´**:
- é«˜æ³¢åŠ¨(VIX > 30): åŠ å®½ä»·å·®åˆ° 0.2%
- ä½æ³¢åŠ¨(VIX < 20): ç¼©å°ä»·å·®åˆ° 0.03%

---

## âš ï¸ é£é™©æç¤º

### ä¸»è¦é£é™©

**1. Solana ç½‘ç»œé£é™©**:
- å†å²ä¸Šæ›¾å¤šæ¬¡å®•æœº
- æ‹¥å µæ—¶äº¤æ˜“å¤±è´¥

**2. æ°¸ç»­åˆçº¦é£é™©**:
- æŒä»“æœ‰çˆ†ä»“é£é™©
- éœ€è¦æ§åˆ¶æ æ†

**3. æ™ºèƒ½åˆçº¦é£é™©**:
- Drift åˆçº¦ç›¸å¯¹æ–°(2021 å¹´)
- å­˜åœ¨æœªçŸ¥æ¼æ´é£é™©

**4. æµåŠ¨æ€§é£é™©**:
- å°å¸ç§æµåŠ¨æ€§å·®
- å¤§å•å¯èƒ½æ— æ³•æˆäº¤

### é£é™©ç¼“è§£

**åˆ†æ•£æŠ•èµ„**:
- ä¸è¶…è¿‡æ€»èµ„é‡‘ 20% åœ¨ Drift

**ç›‘æ§ç½‘ç»œ**:
- å…³æ³¨ Solana ç½‘ç»œçŠ¶æ€
- å¼‚å¸¸æ—¶æš‚åœäº¤æ˜“

**ä¸¥æ ¼æ­¢æŸ**:
- è®¾ç½®æ­¢æŸä»·ä½
- é¿å…æç«¯è¡Œæƒ…çˆ†ä»“

---

## ğŸ“Š Drift vs å…¶ä»–å¹³å°

| å¹³å° | é“¾ | Gas è´¹ | ç¡®è®¤é€Ÿåº¦ | APY | é£é™© |
|------|-----|-------|---------|-----|------|
| dYdX | StarkEx | $0.01 | 10-30s | 15-40% | ä¸­ |
| Hyperliquid | è‡ªæœ‰ L1 | ~$0 | 20ms | 25-60% | ä¸­ |
| **Drift** | **Solana** | **<$0.001** | **400ms** | **20-70%** | **ä¸­é«˜** |

**Drift ä¼˜åŠ¿**: Gas æœ€ä½,é€Ÿåº¦å¿«,Solana ç”Ÿæ€åŸç”Ÿ

---

## â“ å¸¸è§é—®é¢˜

**Q1: Drift å®‰å…¨å—?**
> ä»£ç ç»è¿‡å®¡è®¡,ä½† Solana é“¾æœ‰å®•æœºå†å²ã€‚å»ºè®®ä¸è¦æŠ•å…¥è¿‡å¤šèµ„é‡‘ã€‚

**Q2: éœ€è¦æ‡‚ Rust å—?**
> ä¸éœ€è¦ã€‚ä½¿ç”¨ Drift SDK(TypeScript)å³å¯,æˆ–ç›´æ¥åœ¨ç•Œé¢æ‰‹åŠ¨åšå¸‚ã€‚

**Q3: JIT æµåŠ¨æ€§ç«äº‰æ¿€çƒˆå—?**
> æ˜¯çš„ã€‚éœ€è¦ä½å»¶è¿ŸèŠ‚ç‚¹å’Œå¿«é€Ÿç­–ç•¥æ‰èƒ½ç«äº‰ã€‚

**Q4: Drift æœ‰ä»£å¸å—?**
> æ²¡æœ‰åŸç”Ÿä»£å¸,ä½†å¯èƒ½æœªæ¥å‘è¡Œ(æ½œåœ¨ç©ºæŠ•æœºä¼š)ã€‚

---

## ğŸ“ æ€»ç»“

Drift Protocol æ˜¯ Solana ç”Ÿæ€çš„åšå¸‚ä¼˜é€‰:

**æ ¸å¿ƒä¼˜åŠ¿**:
1. **æä½æˆæœ¬**: Gas < $0.001
2. **é«˜æ€§èƒ½**: äºšç§’çº§ç¡®è®¤
3. **JIT æœºåˆ¶**: é¢å¤–æ”¶ç›Šæœºä¼š

**é€‚åˆäººç¾¤**:
- Solana ç”Ÿæ€ç”¨æˆ·
- è¿½æ±‚ä½æˆæœ¬åšå¸‚
- æœ‰ä¸€å®šç¼–ç¨‹åŸºç¡€

**ä¸é€‚åˆ**:
- æ— æ³•æ‰¿å— Solana å®•æœºé£é™©
- å®Œå…¨æ–°æ‰‹
- å¤§èµ„é‡‘(æµåŠ¨æ€§é™åˆ¶)

**æ¨è**: Solana ç”¨æˆ·å¯ä½œä¸ºä¸»åŠ›åšå¸‚å¹³å°,å¹´åŒ– 20-70%ã€‚

Drift åšå¸‚,Solana ç”Ÿæ€ä¹‹å…‰!âš¡
`,

  steps: [
    { step_number: 1, title: 'å‡†å¤‡ USDC', description: 'è·¨é“¾æ¡¥æ¥ USDC åˆ° Solana,å‡†å¤‡ SOL æ”¯ä»˜ Gasã€‚', estimated_time: '30 åˆ†é’Ÿ' },
    { step_number: 2, title: 'è¿æ¥ Drift', description: 'è®¿é—® app.drift.trade,è¿æ¥ Phantom é’±åŒ…å¹¶å­˜å…¥èµ„é‡‘ã€‚', estimated_time: '15 åˆ†é’Ÿ' },
    { step_number: 3, title: 'æ‰‹åŠ¨åšå¸‚', description: 'å°èµ„é‡‘å¯ç›´æ¥åœ¨ç•Œé¢æŒ‚é™ä»·å•åšå¸‚ã€‚', estimated_time: '30 åˆ†é’Ÿ' },
    { step_number: 4, title: 'å¼€å‘è‡ªåŠ¨ç­–ç•¥', description: '(å¯é€‰)ä½¿ç”¨ Drift SDK ç¼–å†™è‡ªåŠ¨åšå¸‚è„šæœ¬ã€‚', estimated_time: '1-2 å¤©' },
    { step_number: 5, title: 'ç›‘æ§ä¸ä¼˜åŒ–', description: 'æ¯æ—¥ç›‘æ§æˆäº¤ã€æ”¶ç›Š,ä¼˜åŒ–ä»·å·®å’Œå¸ç§é€‰æ‹©ã€‚', estimated_time: 'æ¯æ—¥ 1 å°æ—¶' },
  ],
};

// ===== 12.8 ApeX Protocol é“¾ä¸Šè®¢å•ç°¿ =====
const STRATEGY_12_8 = {
  title: 'ApeX Protocol é“¾ä¸Šè®¢å•ç°¿ - è·¨é“¾æ°¸ç»­åˆçº¦åšå¸‚',
  slug: 'orderbook-12-8-apex-protocol-orderbook-market-making',
  summary: 'åœ¨ ApeX Protocol åšè·¨é“¾æ°¸ç»­åˆçº¦å¸‚(æ”¯æŒä»¥å¤ªåŠã€Arbitrumã€Polygon),äº«å—é“¾ä¸Šè®¢å•ç°¿é€æ˜æ€§ + CEX çº§æ€§èƒ½,å¹´åŒ– 15-50% APY,StarkEx æŠ€æœ¯åŠ æŒã€‚',

  category: 'orderbook',
  category_l1: 'derivatives',
  category_l2: 'è®¢å•ç°¿åšå¸‚',

  difficulty_level: 3,
  risk_level: 3,

  apy_min: 15,
  apy_max: 50,
  threshold_capital: '5000 ç¾å…ƒèµ·',
  threshold_capital_min: 5000,
  time_commitment: 'åˆå§‹è®¾ç½® 2 å°æ—¶,æ¯æ—¥ç›‘æ§ 1 å°æ—¶',
  time_commitment_minutes: 150,
  threshold_tech_level: 'intermediate',

  content: `> **é€‚åˆäººç¾¤**: é“¾ä¸Šäº¤æ˜“è€…,è·¨é“¾åšå¸‚è€…
> **é˜…è¯»æ—¶é—´**: çº¦ 8 åˆ†é’Ÿ
> **å…³é”®è¯**: ApeX Protocol / StarkEx / é“¾ä¸Šè®¢å•ç°¿ / è·¨é“¾

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ ApeX Protocol?

### æ ¸å¿ƒç‰¹æ€§

**StarkEx é©±åŠ¨çš„å»ä¸­å¿ƒåŒ–æ°¸ç»­åˆçº¦**:
- é“¾ä¸Šè®¢å•ç°¿(é€æ˜å¯éªŒè¯)
- é›¶ Gas è´¹äº¤æ˜“(Layer 2)
- æ”¯æŒå¤šé“¾(Ethereum, Arbitrum, Polygon)
- 20+ äº¤æ˜“å¯¹

**ä¸ dYdX çš„åŒºåˆ«**:
- dYdX ä½¿ç”¨æ’åºå™¨(ä¸­å¿ƒåŒ–)
- ApeX å®Œå…¨é“¾ä¸Šæ’®åˆ(å»ä¸­å¿ƒåŒ–)

---

## ğŸ“‹ ApeX åšå¸‚æŒ‡å—

### å‡†å¤‡å·¥ä½œ

**èµ„äº§å‡†å¤‡**:
- USDC(ä»»æ„æ”¯æŒé“¾)
- æœ€ä½ $5,000 èµ·
- é¢„å­˜å°‘é‡ ETH/MATIC(å­˜æ¬¾ Gas)

**è´¦æˆ·è®¾ç½®**:
1. è®¿é—® pro.apex.exchange
2. è¿æ¥é’±åŒ…(MetaMask)
3. é€‰æ‹©é“¾å¹¶å­˜å…¥ USDC

### æ“ä½œæµç¨‹

**æ­¥éª¤ 1: å­˜å…¥èµ„é‡‘**

\`\`\`bash
# æ”¯æŒé“¾
- Ethereum(ä¸»ç½‘,Gas è´µ)
- Arbitrum(æ¨è,Gas ä½)
- Polygon(ä¹Ÿå¯ç”¨)

# å­˜å…¥æµç¨‹
1. è¿æ¥é’±åŒ…
2. é€‰æ‹© USDC é‡‘é¢
3. ç¡®è®¤äº¤æ˜“(éœ€æ”¯ä»˜ L1 Gas)
4. ç­‰å¾… 5-10 åˆ†é’Ÿåˆ°è´¦
\`\`\`

**æ­¥éª¤ 2: æ‰‹åŠ¨åšå¸‚**

**åœ¨ ApeX ç•Œé¢æŒ‚å•**:
1. é€‰æ‹©äº¤æ˜“å¯¹(å¦‚ BTC-USDC)
2. æŒ‚é™ä»·ä¹°å•(ä½äºå¸‚ä»· 0.05%)
3. æŒ‚é™ä»·å–å•(é«˜äºå¸‚ä»· 0.05%)
4. ç­‰å¾…æˆäº¤

**è´¹ç‡**:
- Maker: -0.002%(è¿”ä½£)
- Taker: 0.050%

**æ­¥éª¤ 3: API åšå¸‚**(é«˜çº§)

**ä½¿ç”¨ ApeX SDK**:

\`\`\`python
from apex_client import ApexClient
import time

# åˆå§‹åŒ–
client = ApexClient(
    private_key='YOUR_PRIVATE_KEY',
    stark_key='YOUR_STARK_KEY',
    network='mainnet',
)

# å‚æ•°
symbol = 'BTC-USDC'
spread = 0.0005  # 0.05%
size = '0.01'  # 0.01 BTC

def get_mid_price(symbol):
    """è·å–ä¸­é—´ä»·"""
    ticker = client.get_ticker(symbol)
    return (float(ticker['bid']) + float(ticker['ask'])) / 2

def place_orders(symbol, mid_price, spread, size):
    """æŒ‚åŒè¾¹è®¢å•"""
    # å–æ¶ˆæ—§è®¢å•
    client.cancel_all_orders(symbol)

    # è®¡ç®—ä»·æ ¼
    bid_price = mid_price * (1 - spread)
    ask_price = mid_price * (1 + spread)

    # æŒ‚å•
    client.create_order(
        symbol=symbol,
        side='BUY',
        type='LIMIT',
        size=size,
        price=str(bid_price),
        post_only=True,
    )

    client.create_order(
        symbol=symbol,
        side='SELL',
        type='LIMIT',
        size=size,
        price=str(ask_price),
        post_only=True,
    )

    print(f'æŒ‚å•: Buy {bid_price} | Sell {ask_price}')

# ä¸»å¾ªç¯
while True:
    try:
        mid = get_mid_price(symbol)
        place_orders(symbol, mid, spread, size)
        time.sleep(5)
    except Exception as e:
        print(f'Error: {e}')
        time.sleep(10)
\`\`\`

---

## ğŸ’° æ”¶ç›Šæ¡ˆä¾‹

### æ¡ˆä¾‹ 1: å•äº¤æ˜“å¯¹åšå¸‚

**æŠ•èµ„**: $10,000

**å‚æ•°**:
- Maker è¿”ä½£: -0.002%
- ä»·å·®: 0.05%
- æ—¥æˆäº¤ $200,000

**æ”¶ç›Š**:
\`\`\`
æ—¥è¿”ä½£ = $200K Ã— 0.002% = $4
æ—¥ä»·å·® = $200K/2 Ã— 0.05% = $50
æ—¥æ€»è®¡ = $54

å¹´åŒ– = $54 Ã— 365 / $10K = 197%
\`\`\`

**Gas æˆæœ¬**: é›¶(Layer 2)

---

### æ¡ˆä¾‹ 2: å¤šé“¾åˆ†æ•£

**èµ„é‡‘åˆ†é…**:
- Arbitrum: $7,000(ä¸»åŠ›)
- Polygon: $3,000(å¤‡ç”¨)

**ä¼˜åŠ¿**:
- é¿å…å•é“¾é£é™©
- è·¨é“¾å¥—åˆ©æœºä¼š

---

## ğŸ”¥ é«˜çº§ç­–ç•¥

### ç­–ç•¥ 1: è·¨é“¾å¥—åˆ©

**åˆ©ç”¨ä»·å·®**:
1. ç›‘æ§ ApeX å¤šé“¾ä»·æ ¼
2. å‘ç°ä»·å·®æ—¶è·¨é“¾å¥—åˆ©
3. éœ€è¦å¿«é€Ÿè·¨é“¾æ¡¥

### ç­–ç•¥ 2: ä»£å¸æ¿€åŠ±

**APEX ä»£å¸å¥–åŠ±**:
- äº¤æ˜“æŒ–çŸ¿èµš APEX
- Maker é¢å¤–å¥–åŠ±
- APEX å¯ Stake è·å¾—é¢å¤–æ”¶ç›Š

**æŸ¥çœ‹å¥–åŠ±**:
\`\`\`python
# è·å– APEX ä½™é¢
rewards = client.get_rewards()
apex_balance = rewards['APEX']['balance']
print(f'APEX å¥–åŠ±: {apex_balance}')
\`\`\`

### ç­–ç•¥ 3: é•¿å°¾å¸ç§

**é«˜ä»·å·®å¸ç§**:
- ä¸»æµå¸(BTC, ETH): ä»·å·® 0.05%
- å±±å¯¨å¸(DOGE, SHIB): ä»·å·® 0.2-0.5%
- æ”¶ç›Šæ›´é«˜ä½†é£é™©ä¹Ÿå¤§

---

## âš ï¸ é£é™©æç¤º

### ä¸»è¦é£é™©

**1. StarkEx é£é™©**:
- Layer 2 æŠ€æœ¯ç›¸å¯¹æ–°
- ææ¬¾å¯èƒ½å»¶è¿Ÿ(å¼ºåˆ¶ææ¬¾éœ€ 7 å¤©)

**2. æµåŠ¨æ€§é£é™©**:
- ApeX æµåŠ¨æ€§ä¸å¦‚ dYdX
- å¤§å•å¯èƒ½å†²å‡»ä»·æ ¼

**3. åˆçº¦é£é™©**:
- æ°¸ç»­åˆçº¦æœ‰çˆ†ä»“é£é™©
- éœ€è¦ä¸¥æ ¼é£æ§

**4. è·¨é“¾é£é™©**:
- è·¨é“¾æ¡¥å¯èƒ½å¤±è´¥
- èµ„äº§æŸå¤±é£é™©

### é£é™©ç¼“è§£

**ææ¬¾ç­–ç•¥**:
- å®šæœŸææ¬¾,ä¸è¦é•¿æœŸæ”¾å¹³å°
- ä½¿ç”¨å¿«é€Ÿææ¬¾(æ”¯ä»˜é¢å¤–è´¹ç”¨)

**æµåŠ¨æ€§ç®¡ç†**:
- ä¼˜å…ˆé€‰æ‹©ä¸»æµå¸ç§
- é¿å…åœ¨æµåŠ¨æ€§å·®æ—¶å¤§é¢äº¤æ˜“

---

## ğŸ“Š ApeX vs å…¶ä»–å¹³å°

| å¹³å° | å»ä¸­å¿ƒåŒ– | Gas è´¹ | æµåŠ¨æ€§ | APY | é£é™© |
|------|---------|-------|--------|-----|------|
| dYdX | ä¸­(æ’åºå™¨) | $0.01 | é«˜ | 15-40% | ä¸­ |
| Binance | ä¸­å¿ƒåŒ– | - | æé«˜ | 30-100% | ä½ |
| **ApeX** | **é«˜(é“¾ä¸Š)** | **$0** | **ä¸­** | **15-50%** | **ä¸­** |

**ApeX ä¼˜åŠ¿**: å»ä¸­å¿ƒåŒ–ç¨‹åº¦é«˜,Gas å…è´¹,è·¨é“¾æ”¯æŒ

---

## â“ å¸¸è§é—®é¢˜

**Q1: ApeX å’Œ dYdX å“ªä¸ªæ›´å¥½?**
> dYdX æµåŠ¨æ€§æ›´é«˜,é€‚åˆå¤§èµ„é‡‘ã€‚ApeX æ›´å»ä¸­å¿ƒåŒ–,é€‚åˆè¿½æ±‚é“¾ä¸Šé€æ˜æ€§çš„ç”¨æˆ·ã€‚

**Q2: ææ¬¾éœ€è¦å¤šä¹…?**
> æ­£å¸¸ææ¬¾ 1-3 å°æ—¶ã€‚å¼ºåˆ¶ææ¬¾(æ— éœ€å¹³å°åŒæ„)éœ€ 7 å¤©ã€‚

**Q3: å¦‚ä½•è·å¾— Stark Key?**
> é¦–æ¬¡è¿æ¥é’±åŒ…æ—¶è‡ªåŠ¨ç”Ÿæˆ,éœ€è¦ç­¾åç¡®è®¤ã€‚

**Q4: APEX ä»£å¸æœ‰ç”¨å—?**
> å¯ Stake è·å¾—äº¤æ˜“è´¹åˆ†çº¢,ä¹Ÿå¯ç”¨äºæ²»ç†æŠ•ç¥¨ã€‚

---

## ğŸ“ æ€»ç»“

ApeX Protocol æ˜¯å»ä¸­å¿ƒåŒ–çš„åšå¸‚é€‰æ‹©:

**æ ¸å¿ƒä¼˜åŠ¿**:
1. **é“¾ä¸Šé€æ˜**: StarkEx æŠ€æœ¯
2. **é›¶ Gas**: Layer 2 ä¼˜åŠ¿
3. **è·¨é“¾æ”¯æŒ**: å¤šé“¾çµæ´»

**é€‚åˆäººç¾¤**:
- è¿½æ±‚å»ä¸­å¿ƒåŒ–
- é“¾ä¸Šäº¤æ˜“è€…
- ä¸­ç­‰èµ„é‡‘($5K-$50K)

**ä¸é€‚åˆ**:
- å¤§èµ„é‡‘(æµåŠ¨æ€§é™åˆ¶)
- è¿½æ±‚æè‡´æ€§èƒ½
- å®Œå…¨æ–°æ‰‹

**æ¨è**: ä½œä¸ºå»ä¸­å¿ƒåŒ–åšå¸‚çš„è¡¥å……,é…ç½® 10-20% èµ„é‡‘ã€‚

ApeX åšå¸‚,å»ä¸­å¿ƒåŒ–ä¹‹é€‰!ğŸ”—
`,

  steps: [
    { step_number: 1, title: 'é€‰æ‹©é“¾å¹¶å­˜å…¥', description: 'é€‰æ‹© Arbitrum æˆ– Polygon,å­˜å…¥ USDCã€‚', estimated_time: '30 åˆ†é’Ÿ' },
    { step_number: 2, title: 'ç”Ÿæˆ Stark Key', description: 'é¦–æ¬¡ä½¿ç”¨éœ€è¦ç”Ÿæˆ Stark Key(ç­¾åç¡®è®¤)ã€‚', estimated_time: '5 åˆ†é’Ÿ' },
    { step_number: 3, title: 'æ‰‹åŠ¨åšå¸‚', description: 'å°èµ„é‡‘å¯ç›´æ¥åœ¨ç•Œé¢æŒ‚é™ä»·å•ã€‚', estimated_time: '30 åˆ†é’Ÿ' },
    { step_number: 4, title: 'è‡ªåŠ¨åŒ–åšå¸‚', description: '(å¯é€‰)ä½¿ç”¨ ApeX SDK ç¼–å†™è‡ªåŠ¨åšå¸‚è„šæœ¬ã€‚', estimated_time: '1-2 å¤©' },
    { step_number: 5, title: 'ç›‘æ§ä¸ææ¬¾', description: 'æ¯æ—¥ç›‘æ§æ”¶ç›Š,å®šæœŸææ¬¾åˆ°é’±åŒ…ã€‚', estimated_time: 'æ¯æ—¥ 1 å°æ—¶' },
  ],
};

// ===== ä¸Šä¼ é€»è¾‘ =====
async function getAuthToken() {
  const response = await axios.post(`${DIRECTUS_URL}/auth/login`, {
    email: 'the_uk1@outlook.com',
    password: 'Mygcdjmyxzg2026!',
  });
  return response.data.data.access_token;
}

async function addStrategies() {
  try {
    const token = await getAuthToken();
    const strategies = [STRATEGY_12_7, STRATEGY_12_8];

    console.log('\nå¼€å§‹åˆ›å»º 12.7 å’Œ 12.8 ç­–ç•¥...\n');

    for (let i = 0; i < strategies.length; i++) {
      const strategy = {
        ...strategies[i],
        status: 'published',
        is_featured: true,
        view_count: 0,
        bookmark_count: 0,
        published_at: new Date().toISOString(),
      };

      const response = await axios.post(
        `${DIRECTUS_URL}/items/strategies`,
        strategy,
        {
          headers: {
            Authorization: `Bearer ${token}`,
            'Content-Type': 'application/json',
          },
        }
      );

      console.log(`âœ… [${i + 1}/2] ${strategy.title}`);
      console.log(`   ID: ${response.data.data.id}`);
      console.log(`   Slug: ${response.data.data.slug}\n`);
    }

    console.log('ğŸ‰ åˆ›å»ºå®Œæˆï¼');
    console.log('è®¿é—®: http://localhost:3000/strategies?category=orderbook\n');
  } catch (error) {
    console.error('\nâŒ åˆ›å»ºå¤±è´¥:', error.response?.data || error.message);
  }
}

addStrategies();