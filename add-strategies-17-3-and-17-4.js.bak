const axios = require('axios');

// ========================
// 策略 17.3: 韩国交易所溢价套利
// ========================
const STRATEGY_17_3 = {
  title: '韩国交易所溢价套利 - "泡菜溢价"跨国搬砖指南',
  slug: 'cex-arbitrage-17-3-korea-premium-arbitrage',
  category: 'cex-arbitrage',
  category_l1: 'arbitrage',
  category_l2: '跨所搬砖',
  summary: '利用韩国交易所（Upbit、Bithumb）的"泡菜溢价"，跨国搬砖赚取 2-15% 价差。适合有跨境转账经验的玩家。',
  content: `## 📖 故事：2017 年韩国"泡菜溢价"暴利时代

**那个 BTC 溢价 40% 的疯狂岁月**

2017 年 12 月，比特币牛市巅峰，韩国民众疯狂涌入加密货币市场。由于韩国外汇管制严格，韩元无法自由兑换美元购买 BTC，导致韩国交易所价格暴涨。

首尔的玩家 Park 发现了一个暴利机会：

- **Binance BTC 价格**：19,000 美元
- **Upbit BTC 价格**：26,600 美元（折合）
- **溢价幅度**：+40%！

Park 通过以下方式套利：

1. 在 Binance 用 19,000 USDT 买入 1 BTC
2. 提币到 Upbit（韩国最大交易所）
3. 在 Upbit 卖出，获得 26,600,000 韩元
4. 通过地下钱庄将韩元换成 USDT 回流（损失 5% 手续费）
5. **净利润**：19,000 × 35% = **6,650 美元**（单次搬砖）

Park 在 2017 年 12 月单月搬砖 30 次，赚取了超过 **20 万美元**。

但 2018 年初，韩国政府加强监管，泡菜溢价逐渐消失...

---

## 🧭 什么是"泡菜溢价"？

**泡菜溢价（Kimchi Premium）**：韩国交易所的加密货币价格比国际市场高的现象。

### 溢价产生的原因

| 原因 | 说明 |
|-----|------|
| **外汇管制** | 韩元无法自由兑换美元，导致资金流动受限 |
| **本地需求旺盛** | 韩国散户投资热情高，推高本地价格 |
| **套利门槛高** | 跨国转账复杂，导致套利资金不足以抹平价差 |
| **交易所限制** | Upbit 等交易所限制非韩国居民开户 |

### 历史溢价数据

| 时期 | 平均溢价 | 峰值溢价 | 备注 |
|------|---------|---------|------|
| 2017.12 | 20-30% | 40% | 牛市巅峰 |
| 2021.04 | 5-10% | 18% | DeFi 热潮 |
| 2024.03 | 1-3% | 8% | 当前水平 |

---

## ✅ 适合人群

| 条件 | 要求 |
|-----|------|
| **资金量** | 5,000 美元以上 |
| **语言能力** | 基础韩语或使用翻译工具 |
| **跨境转账** | 有银行卡或地下钱庄渠道 |
| **风险承受** | 中高（涉及跨境资金流动） |

**核心能力**：跨境转账通道 + 快速执行能力

---

## 📋 完整操作步骤

### 步骤 1：开通韩国交易所账户

**主要交易所：**

| 交易所 | 开户难度 | 溢价频率 | 推荐指数 |
|--------|---------|---------|---------|
| **Upbit** | 高（需韩国身份） | 高 | ⭐⭐⭐⭐⭐ |
| **Bithumb** | 高 | 中高 | ⭐⭐⭐⭐ |
| **Coinone** | 中 | 中 | ⭐⭐⭐ |

**开户方法（非韩国居民）：**

1. **找韩国朋友代开户**（最常见）
   - 使用朋友的韩国身份证和银行卡
   - 风险：需要极高信任度

2. **通过 OTC 中介**
   - 中介帮助开户并提供换汇通道
   - 费用：通常收取 2-5% 手续费

3. **申请韩国银行账户**（如有韩国签证）
   - D-2、D-10 等签证可在韩国银行开户
   - 开户后可正常注册交易所

### 步骤 2：实时监控"泡菜溢价"

**方法 1：手动对比价格**

```
Binance BTC: $68,500
Upbit BTC: ₩94,200,000 ÷ 1,350 (汇率) = $69,778
溢价: +1.87%
```

**方法 2：使用专业工具**

**推荐工具：CoinGecko 韩国溢价监控**

访问：https://www.coingecko.com/en/exchanges/upbit

查看 "Premium" 栏：
- 绿色 > 2%：有套利空间
- 红色 < -2%：反向套利（韩国买入，国际卖出）

**方法 3：Telegram 预警机器人**

加入 Telegram 群组：**Korea Premium Alert**

机器人会自动推送：
```
🔔 BTC 溢价 +3.2%
Binance: $68,500
Upbit: $70,693
预计利润: $2,193 (扣除费用后 ~1.5%)
```

### 步骤 3：执行搬砖

**正向搬砖（国际 → 韩国）：**

1. **在 Binance 买入 BTC**
   ```
   买入价格: $68,500
   数量: 1 BTC
   成本: $68,500
   ```

2. **提币到 Upbit**
   - 网络选择：BTC 主网
   - 提币费用：0.0005 BTC（约 $34）
   - 到账时间：30-60 分钟

3. **在 Upbit 卖出 BTC**
   ```
   卖出价格: ₩94,200,000
   手续费: 0.25% = ₩235,500
   实际到账: ₩93,964,500
   ```

4. **将韩元换成 USDT**
   - **方法 A**：通过 OTC 中介（手续费 3-5%）
   - **方法 B**：韩国银行卡转账到 Binance P2P（手续费 2%）
   - **方法 C**：地下钱庄（手续费 4-6%，风险高）

5. **计算净利润**
   ```
   卖出所得: ₩93,964,500 ÷ 1,350 = $69,603
   成本: $68,500 + $34 = $68,534
   OTC 换汇损失: $69,603 × 3% = $2,088
   净利润: $69,603 - $68,534 - $2,088 = -$1,019

   ❌ 此次溢价不足，亏损！
   ```

**结论**：只有溢价 > 5% 时才有利润空间（覆盖手续费 + 换汇成本）。

### 步骤 4：优化换汇通道

**降低换汇成本是盈利关键！**

| 方法 | 手续费 | 到账时间 | 风险 |
|-----|--------|---------|------|
| **韩国 P2P 平台** | 1.5-2% | 1-2 小时 | 低 |
| **OTC 中介** | 3-5% | 30 分钟 | 中 |
| **地下钱庄** | 4-6% | 即时 | 高 |
| **韩国银行电汇** | 0.5-1% | 1-3 天 | 低 |

**推荐方案**：
- 小额（< 1 万美元）：韩国 P2P 平台
- 大额（> 5 万美元）：韩国银行电汇（需开户）

---

## 💡 进阶技巧

### 技巧 1：反向套利

当溢价为负（韩国更便宜）时，反向操作：

1. 在 Upbit 买入 BTC
2. 提币到 Binance
3. 在 Binance 卖出
4. USDT 通过 OTC 换成韩元回流

**适用场景**：2024 年 3 月出现过 -2% 负溢价。

### 技巧 2：三角套利

在 Upbit 内部执行三角套利，无需跨境转账：

```
KRW → BTC → ETH → KRW
```

如果 BTC/KRW、ETH/BTC、KRW/ETH 三个交易对价格失衡，可赚取差价。

### 技巧 3：稳定币套利

USDT 在韩国也有溢价！

```
Binance USDT: $1.00
Upbit USDT: ₩1,370 ÷ 1,350 = $1.015
溢价: +1.5%
```

操作步骤：
1. Binance 买入 USDT
2. 提币到 Upbit
3. 在 Upbit 卖出 USDT 换韩元
4. 韩元换 USDT 回流

**优势**：稳定币波动小，风险低。

### 技巧 4：利用韩国节假日

韩国节假日（春节、中秋）期间，银行关闭，资金流动受限，溢价往往上升。

**历史数据**：
- 2024 年春节：溢价从 1.5% 上升到 4.2%
- 2023 年中秋节：溢价从 2.1% 上升到 5.8%

---

## ⚠️ 风险警告

### 风险 1：外汇管制风险

韩国政府可能随时加强外汇管制，导致资金无法回流。

**应对**：
- 分散资金，不要一次投入过多
- 保持部分资金在韩元账户，作为缓冲

### 风险 2：账户冻结风险

频繁的跨境转账可能触发反洗钱监控，导致账户冻结。

**应对**：
- 使用多个银行账户分散转账
- 保留所有交易记录，证明资金来源合法

### 风险 3：溢价瞬间消失

大资金进场会迅速抹平溢价，导致套利失败。

**应对**：
- 监控溢价持续时间，避免追高
- 设置止损线，溢价 < 3% 时停止搬砖

### 风险 4：换汇诈骗

地下钱庄可能存在诈骗风险。

**应对**：
- 优先选择韩国本地 P2P 平台
- 小额测试后再大额操作

---

## ❓ 常见问题

**Q1：没有韩国身份，能做泡菜溢价套利吗？**

A：可以，但需要：
1. 找韩国朋友代开户（需极高信任度）
2. 通过 OTC 中介开户（手续费高）
3. 申请韩国签证后开银行账户（时间长）

**Q2：泡菜溢价还有多大空间？**

A：
- 2017 年：20-40%（监管宽松）
- 2024 年：1-3%（监管严格）
- 未来预期：长期维持在 1-5% 区间

**Q3：换汇成本太高，怎么办？**

A：
- 开通韩国银行账户（手续费 0.5-1%）
- 使用 Upbit 内部稳定币对冲（无需换汇）
- 大额资金可谈判 OTC 折扣

**Q4：反向套利（韩国更便宜）常见吗？**

A：较少见，但 2024 年 3 月出现过 -2% 负溢价。通常在韩国市场恐慌性抛售时出现。

**Q5：需要多少本金？**

A：
- 最低：5,000 美元（覆盖手续费）
- 推荐：2-5 万美元（降低手续费占比）
- 大户：10 万美元以上（可谈判 OTC 折扣）

---

## 📚 总结

**韩国交易所溢价套利 = 泡菜溢价 + 跨境换汇通道**

### 核心要点

| 要点 | 说明 |
|-----|------|
| **溢价监控** | 使用 CoinGecko、Telegram 机器人实时追踪 |
| **开户渠道** | 韩国朋友代开户 > OTC 中介 > 自行申请 |
| **换汇优化** | 韩国银行电汇 > P2P 平台 > OTC 中介 > 地下钱庄 |
| **盈利门槛** | 溢价 > 5%（覆盖手续费 + 换汇成本） |
| **风险控制** | 分散资金、保留记录、小额测试 |

### 适合人群

✅ 有韩国人脉或韩国签证的玩家
✅ 有跨境转账经验的老手
✅ 能承受账户冻结风险的投资者

❌ 新手（门槛太高）
❌ 无法解决换汇问题的玩家

### 预期收益

- **溢价 2-3%**：扣除费用后基本不赚
- **溢价 5-8%**：净利润 1-3%
- **溢价 > 10%**：净利润 5-7%（罕见）

### 下一步行动

- [ ] 开通 Upbit 账户（找韩国朋友或 OTC 中介）
- [ ] 测试换汇通道（小额 100-500 美元）
- [ ] 加入 Telegram 泡菜溢价监控群
- [ ] 准备 5,000 美元以上本金
- [ ] 制定止损策略（溢价 < 3% 停止）

**最后提醒**：泡菜溢价套利门槛高、周期长，适合作为长期套利策略，而非快速致富手段。`,

  steps: [
    '开通韩国交易所账户（Upbit、Bithumb）',
    '实时监控泡菜溢价（CoinGecko、Telegram 机器人）',
    '执行搬砖（国际交易所买入 → 韩国交易所卖出）',
    '优化换汇通道（韩国银行、P2P 平台、OTC 中介）',
    '风险控制（分散资金、保留记录、设置止损）'
  ],

  risk_level: 4,
  apy_min: 5,
  apy_max: 50,
  min_investment: 5000,
  difficulty_level: 'advanced',
  time_commitment: 'part-time',

  required_tools: [
    'Binance 账户',
    'Upbit / Bithumb 账户',
    'CoinGecko 溢价监控',
    'Telegram 预警机器人',
    '韩国银行账户或 OTC 中介',
    '5,000 美元以上本金'
  ],

  status: 'published',
  reading_time_minutes: 15
};

// ========================
// 策略 17.4: 去中心化交易所套利
// ========================
const STRATEGY_17_4 = {
  title: '去中心化交易所套利 - CEX vs DEX 跨链搬砖指南',
  slug: 'cex-arbitrage-17-4-dex-cex-arbitrage',
  category: 'cex-arbitrage',
  category_l1: 'arbitrage',
  category_l2: '跨所搬砖',
  summary: '监控中心化交易所（CEX）和去中心化交易所（DEX）之间的价差，快速执行链上搬砖套利。适合熟悉 DeFi 操作的玩家。',
  content: `## 📖 故事：2020 年 Uniswap 上线首日的套利盛宴

**DEX 新币首发的黄金窗口**

2020 年 9 月 17 日，Uniswap 推出治理代币 UNI 并空投给所有历史用户。每个地址可领取 400 UNI。

链上玩家 Alex 在 Uniswap 上线 10 分钟内发现了一个巨大的套利机会：

- **Uniswap UNI 价格**：3.2 美元
- **Binance UNI 价格**（15 分钟后上线）：4.8 美元
- **价差**：+50%！

Alex 的操作：

1. 领取 400 UNI 空投（价值 1,280 美元）
2. 在 Uniswap 再买入 2,000 UNI（6,400 美元）
3. 等待 Binance 上线（15 分钟）
4. 将 2,400 UNI 跨链到 Binance（通过以太坊提币）
5. 在 Binance 以 4.8 美元卖出，获得 11,520 美元
6. **净利润**：11,520 - 6,400 - 80（Gas 费）= **5,040 美元**（45 分钟）

这只是个开始。接下来的 24 小时内，Alex 在 Uniswap、SushiSwap、Binance 之间来回搬砖，累计赚取 **3.2 万美元**。

---

## 🧭 什么是 CEX vs DEX 套利？

**定义**：利用中心化交易所（CEX）和去中心化交易所（DEX）之间的价格差异，快速搬砖套利。

### 为什么会有价差？

| 原因 | 说明 |
|-----|------|
| **流动性差异** | DEX 流动性通常低于 CEX，价格波动大 |
| **信息延迟** | DEX 价格更新快，CEX 可能滞后 5-30 秒 |
| **跨链摩擦** | 资金在链上和链下流动需要时间 |
| **用户群体不同** | DEX 用户更愿意支付溢价换取隐私 |
| **新币首发** | 新币通常先在 DEX 上线，CEX 跟随 |

### 常见价差场景

| 场景 | 价差幅度 | 持续时间 | 套利难度 |
|-----|---------|---------|---------|
| **新币首发** | 10-50% | 5-30 分钟 | 高（需抢跑） |
| **市场波动** | 2-5% | 1-10 分钟 | 中 |
| **流动性枯竭** | 5-15% | 持续存在 | 低 |
| **跨链桥延迟** | 1-3% | 10-60 分钟 | 中 |

---

## ✅ 适合人群

| 条件 | 要求 |
|-----|------|
| **资金量** | 2,000 美元以上 |
| **技术能力** | 熟悉 MetaMask、Uniswap 等 DeFi 工具 |
| **执行速度** | 能在 5 分钟内完成链上交易 |
| **风险承受** | 中高（链上交易不可逆） |

**核心能力**：DeFi 操作熟练度 + 快速决策能力

---

## 📋 完整操作步骤

### 步骤 1：准备工具和资金

**必备工具：**

| 工具 | 用途 |
|-----|------|
| **MetaMask** | 以太坊钱包，连接 DEX |
| **Binance 账户** | CEX 交易 |
| **Etherscan** | 监控链上交易状态 |
| **DEX Screener** | 实时监控 DEX 价格 |
| **Telegram 预警机器人** | 自动推送套利机会 |

**资金准备：**

- **ETH**：200-500 美元（支付 Gas 费）
- **USDT/USDC**：2,000-10,000 美元（套利本金）
- **CEX 账户余额**：与链上等额

### 步骤 2：实时监控 CEX vs DEX 价差

**方法 1：手动监控**

打开两个网页同时对比：

| 交易所 | 查看地址 | 价格示例 |
|--------|---------|---------|
| **Uniswap** | https://app.uniswap.org | PEPE: $0.00000850 |
| **Binance** | https://www.binance.com | PEPE: $0.00000820 |
| **价差** | - | +3.66% |

**方法 2：使用 DEX Screener**

访问：https://dexscreener.com

功能：
- 实时对比 CEX 和 DEX 价格
- 显示流动性、24 小时交易量
- 价差 > 3% 时自动标红

**方法 3：Telegram 预警机器人（推荐）**

加入 **DEX Arbitrage Bot** 群组：

机器人会自动推送：
```
🔔 PEPE 套利机会
Uniswap: $0.00000850
Binance: $0.00000820
价差: +3.66%
预计利润: $73 (扣除 Gas 后)
```

### 步骤 3：执行 DEX → CEX 套利

**场景**：DEX 价格高于 CEX

**操作步骤：**

1. **在 Binance 买入代币**
   ```
   买入: 10,000 USDT → 1,176,470,588 PEPE
   价格: $0.00000850
   手续费: 10 USDT
   ```

2. **提币到链上钱包**
   - 网络选择：Ethereum（或 Base、Arbitrum）
   - 提币费用：5 USDT
   - 到账时间：5-15 分钟

3. **在 Uniswap 卖出**
   ```
   卖出: 1,176,470,588 PEPE → 10,366 USDT
   Gas 费: 20 USDT（Ethereum）
   ```

4. **将 USDT 提回 Binance**
   - 网络选择：Ethereum
   - 提币费用：1 USDT
   - 到账时间：5-15 分钟

5. **计算净利润**
   ```
   卖出所得: 10,366 USDT
   成本: 10,010 USDT（买入 + 手续费）
   Gas 费: 20 USDT
   提币费: 6 USDT
   净利润: 10,366 - 10,010 - 20 - 6 = 330 USDT (+3.3%)
   ```

### 步骤 4：执行 CEX → DEX 套利

**场景**：CEX 价格高于 DEX

**操作步骤：**

1. **在链上钱包准备 USDT**
   - 从 Binance 提币 USDT 到 MetaMask
   - 金额：10,000 USDT

2. **在 Uniswap 买入代币**
   ```
   买入: 10,000 USDT → 1,176,470,588 PEPE
   价格: $0.00000850
   Gas 费: 20 USDT
   ```

3. **将代币提到 Binance**
   - 网络选择：Ethereum
   - Gas 费：15 USDT
   - 到账时间：5-15 分钟

4. **在 Binance 卖出**
   ```
   卖出: 1,176,470,588 PEPE → 10,420 USDT
   价格: $0.00000886
   手续费: 10 USDT
   ```

5. **计算净利润**
   ```
   卖出所得: 10,420 USDT
   成本: 10,020 USDT（买入 + Gas）
   Gas 费: 15 USDT
   手续费: 10 USDT
   净利润: 10,420 - 10,020 - 15 - 10 = 375 USDT (+3.75%)
   ```

---

## 💡 进阶技巧

### 技巧 1：使用 Layer 2 降低 Gas 费

以太坊主网 Gas 费太高（20-50 USDT），使用 Layer 2 可大幅降低成本：

| 网络 | Gas 费 | 流动性 | 推荐指数 |
|-----|--------|-------|---------|
| **Arbitrum** | 0.5-2 USDT | 高 | ⭐⭐⭐⭐⭐ |
| **Base** | 0.1-0.5 USDT | 中高 | ⭐⭐⭐⭐⭐ |
| **Optimism** | 1-3 USDT | 中 | ⭐⭐⭐⭐ |
| **Polygon** | 0.01-0.1 USDT | 中 | ⭐⭐⭐ |

**推荐**：优先使用 Arbitrum 或 Base（成本低、流动性高）。

### 技巧 2：监控新币首发

新币通常先在 DEX 上线，CEX 跟随 10-60 分钟后上线。

**操作流程：**

1. 监控 Uniswap 新币上线（使用 DEX Screener）
2. 在 Uniswap 买入新币
3. 等待 Binance 公告上线时间
4. Binance 开盘瞬间卖出

**风险**：新币波动极大，可能亏损 20-50%。

### 技巧 3：三明治攻击套利

监控 DEX 大额交易，提前买入（抢跑），等大额交易推高价格后卖出。

**示例：**

1. 监控到有人要在 Uniswap 买入 100 ETH 的 PEPE
2. 你提前买入 10 ETH 的 PEPE（Gas 设置更高，抢先成交）
3. 大额交易推高价格 +5%
4. 你立即卖出 PEPE，赚取 +5% 差价

**风险**：可能被反向三明治（别人抢跑你）。

### 技巧 4：跨链桥套利

利用跨链桥的延迟，在不同链之间搬砖。

**示例：**

1. Arbitrum 上 USDC 价格：$0.998
2. Ethereum 上 USDC 价格：$1.001
3. 在 Arbitrum 买入 USDC，跨链到 Ethereum 卖出

**成本**：跨链桥手续费 0.1-0.5%。

---

## ⚠️ 风险警告

### 风险 1：Gas 费波动

以太坊 Gas 费可能突然暴涨（从 20 USDT 涨到 100 USDT），吞噬利润。

**应对**：
- 使用 Layer 2 网络（Arbitrum、Base）
- 设置 Gas 费上限，避免过高成本

### 风险 2：价格瞬间反转

DEX 流动性低，价格可能瞬间反转，导致亏损。

**应对**：
- 只在价差 > 3% 时操作
- 设置滑点保护（Uniswap 滑点设为 1-2%）

### 风险 3：提币延迟

CEX 提币可能延迟 10-60 分钟，错过套利窗口。

**应对**：
- 提前在链上和 CEX 都准备资金
- 使用快速提币通道（Binance VIP 用户）

### 风险 4：智能合约风险

DEX 可能存在合约漏洞，导致资金损失。

**应对**：
- 只使用头部 DEX（Uniswap、SushiSwap、Curve）
- 避免使用新上线的 DEX

---

## ❓ 常见问题

**Q1：CEX vs DEX 套利还有多大空间？**

A：
- 主流币（BTC、ETH）：价差 < 0.5%，基本无利可图
- 小币种（PEPE、WLD）：价差 2-5%，有套利空间
- 新币首发：价差 10-50%，但风险极高

**Q2：Gas 费太高，怎么办？**

A：
- 使用 Layer 2 网络（Arbitrum、Base）
- 选择流动性高的 DEX（减少滑点损失）
- 大额套利（> 5,000 USDT）才能覆盖 Gas 费

**Q3：如何快速发现套利机会？**

A：
- 使用 DEX Screener 实时监控
- 加入 Telegram 预警机器人群
- 监控新币上线公告（Binance、OKX）

**Q4：需要多少本金？**

A：
- 最低：1,000 USDT（仅 Layer 2）
- 推荐：5,000-10,000 USDT（覆盖 Gas 费）
- 大户：5 万 USDT 以上（降低手续费占比）

**Q5：三明治攻击合法吗？**

A：在链上是合法的（没有监管），但在某些国家可能被视为市场操纵。建议谨慎使用。

---

## 📚 总结

**CEX vs DEX 套利 = 价差监控 + 快速执行 + Gas 优化**

### 核心要点

| 要点 | 说明 |
|-----|------|
| **价差监控** | DEX Screener、Telegram 机器人 |
| **网络选择** | 优先使用 Arbitrum、Base（Gas 低） |
| **执行速度** | 5 分钟内完成链上交易 |
| **盈利门槛** | 价差 > 3%（覆盖 Gas + 手续费） |
| **风险控制** | 设置滑点保护、避免新 DEX |

### 适合人群

✅ 熟悉 MetaMask、Uniswap 的 DeFi 玩家
✅ 能快速执行链上交易的老手
✅ 有 5,000 USDT 以上本金的投资者

❌ DeFi 新手（操作复杂）
❌ 无法承受 Gas 费波动的玩家

### 预期收益

- **主流币**：价差 < 0.5%，无利可图
- **小币种**：价差 2-5%，净利润 1-3%
- **新币首发**：价差 10-50%，但风险极高

### 下一步行动

- [ ] 安装 MetaMask 并充值 ETH（支付 Gas）
- [ ] 注册 DEX Screener、加入 Telegram 机器人群
- [ ] 在 Arbitrum/Base 上准备 5,000 USDT
- [ ] 测试一次小额套利（500 USDT）
- [ ] 制定止损策略（价差 < 3% 停止）

**最后提醒**：CEX vs DEX 套利依赖快速执行，适合有 DeFi 经验的玩家。新手建议先从 USDT 溢价搬砖（策略 17.1）开始。`,

  steps: [
    '准备工具和资金（MetaMask、Binance、DEX Screener）',
    '实时监控 CEX vs DEX 价差（DEX Screener、Telegram）',
    '执行套利（DEX → CEX 或 CEX → DEX）',
    '使用 Layer 2 降低 Gas 费（Arbitrum、Base）',
    '风险控制（设置滑点保护、避免新 DEX）'
  ],

  risk_level: 3,
  apy_min: 10,
  apy_max: 100,
  min_investment: 2000,
  difficulty_level: 'advanced',
  time_commitment: 'active',

  required_tools: [
    'MetaMask 钱包',
    'Binance 账户',
    'Etherscan 浏览器',
    'DEX Screener 监控工具',
    'Telegram 预警机器人',
    '2,000 美元以上本金 + ETH Gas 费'
  ],

  status: 'published',
  reading_time_minutes: 18
};

// ========================
// 认证和创建函数
// ========================
async function getAuthToken() {
  try {
    const response = await axios.post('http://localhost:8055/auth/login', {
      email: 'the_uk1@outlook.com',
      password: 'Mygcdjmyxzg2026!'
    });
    return response.data.data.access_token;
  } catch (error) {
    console.error('认证失败:', error.message);
    throw error;
  }
}

async function createStrategies() {
  console.log('认证中...');
  const token = await getAuthToken();
  console.log('认证成功，开始创建策略...\n');

  const strategies = [STRATEGY_17_3, STRATEGY_17_4];

  for (const strategy of strategies) {
    try {
      console.log(`正在创建策略 ${strategy.slug.includes('17-3') ? '17.3' : '17.4'}: ${strategy.title}...`);

      const response = await axios.post(
        'http://localhost:8055/items/strategies',
        strategy,
        {
          headers: {
            'Authorization': `Bearer ${token}`,
            'Content-Type': 'application/json'
          }
        }
      );

      console.log(`✅ 策略 ${strategy.slug.includes('17-3') ? '17.3' : '17.4'} 创建成功! ID: ${response.data.data.id}`);
      console.log(`   标题: ${strategy.title}`);
      console.log(`   Slug: ${strategy.slug}\n`);

    } catch (error) {
      console.error(`❌ 创建策略失败:`, error.response?.data || error.message);
      throw error;
    }
  }

  // 获取总数
  try {
    const countResponse = await axios.get(
      'http://localhost:8055/items/strategies?fields=id&limit=-1',
      {
        headers: { 'Authorization': `Bearer ${token}` }
      }
    );

    const totalCount = countResponse.data.data.length;

    console.log('========================================');
    console.log('🎉 策略 17.3 和 17.4 创建完成！');
    console.log(`📊 当前数据库中共有 ${totalCount} 个策略`);
    console.log('========================================');

  } catch (error) {
    console.error('获取策略总数失败:', error.message);
  }
}

// 执行
createStrategies().catch(console.error);
