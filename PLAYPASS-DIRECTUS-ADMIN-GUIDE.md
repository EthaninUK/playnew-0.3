# ðŸ“˜ PlayPass Directus åŽå°ç®¡ç†æŒ‡å—

**ç‰ˆæœ¬**: v2.1.0
**æ—¥æœŸ**: 2025-11-17
**ç”¨é€”**: ä½¿ç”¨ Directus åŽå°ç®¡ç† PlayPass é…ç½®

---

## ðŸ“‹ ç›®å½•

1. [ç®€ä»‹](#ç®€ä»‹)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [é›†åˆè¯´æ˜Ž](#é›†åˆè¯´æ˜Ž)
4. [ä¿®æ”¹å†…å®¹å®šä»·](#ä¿®æ”¹å†…å®¹å®šä»·)
5. [ä¿®æ”¹ PP å¥–åŠ±è§„åˆ™](#ä¿®æ”¹-pp-å¥–åŠ±è§„åˆ™)
6. [ç®¡ç†ä¼šå‘˜ç­‰çº§](#ç®¡ç†ä¼šå‘˜ç­‰çº§)
7. [æŸ¥çœ‹ç”¨æˆ·æ•°æ®](#æŸ¥çœ‹ç”¨æˆ·æ•°æ®)
8. [å¸¸è§æ“ä½œç¤ºä¾‹](#å¸¸è§æ“ä½œç¤ºä¾‹)
9. [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
10. [FAQ](#faq)

---

## ç®€ä»‹

### ä»€ä¹ˆæ˜¯ PlayPass Directus ç®¡ç†åŽå°ï¼Ÿ

PlayPass Directus ç®¡ç†åŽå°æ˜¯ä¸€ä¸ª**å›¾å½¢åŒ–ç•Œé¢**ï¼Œè®©ç®¡ç†å‘˜å¯ä»¥é€šè¿‡**ç‚¹å‡»æ“ä½œ**æ¥ç®¡ç† PlayPass ç³»ç»Ÿé…ç½®ï¼Œæ— éœ€ç¼–å†™ SQL ä»£ç ã€‚

### ä¸ºä»€ä¹ˆéœ€è¦ Directus ç®¡ç†åŽå°ï¼Ÿ

**ä¼˜åŠ¿**:
- âœ… **å¯è§†åŒ–æ“ä½œ** - å›¾å½¢ç•Œé¢ï¼Œæ— éœ€ SQL çŸ¥è¯†
- âœ… **å®žæ—¶ç”Ÿæ•ˆ** - ä¿®æ”¹åŽç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨
- âœ… **æƒé™æŽ§åˆ¶** - ä¸åŒç®¡ç†å‘˜å¯ä»¥æœ‰ä¸åŒæƒé™
- âœ… **æ“ä½œæ—¥å¿—** - è‡ªåŠ¨è®°å½•ä¿®æ”¹åŽ†å²
- âœ… **æ•°æ®éªŒè¯** - é˜²æ­¢è¾“å…¥é”™è¯¯æ•°æ®
- âœ… **ç»Ÿä¸€ç®¡ç†** - å’Œå…¶ä»–å†…å®¹ï¼ˆstrategies, news ç­‰ï¼‰åœ¨åŒä¸€ä¸ªåŽå°

### ä¸Ž Supabase çš„å…³ç³»

**æ•°æ®å­˜å‚¨**:
- æ•°æ®å®žé™…å­˜å‚¨åœ¨ **Supabase PostgreSQL** æ•°æ®åº“
- Directus å’Œ Supabase ä½¿ç”¨**åŒä¸€ä¸ªæ•°æ®åº“**
- åœ¨ Directus ä¿®æ”¹ = åœ¨ Supabase ä¿®æ”¹

**é€‰æ‹©ä½¿ç”¨å“ªä¸ª**:
- **Directus**: æŽ¨èç”¨äºŽæ—¥å¸¸ç®¡ç†ï¼ˆå›¾å½¢ç•Œé¢å‹å¥½ï¼‰
- **Supabase**: é€‚åˆé«˜çº§æ“ä½œï¼ˆSQL æŸ¥è¯¢ã€æ‰¹é‡ä¿®æ”¹ï¼‰

---

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨ Directus

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/m1/PlayNew_0.3

# å¯åŠ¨ Directus
docker-compose up -d directus

# æ£€æŸ¥çŠ¶æ€
docker-compose ps
```

### 2. é…ç½® PlayPass é›†åˆ

**é¦–æ¬¡ä½¿ç”¨éœ€è¦è¿è¡Œé…ç½®è„šæœ¬**:

```bash
# ä¸€é”®é…ç½®
chmod +x setup-playpass-directus-complete.sh
./setup-playpass-directus-complete.sh
```

**é…ç½®å†…å®¹**:
- âœ… é…ç½®é›†åˆå…ƒæ•°æ®ï¼ˆåç§°ã€å›¾æ ‡ï¼‰
- âœ… é…ç½®å­—æ®µç•Œé¢ï¼ˆè¾“å…¥æ¡†ã€ä¸‹æ‹‰èœå•ã€ä»£ç ç¼–è¾‘å™¨ï¼‰
- âœ… è®¾ç½®æƒé™ï¼ˆç®¡ç†å‘˜å¯è¯»å†™ï¼ŒAPI åªè¯»ï¼‰
- âœ… ä¸­æ–‡ç¿»è¯‘

### 3. ç™»å½• Directus åŽå°

**è®¿é—®åœ°å€**: http://localhost:8055

**ç™»å½•ä¿¡æ¯**:
- é‚®ç®±: `the_uk1@outlook.com`
- å¯†ç : `Mygcdjmyxzg2026!`

### 4. æ‰¾åˆ° PlayPass é›†åˆ

ç™»å½•åŽï¼Œåœ¨å·¦ä¾§å¯¼èˆªæ æ‰¾åˆ°:

```
ðŸ“¦ PlayPass å®šä»·é…ç½® (playpass_pricing_config)
ðŸŽ PlayPass å¥–åŠ±é…ç½® (playpass_reward_config)
ðŸ‘‘ PlayPass ä¼šå‘˜é…ç½® (playpass_membership_config)
ðŸ’° PlayPass ç”¨æˆ·ä½™é¢ (user_playpass) - åªè¯»
ðŸ“‹ PlayPass äº¤æ˜“è®°å½• (playpass_transactions) - åªè¯»
```

---

## é›†åˆè¯´æ˜Ž

### 1. PlayPass å®šä»·é…ç½® (playpass_pricing_config)

**ç”¨é€”**: ç®¡ç†ä¸åŒå†…å®¹çš„ PP ä»·æ ¼

**å­—æ®µè¯´æ˜Ž**:

| å­—æ®µ | ç±»åž‹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|------|
| config_key | æ–‡æœ¬ | é…ç½®å”¯ä¸€æ ‡è¯† | `strategy_high_risk` |
| content_type | ä¸‹æ‹‰èœå• | å†…å®¹ç±»åž‹ | `strategy` / `arbitrage` / `news` / `gossip` |
| pp_price | æ•°å­— | PP ä»·æ ¼ï¼ˆ0=å…è´¹ï¼‰ | `100` |
| conditions | JSON | åŒ¹é…æ¡ä»¶ | `{"risk_level": [4, 5]}` |
| membership_discount | JSON | ä¼šå‘˜æŠ˜æ‰£ | `{"0": 0, "1": 0.1, "2": 0.3}` |
| priority | æ•°å­— | ä¼˜å…ˆçº§ï¼ˆè¶Šå¤§è¶Šä¼˜å…ˆï¼‰ | `10` |
| is_active | å¼€å…³ | æ˜¯å¦å¯ç”¨ | `true` / `false` |
| description | å¤šè¡Œæ–‡æœ¬ | è§„åˆ™è¯´æ˜Ž | `é«˜é£Žé™©ç­–ç•¥å®šä»·` |

**æ¡ä»¶åŒ¹é…è§„åˆ™**:

```json
// 1. æ•°ç»„åŒ¹é… - risk_level æ˜¯ 4 æˆ– 5
{
  "risk_level": [4, 5]
}

// 2. ç²¾ç¡®åŒ¹é… - category_l1 æ˜¯ defi-lending
{
  "category_l1": "defi-lending"
}

// 3. èŒƒå›´åŒ¹é… - apy_min >= 10
{
  "apy_min": {
    "min": 10
  }
}

// 4. ç»„åˆæ¡ä»¶
{
  "risk_level": [4, 5],
  "category_l1": "defi-lending",
  "apy_min": {
    "min": 10
  }
}
```

**ä¼šå‘˜æŠ˜æ‰£è¯´æ˜Ž**:

```json
{
  "0": 0,      // Free ä¼šå‘˜: 0% æŠ˜æ‰£ï¼ˆåŽŸä»·ï¼‰
  "1": 0.1,    // Pro ä¼šå‘˜: 10% æŠ˜æ‰£
  "2": 0.3,    // Premium ä¼šå‘˜: 30% æŠ˜æ‰£
  "3": 0.5,    // Partner ä¼šå‘˜: 50% æŠ˜æ‰£
  "4": 1.0     // MAX ä¼šå‘˜: 100% æŠ˜æ‰£ï¼ˆå…è´¹ï¼‰
}
```

---

### 2. PlayPass å¥–åŠ±é…ç½® (playpass_reward_config)

**ç”¨é€”**: ç®¡ç†ç”¨æˆ·èµšå– PP çš„å¥–åŠ±è§„åˆ™

**å­—æ®µè¯´æ˜Ž**:

| å­—æ®µ | ç±»åž‹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|------|
| reward_key | æ–‡æœ¬ | å¥–åŠ±å”¯ä¸€æ ‡è¯† | `daily_signin` |
| action_type | ä¸‹æ‹‰èœå• | è¡Œä¸ºç±»åž‹ | `daily_signin` / `read_strategy` ç­‰ |
| pp_amount | æ•°å­— | åŸºç¡€å¥–åŠ±é‡‘é¢ | `10` |
| reward_multiplier | æ•°å­— | æ´»åŠ¨å€çŽ‡ï¼ˆ1.0=æ­£å¸¸ï¼Œ2.0=åŒå€ï¼‰ | `1.0` |
| frequency_limit | ä¸‹æ‹‰èœå• | é¢‘çŽ‡é™åˆ¶ | `daily` / `once_per_content` / `unlimited` |
| valid_from | æ—¥æœŸæ—¶é—´ | æ´»åŠ¨å¼€å§‹æ—¶é—´ï¼ˆå¯é€‰ï¼‰ | `2025-12-21 00:00:00` |
| valid_until | æ—¥æœŸæ—¶é—´ | æ´»åŠ¨ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰ | `2025-12-22 23:59:59` |
| is_active | å¼€å…³ | æ˜¯å¦å¯ç”¨ | `true` / `false` |
| description | å¤šè¡Œæ–‡æœ¬ | è§„åˆ™è¯´æ˜Ž | `æ¯æ—¥ç­¾åˆ°å¥–åŠ±` |

**è¡Œä¸ºç±»åž‹é€‰é¡¹**:

| å€¼ | è¯´æ˜Ž | é¢‘çŽ‡å»ºè®® |
|----|------|----------|
| `daily_signin` | æ¯æ—¥ç­¾åˆ° | `daily` |
| `read_strategy` | é˜…è¯»ç­–ç•¥ | `once_per_content` |
| `read_arbitrage` | é˜…è¯»å¥—åˆ© | `once_per_content` |
| `read_news` | é˜…è¯»æ–°é—» | `once_per_content` |
| `read_gossip` | é˜…è¯»å…«å¦ | `once_per_content` |
| `share_content` | åˆ†äº«å†…å®¹ | `daily` |
| `post_comment` | å‘å¸ƒè¯„è®º | `unlimited` |
| `publish_strategy` | å‘å¸ƒç­–ç•¥ | `unlimited` |

**é¢‘çŽ‡é™åˆ¶è¯´æ˜Ž**:

| å€¼ | è¯´æ˜Ž | é€‚ç”¨åœºæ™¯ |
|----|------|----------|
| `daily` | æ¯å¤©ä¸€æ¬¡ | ç­¾åˆ°ã€åˆ†äº« |
| `once_per_content` | æ¯å†…å®¹ä¸€æ¬¡ | é˜…è¯»å†…å®¹ |
| `unlimited` | æ— é™åˆ¶ | è¯„è®ºã€å‘å¸ƒ |

---

### 3. PlayPass ä¼šå‘˜é…ç½® (playpass_membership_config)

**ç”¨é€”**: ç®¡ç†ä¼šå‘˜ç­‰çº§å’Œæƒç›Š

**å­—æ®µè¯´æ˜Ž**:

| å­—æ®µ | ç±»åž‹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|------|
| level | æ•°å­— | ä¼šå‘˜ç­‰çº§ï¼ˆ0-4ï¼‰ | `1` |
| name | æ–‡æœ¬ | ä¼šå‘˜åç§° | `Pro` |
| earn_multiplier | æ•°å­— | èµšå–å€çŽ‡ | `1.2` |
| discount_rate | æ•°å­— | é»˜è®¤æŠ˜æ‰£çŽ‡ï¼ˆ%ï¼‰ | `10` |
| daily_earn_limit | æ•°å­— | æ¯æ—¥èµšå–ä¸Šé™ï¼ˆ-1=æ— é™ï¼‰ | `1500` |
| benefits | JSON æ•°ç»„ | ä¼šå‘˜æƒç›Šåˆ—è¡¨ | `["åŸºç¡€åŠŸèƒ½", "ä¼˜å…ˆæ”¯æŒ"]` |
| description | å¤šè¡Œæ–‡æœ¬ | ä¼šå‘˜è¯´æ˜Ž | `Pro ä¼šå‘˜ä»‹ç»` |

**ä¼šå‘˜ç­‰çº§å¯¹ç…§**:

| Level | åç§° | å€çŽ‡ | æŠ˜æ‰£ | æ¯æ—¥ä¸Šé™ |
|-------|------|------|------|----------|
| 0 | Free | 1.0x | 0% | 1000 PP |
| 1 | Pro | 1.2x | 10% | 1500 PP |
| 2 | Premium | 1.5x | 30% | 2500 PP |
| 3 | Partner | 2.0x | 50% | 5000 PP |
| 4 | MAX | 999.99x | 100% | -1 (æ— é™) |

---

### 4. PlayPass ç”¨æˆ·ä½™é¢ (user_playpass) - åªè¯»

**ç”¨é€”**: æŸ¥çœ‹ç”¨æˆ· PP ä½™é¢å’Œç»Ÿè®¡

**ä¸»è¦å­—æ®µ**:

| å­—æ®µ | è¯´æ˜Ž |
|------|------|
| user_id | ç”¨æˆ· ID |
| current_balance | å½“å‰ä½™é¢ |
| membership_level | ä¼šå‘˜ç­‰çº§ (0-4) |
| is_max_member | æ˜¯å¦ MAX ä¼šå‘˜ |
| daily_earned | ä»Šæ—¥å·²èµšå– |
| daily_spent | ä»Šæ—¥å·²æ¶ˆè´¹ |
| total_earned | ç´¯è®¡èµšå– |
| total_spent | ç´¯è®¡æ¶ˆè´¹ |
| consecutive_signin_days | è¿žç»­ç­¾åˆ°å¤©æ•° |
| total_signin_days | ç´¯è®¡ç­¾åˆ°å¤©æ•° |

**åªè¯»æç¤º**:
- âš ï¸ æ­¤é›†åˆä¸º**åªè¯»**ï¼Œä¸å»ºè®®ç›´æŽ¥ä¿®æ”¹
- âœ… å¯ä»¥æŸ¥çœ‹ç”¨æˆ·ä½™é¢å’Œç»Ÿè®¡æ•°æ®
- âœ… å¦‚éœ€æ‰‹åŠ¨è°ƒæ•´ä½™é¢ï¼Œè¯·ä½¿ç”¨ Supabase SQL

---

### 5. PlayPass äº¤æ˜“è®°å½• (playpass_transactions) - åªè¯»

**ç”¨é€”**: æŸ¥çœ‹ PP äº¤æ˜“åŽ†å²

**ä¸»è¦å­—æ®µ**:

| å­—æ®µ | è¯´æ˜Ž |
|------|------|
| user_id | ç”¨æˆ· ID |
| transaction_type | äº¤æ˜“ç±»åž‹ (earn/spend) |
| pp_amount | PP é‡‘é¢ |
| source_type | æ¥æºç±»åž‹ |
| source_id | æ¥æº ID |
| content_title | å†…å®¹æ ‡é¢˜ |
| balance_before | äº¤æ˜“å‰ä½™é¢ |
| balance_after | äº¤æ˜“åŽä½™é¢ |
| created_at | åˆ›å»ºæ—¶é—´ |

**ç­›é€‰ç¤ºä¾‹**:
- æŸ¥çœ‹æŸç”¨æˆ·çš„æ‰€æœ‰äº¤æ˜“
- æŸ¥çœ‹æ”¶å…¥/æ”¯å‡ºäº¤æ˜“
- æŸ¥çœ‹æŸæ—¶é—´æ®µçš„äº¤æ˜“
- ç»Ÿè®¡äº¤æ˜“é‡‘é¢

---

## ä¿®æ”¹å†…å®¹å®šä»·

### åœºæ™¯ 1: ä¿®æ”¹å•ä¸ªç­–ç•¥çš„ä»·æ ¼

**éœ€æ±‚**: å°†é«˜é£Žé™©ç­–ç•¥ä»·æ ¼ä»Ž 100 PP æ”¹ä¸º 150 PP

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®** é›†åˆ
2. æ‰¾åˆ° `config_key = 'strategy_high_risk'` çš„è®°å½•
3. ç‚¹å‡»è¯¥è®°å½•è¿›å…¥è¯¦æƒ…é¡µ
4. ä¿®æ”¹ **PP ä»·æ ¼** å­—æ®µ: `100` â†’ `150`
5. ç‚¹å‡»å³ä¸Šè§’ **ä¿å­˜** æŒ‰é’®

**æ•ˆæžœ**:
- âœ… ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
- âœ… æ‰€æœ‰é«˜é£Žé™©ç­–ç•¥ä»·æ ¼å˜ä¸º 150 PP
- âœ… API è‡ªåŠ¨è¯»å–æ–°ä»·æ ¼

---

### åœºæ™¯ 2: æ–°å¢žä¸€ä¸ªå®šä»·è§„åˆ™

**éœ€æ±‚**: ä¸º "æ–°æ‰‹å‹å¥½" ç±»åˆ«çš„ç­–ç•¥è®¾ç½®å…è´¹

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®** é›†åˆ
2. ç‚¹å‡»å³ä¸Šè§’ **+** æŒ‰é’®ï¼ˆåˆ›å»ºæ–°è®°å½•ï¼‰
3. å¡«å†™å­—æ®µ:
   - **é…ç½®é”®**: `strategy_beginner_free`
   - **å†…å®¹ç±»åž‹**: `strategy`
   - **PP ä»·æ ¼**: `0` (å…è´¹)
   - **åŒ¹é…æ¡ä»¶**:
     ```json
     {
       "category_l1": "beginner"
     }
     ```
   - **ä¼šå‘˜æŠ˜æ‰£**: ç•™ç©ºæˆ–ä½¿ç”¨é»˜è®¤å€¼
   - **ä¼˜å…ˆçº§**: `100` (é«˜ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆåŒ¹é…)
   - **æ˜¯å¦å¯ç”¨**: `true`
   - **è§„åˆ™æè¿°**: `æ–°æ‰‹å‹å¥½ç­–ç•¥å…è´¹`
4. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… category_l1 ä¸º "beginner" çš„ç­–ç•¥å…è´¹
- âœ… ä¼˜å…ˆçº§é«˜ï¼Œä¼šå…ˆåŒ¹é…è¿™æ¡è§„åˆ™

---

### åœºæ™¯ 3: ä¿®æ”¹ä¼šå‘˜æŠ˜æ‰£

**éœ€æ±‚**: Pro ä¼šå‘˜æŠ˜æ‰£ä»Ž 10% æå‡åˆ° 15%

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®** é›†åˆ
2. æ‰¾åˆ°è¦ä¿®æ”¹çš„å®šä»·è§„åˆ™ï¼ˆå¦‚ `strategy_high_risk`ï¼‰
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. æ‰¾åˆ° **ä¼šå‘˜æŠ˜æ‰£** å­—æ®µï¼ˆJSON ä»£ç ç¼–è¾‘å™¨ï¼‰
5. ä¿®æ”¹ Pro ä¼šå‘˜ï¼ˆlevel 1ï¼‰çš„æŠ˜æ‰£:
   ```json
   {
     "0": 0,
     "1": 0.15,    // ä»Ž 0.1 æ”¹ä¸º 0.15
     "2": 0.3,
     "3": 0.5,
     "4": 1.0
   }
   ```
6. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… Pro ä¼šå‘˜è´­ä¹°è¯¥ç±»å†…å®¹äº«å— 15% æŠ˜æ‰£
- âœ… æœ€ç»ˆä»·æ ¼ = åŽŸä»· Ã— (1 - 0.15) = åŽŸä»· Ã— 0.85

---

### åœºæ™¯ 4: ä¸´æ—¶ç¦ç”¨æŸä¸ªå®šä»·è§„åˆ™

**éœ€æ±‚**: ä¸´æ—¶ç¦ç”¨æŸä¸ªå®šä»·è§„åˆ™ï¼ˆä¸åˆ é™¤ï¼‰

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®** é›†åˆ
2. æ‰¾åˆ°è¦ç¦ç”¨çš„è§„åˆ™
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. å°† **æ˜¯å¦å¯ç”¨** å¼€å…³è®¾ä¸º `false`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… è¯¥è§„åˆ™ä¸å†ç”Ÿæ•ˆ
- âœ… ç³»ç»Ÿä¼šä½¿ç”¨ä¸‹ä¸€ä¸ªä¼˜å…ˆçº§çš„è§„åˆ™
- âœ… éœ€è¦æ—¶å¯ä»¥é‡æ–°å¯ç”¨

---

## ä¿®æ”¹ PP å¥–åŠ±è§„åˆ™

### åœºæ™¯ 1: ä¿®æ”¹ç­¾åˆ°å¥–åŠ±é‡‘é¢

**éœ€æ±‚**: æ¯æ—¥ç­¾åˆ°å¥–åŠ±ä»Ž 10 PP æ”¹ä¸º 15 PP

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å¥–åŠ±é…ç½®** é›†åˆ
2. æ‰¾åˆ° `reward_key = 'daily_signin'` çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. ä¿®æ”¹ **åŸºç¡€å¥–åŠ±** å­—æ®µ: `10` â†’ `15`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
- âœ… Free ä¼šå‘˜ç­¾åˆ°èŽ·å¾—: 15 PP
- âœ… Pro ä¼šå‘˜ç­¾åˆ°èŽ·å¾—: 15 Ã— 1.2 = 18 PP
- âœ… Premium ä¼šå‘˜ç­¾åˆ°èŽ·å¾—: 15 Ã— 1.5 = 22.5 PP

---

### åœºæ™¯ 2: ä¸¾åŠžå‘¨æœ«åŒå€ç­¾åˆ°æ´»åŠ¨

**éœ€æ±‚**: 12æœˆ21-22æ—¥å‘¨æœ«ä¸¾åŠžåŒå€ç­¾åˆ° PP æ´»åŠ¨

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å¥–åŠ±é…ç½®** é›†åˆ
2. æ‰¾åˆ° `reward_key = 'daily_signin'` çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. ä¿®æ”¹ä»¥ä¸‹å­—æ®µ:
   - **æ´»åŠ¨å€çŽ‡**: `2.0` (åŒå€)
   - **ç”Ÿæ•ˆå¼€å§‹æ—¶é—´**: `2025-12-21 00:00:00`
   - **ç”Ÿæ•ˆç»“æŸæ—¶é—´**: `2025-12-22 23:59:59`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… 12æœˆ21-22æ—¥ç­¾åˆ°ç”¨æˆ·èŽ·å¾—åŒå€ PP
- âœ… ä¾‹å¦‚ Pro ä¼šå‘˜: (10 Ã— 1.2) Ã— 2.0 = 24 PP
- âœ… è¶…è¿‡æ—¶é—´èŒƒå›´è‡ªåŠ¨æ¢å¤æ­£å¸¸å€çŽ‡

**æ´»åŠ¨ç»“æŸåŽ**:

1. å†æ¬¡è¿›å…¥è¯¥è®°å½•
2. ä¿®æ”¹:
   - **æ´»åŠ¨å€çŽ‡**: `1.0` (æ¢å¤æ­£å¸¸)
   - **ç”Ÿæ•ˆå¼€å§‹æ—¶é—´**: æ¸…ç©º
   - **ç”Ÿæ•ˆç»“æŸæ—¶é—´**: æ¸…ç©º
3. ç‚¹å‡» **ä¿å­˜**

---

### åœºæ™¯ 3: æ–°å¢žé˜…è¯»å¥–åŠ±

**éœ€æ±‚**: æ–°å¢ž "é˜…è¯»å…«å¦" å¥–åŠ±è§„åˆ™

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å¥–åŠ±é…ç½®** é›†åˆ
2. ç‚¹å‡»å³ä¸Šè§’ **+** æŒ‰é’®
3. å¡«å†™å­—æ®µ:
   - **å¥–åŠ±é”®**: `read_gossip`
   - **è¡Œä¸ºç±»åž‹**: `read_gossip`
   - **åŸºç¡€å¥–åŠ±**: `5`
   - **æ´»åŠ¨å€çŽ‡**: `1.0`
   - **é¢‘çŽ‡é™åˆ¶**: `once_per_content`
   - **æ˜¯å¦å¯ç”¨**: `true`
   - **è§„åˆ™æè¿°**: `é˜…è¯»å…«å¦å¥–åŠ±`
4. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… ç”¨æˆ·é˜…è¯»æ¯ç¯‡å…«å¦èŽ·å¾— 5 PPï¼ˆåº”ç”¨ä¼šå‘˜å€çŽ‡ï¼‰
- âœ… æ¯ç¯‡å…«å¦åªèƒ½èŽ·å¾—ä¸€æ¬¡å¥–åŠ±

---

### åœºæ™¯ 4: ä¸´æ—¶æš‚åœæŸä¸ªå¥–åŠ±

**éœ€æ±‚**: ä¸´æ—¶æš‚åœ "åˆ†äº«å†…å®¹" å¥–åŠ±

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass å¥–åŠ±é…ç½®** é›†åˆ
2. æ‰¾åˆ° `reward_key = 'share_content'` çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. å°† **æ˜¯å¦å¯ç”¨** å¼€å…³è®¾ä¸º `false`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… ç”¨æˆ·åˆ†äº«å†…å®¹ä¸å†èŽ·å¾— PP å¥–åŠ±
- âœ… éœ€è¦æ—¶å¯ä»¥é‡æ–°å¯ç”¨

---

## ç®¡ç†ä¼šå‘˜ç­‰çº§

### åœºæ™¯ 1: ä¿®æ”¹ä¼šå‘˜èµšå–å€çŽ‡

**éœ€æ±‚**: Pro ä¼šå‘˜å€çŽ‡ä»Ž 1.2x æå‡åˆ° 1.3x

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass ä¼šå‘˜é…ç½®** é›†åˆ
2. æ‰¾åˆ° `level = 1` (Pro) çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. ä¿®æ”¹ **èµšå–å€çŽ‡**: `1.2` â†’ `1.3`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… Pro ä¼šå‘˜èµšå– PP æ—¶åº”ç”¨ 1.3x å€çŽ‡
- âœ… ä¾‹å¦‚ç­¾åˆ°: 10 Ã— 1.3 = 13 PP

---

### åœºæ™¯ 2: ä¿®æ”¹æ¯æ—¥èµšå–ä¸Šé™

**éœ€æ±‚**: Premium ä¼šå‘˜æ¯æ—¥ä¸Šé™ä»Ž 2500 PP æå‡åˆ° 3000 PP

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass ä¼šå‘˜é…ç½®** é›†åˆ
2. æ‰¾åˆ° `level = 2` (Premium) çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. ä¿®æ”¹ **æ¯æ—¥ä¸Šé™**: `2500` â†’ `3000`
5. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… Premium ä¼šå‘˜æ¯å¤©æœ€å¤šèµšå– 3000 PP
- âœ… è¾¾åˆ°ä¸Šé™åŽæ— æ³•ç»§ç»­èµšå–ï¼ˆæ¬¡æ—¥é‡ç½®ï¼‰

---

### åœºæ™¯ 3: ä¿®æ”¹ä¼šå‘˜æƒç›Š

**éœ€æ±‚**: ä¸º Partner ä¼šå‘˜æ·»åŠ æ–°æƒç›Š

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass ä¼šå‘˜é…ç½®** é›†åˆ
2. æ‰¾åˆ° `level = 3` (Partner) çš„è®°å½•
3. ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ
4. æ‰¾åˆ° **ä¼šå‘˜æƒç›Š** å­—æ®µï¼ˆJSON æ•°ç»„ï¼‰
5. ä¿®æ”¹:
   ```json
   [
     "åŸºç¡€åŠŸèƒ½",
     "ä¼˜å…ˆæ”¯æŒ",
     "ä¸“å±žå†…å®¹",
     "æ—©æœŸè®¿é—®",
     "ä¸“å±žå¾½ç« "  // æ–°å¢ž
   ]
   ```
6. ç‚¹å‡» **ä¿å­˜**

**æ•ˆæžœ**:
- âœ… Partner ä¼šå‘˜æƒç›Šåˆ—è¡¨æ›´æ–°
- âœ… å‰ç«¯ä¼šå‘˜å¾½ç« ç»„ä»¶ä¼šæ˜¾ç¤ºæ–°æƒç›Š

---

## æŸ¥çœ‹ç”¨æˆ·æ•°æ®

### æŸ¥çœ‹ç”¨æˆ·ä½™é¢

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass ç”¨æˆ·ä½™é¢** é›†åˆ
2. ä½¿ç”¨æœç´¢æˆ–ç­›é€‰åŠŸèƒ½æ‰¾åˆ°ç›®æ ‡ç”¨æˆ·:
   - è¾“å…¥ `user_id` æœç´¢
   - æˆ–æŒ‰ `membership_level` ç­›é€‰
3. ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

**å¯æŸ¥çœ‹ä¿¡æ¯**:
- å½“å‰ä½™é¢
- ä¼šå‘˜ç­‰çº§
- ä»Šæ—¥èµšå–/æ¶ˆè´¹
- ç´¯è®¡èµšå–/æ¶ˆè´¹
- ç­¾åˆ°ç»Ÿè®¡

**æ³¨æ„**:
- âš ï¸ åªè¯»é›†åˆï¼Œä¸å»ºè®®ç›´æŽ¥ä¿®æ”¹
- âœ… å¦‚éœ€æ‰‹åŠ¨è°ƒæ•´ä½™é¢ï¼Œä½¿ç”¨ Supabase SQL

---

### æŸ¥çœ‹äº¤æ˜“è®°å½•

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass äº¤æ˜“è®°å½•** é›†åˆ
2. ä½¿ç”¨ç­›é€‰å™¨:
   - **æŒ‰ç”¨æˆ·**: `user_id` = `user-123`
   - **æŒ‰ç±»åž‹**: `transaction_type` = `earn` æˆ– `spend`
   - **æŒ‰æ—¶é—´**: `created_at` >= `2025-11-01`
3. æŸ¥çœ‹äº¤æ˜“åˆ—è¡¨

**å¯æŸ¥çœ‹ä¿¡æ¯**:
- äº¤æ˜“ç±»åž‹ï¼ˆæ”¶å…¥/æ”¯å‡ºï¼‰
- PP é‡‘é¢
- æ¥æºç±»åž‹ï¼ˆç­¾åˆ°/è§£é”å†…å®¹ç­‰ï¼‰
- ä½™é¢å˜åŒ–
- åˆ›å»ºæ—¶é—´

---

### ç»Ÿè®¡æ•°æ®ç¤ºä¾‹

**æŸ¥çœ‹ä»Šæ—¥æ´»è·ƒç”¨æˆ·æ•°**:

åœ¨ Directus ä¸­ä½¿ç”¨ç­›é€‰å™¨:
1. è¿›å…¥ **PlayPass äº¤æ˜“è®°å½•**
2. ç­›é€‰æ¡ä»¶:
   - `created_at` >= `ä»Šå¤© 00:00`
3. æŸ¥çœ‹è®°å½•æ•°é‡

**æŸ¥çœ‹æŸç”¨æˆ·æ€»æ”¯å‡º**:

1. è¿›å…¥ **PlayPass ç”¨æˆ·ä½™é¢**
2. æœç´¢ç”¨æˆ·
3. æŸ¥çœ‹ `total_spent` å­—æ®µ

---

## å¸¸è§æ“ä½œç¤ºä¾‹

### 1. é™æ—¶å…è´¹æ´»åŠ¨

**éœ€æ±‚**: 12æœˆ25æ—¥åœ£è¯žèŠ‚ï¼Œæ‰€æœ‰å†…å®¹å…è´¹

**æ–¹æ¡ˆ 1**: ä¿®æ”¹æ‰€æœ‰å®šä»·è§„åˆ™ï¼ˆæŽ¨èï¼‰

åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„é«˜ä¼˜å…ˆçº§è§„åˆ™:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®**
2. åˆ›å»ºæ–°è®°å½•:
   - **é…ç½®é”®**: `christmas_free`
   - **å†…å®¹ç±»åž‹**: `strategy` (ä¸ºæ¯ä¸ªç±»åž‹åˆ›å»ºä¸€æ¡)
   - **PP ä»·æ ¼**: `0`
   - **åŒ¹é…æ¡ä»¶**: `{}` (åŒ¹é…æ‰€æœ‰)
   - **ä¼˜å…ˆçº§**: `9999` (æœ€é«˜ä¼˜å…ˆçº§)
   - **æ˜¯å¦å¯ç”¨**: `true`

æ´»åŠ¨ç»“æŸåŽç¦ç”¨è¯¥è§„åˆ™å³å¯ã€‚

**æ–¹æ¡ˆ 2**: ä¸´æ—¶ç¦ç”¨æ‰€æœ‰å®šä»·è§„åˆ™

å°†æ‰€æœ‰å®šä»·è§„åˆ™çš„ **æ˜¯å¦å¯ç”¨** è®¾ä¸º `false`ï¼ˆæ´»åŠ¨ç»“æŸåŽå†å¯ç”¨ï¼‰ã€‚

---

### 2. ä¼šå‘˜å‡çº§ä¿ƒé”€

**éœ€æ±‚**: ä¸´æ—¶æé«˜ä¼šå‘˜å€çŽ‡å¸å¼•ç”¨æˆ·å‡çº§

**æ­¥éª¤**:

1. è¿›å…¥ **PlayPass ä¼šå‘˜é…ç½®**
2. ä¿®æ”¹ç›®æ ‡ä¼šå‘˜ç­‰çº§çš„ **èµšå–å€çŽ‡**:
   - Pro: `1.2` â†’ `1.5`
   - Premium: `1.5` â†’ `2.0`
3. ä¿®æ”¹ **ä¼šå‘˜æŠ˜æ‰£**:
   - Pro: `10%` â†’ `20%`
   - Premium: `30%` â†’ `40%`
4. æ´»åŠ¨æœŸé—´ä¿æŒ
5. æ´»åŠ¨ç»“æŸåŽæ”¹å›žåŽŸå€¼

---

### 3. æ‰¹é‡è°ƒæ•´ä»·æ ¼

**éœ€æ±‚**: æ‰€æœ‰ç­–ç•¥ä»·æ ¼ç»Ÿä¸€ä¸Šæ¶¨ 20%

**æ–¹æ³• 1**: Directus é€ä¸ªä¿®æ”¹

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®**
2. ç­›é€‰ `content_type = 'strategy'`
3. é€ä¸ªä¿®æ”¹ PP ä»·æ ¼ï¼ˆä¹˜ä»¥ 1.2ï¼‰

**æ–¹æ³• 2**: Supabase SQL æ‰¹é‡ä¿®æ”¹ï¼ˆæŽ¨èï¼‰

```sql
UPDATE playpass_pricing_config
SET pp_price = pp_price * 1.2
WHERE content_type = 'strategy';
```

---

### 4. æ–°ç”¨æˆ·ç¦åˆ©

**éœ€æ±‚**: æ–°ç”¨æˆ·æ³¨å†Œå¥–åŠ± 500 PP

**å®žçŽ°æ–¹å¼ 1**: ä¿®æ”¹åˆå§‹ä½™é¢

ä¿®æ”¹åˆ›å»ºæ–°ç”¨æˆ·æ—¶çš„é»˜è®¤ä½™é¢ï¼ˆéœ€è¦ä¿®æ”¹ API ä»£ç ï¼‰ã€‚

**å®žçŽ°æ–¹å¼ 2**: åˆ›å»ºå¥–åŠ±è§„åˆ™

1. è¿›å…¥ **PlayPass å¥–åŠ±é…ç½®**
2. åˆ›å»ºæ–°è®°å½•:
   - **å¥–åŠ±é”®**: `new_user_bonus`
   - **è¡Œä¸ºç±»åž‹**: è‡ªå®šä¹‰ (éœ€è¦ API æ”¯æŒ)
   - **åŸºç¡€å¥–åŠ±**: `500`
   - **é¢‘çŽ‡é™åˆ¶**: `once_per_content`

---

## æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦æç¤º

1. **ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ**
   - Directus ä¿®æ”¹ä¼šç«‹å³åŒæ­¥åˆ°æ•°æ®åº“
   - API ä¼šå®žæ—¶è¯»å–æœ€æ–°é…ç½®
   - æ— éœ€é‡å¯æœåŠ¡å™¨

2. **å¤‡ä»½å»ºè®®**
   - é‡è¦ä¿®æ”¹å‰å»ºè®®å¯¼å‡ºæ•°æ®å¤‡ä»½
   - å¯ä»¥åœ¨ Directus ä¸­å¯¼å‡º CSV
   - æˆ–ä½¿ç”¨ Supabase å¯¼å‡º SQL

3. **æƒé™æŽ§åˆ¶**
   - åªæœ‰ Administrator è§’è‰²å¯ä»¥ä¿®æ”¹é…ç½®
   - Public è§’è‰²åªèƒ½è¯»å–ï¼ˆAPI ä½¿ç”¨ï¼‰
   - ä¸å»ºè®®ä¿®æ”¹ç”¨æˆ·ä½™é¢è¡¨

4. **æ•°æ®éªŒè¯**
   - PP ä»·æ ¼å¿…é¡» >= 0
   - ä¼šå‘˜å€çŽ‡å»ºè®® >= 1.0
   - JSON æ ¼å¼å¿…é¡»æ­£ç¡®

5. **ä¼˜å…ˆçº§è§„åˆ™**
   - æ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜
   - åŒä¼˜å…ˆçº§æŒ‰åˆ›å»ºæ—¶é—´æŽ’åº
   - å»ºè®®ç•™å‡ºé—´éš”ï¼ˆå¦‚ 10, 20, 30ï¼‰

---

### ðŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ä¸è¦æ³„éœ² Directus ç™»å½•ä¿¡æ¯**
   - ç®¡ç†å‘˜è´¦å·å¯†ç è¦å¦¥å–„ä¿ç®¡
   - å®šæœŸæ›´æ¢å¯†ç 

2. **è°¨æ…Žä¿®æ”¹ç³»ç»Ÿé…ç½®**
   - ä¿®æ”¹å‰ç†è§£å­—æ®µå«ä¹‰
   - æµ‹è¯•çŽ¯å¢ƒå…ˆéªŒè¯
   - é‡è¦ä¿®æ”¹åšå¥½è®°å½•

3. **ä¸è¦ç›´æŽ¥ä¿®æ”¹ç”¨æˆ·ä½™é¢**
   - ä½¿ç”¨æ­£å¸¸çš„å¥–åŠ±/æ¶ˆè´¹ API
   - ç‰¹æ®Šæƒ…å†µä½¿ç”¨ Supabase SQL
   - è®°å½•æ‰‹åŠ¨è°ƒæ•´åŽŸå› 

4. **å®šæœŸæ£€æŸ¥é…ç½®**
   - æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸é…ç½®
   - æ¸…ç†è¿‡æœŸçš„æ´»åŠ¨è§„åˆ™
   - éªŒè¯æƒé™é…ç½®æ­£ç¡®

---

## FAQ

### Q1: ä¿®æ”¹é…ç½®åŽå¤šä¹…ç”Ÿæ•ˆï¼Ÿ

**A**: ç«‹å³ç”Ÿæ•ˆã€‚Directus ä¿®æ”¹ç›´æŽ¥å†™å…¥æ•°æ®åº“ï¼ŒAPI å®žæ—¶è¯»å–ã€‚

---

### Q2: å¯ä»¥æ¢å¤è¯¯åˆ çš„é…ç½®å—ï¼Ÿ

**A**:

**æ–¹æ³• 1**: Directus æœ‰ç‰ˆæœ¬åŽ†å²ï¼ˆå¦‚æžœå¯ç”¨äº†ï¼‰
**æ–¹æ³• 2**: ä»Žå¤‡ä»½æ¢å¤
**æ–¹æ³• 3**: é‡æ–°æ‰‹åŠ¨åˆ›å»º

**å»ºè®®**: é‡è¦ä¿®æ”¹å‰å…ˆå¯¼å‡ºå¤‡ä»½ã€‚

---

### Q3: Directus å’Œ Supabase ä¿®æ”¹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**:

| å¯¹æ¯”é¡¹ | Directus | Supabase |
|--------|----------|----------|
| ç•Œé¢ | å›¾å½¢åŒ–ï¼Œå‹å¥½ | SQL ç¼–è¾‘å™¨ |
| é€‚ç”¨äººç¾¤ | æ‰€æœ‰ç®¡ç†å‘˜ | æŠ€æœ¯äººå‘˜ |
| æ‰¹é‡æ“ä½œ | ä¸æ–¹ä¾¿ | æ–¹ä¾¿ï¼ˆSQLï¼‰ |
| æ•°æ®éªŒè¯ | æœ‰ | éœ€è‡ªå·±éªŒè¯ |
| æƒé™æŽ§åˆ¶ | è§’è‰²æƒé™ | æ•°æ®åº“æƒé™ |

**å»ºè®®**:
- æ—¥å¸¸æ“ä½œç”¨ Directus
- æ‰¹é‡ä¿®æ”¹ç”¨ Supabase SQL

---

### Q4: å¦‚ä½•å¤‡ä»½ PlayPass é…ç½®ï¼Ÿ

**A**:

**æ–¹æ³• 1**: Directus å¯¼å‡º

1. è¿›å…¥é›†åˆ
2. é€‰æ‹©å…¨éƒ¨è®°å½•
3. ç‚¹å‡» **å¯¼å‡º** æŒ‰é’®
4. é€‰æ‹© CSV æˆ– JSON æ ¼å¼

**æ–¹æ³• 2**: Supabase SQL å¯¼å‡º

```sql
COPY playpass_pricing_config TO '/tmp/pricing_backup.csv' CSV HEADER;
COPY playpass_reward_config TO '/tmp/reward_backup.csv' CSV HEADER;
```

---

### Q5: é…ç½®äº†æ–°è§„åˆ™ä½†ä¸ç”Ÿæ•ˆæ€Žä¹ˆåŠžï¼Ÿ

**A**: æ£€æŸ¥æ¸…å•:

1. âœ… **æ˜¯å¦å¯ç”¨**: `is_active = true`
2. âœ… **ä¼˜å…ˆçº§**: æ˜¯å¦è¢«å…¶ä»–è§„åˆ™è¦†ç›–
3. âœ… **æ¡ä»¶åŒ¹é…**: JSON æ ¼å¼æ˜¯å¦æ­£ç¡®
4. âœ… **æ—¶é—´èŒƒå›´**: æ˜¯å¦åœ¨ `valid_from` å’Œ `valid_until` ä¹‹é—´
5. âœ… **æƒé™**: Public è§’è‰²æ˜¯å¦æœ‰è¯»å–æƒé™

---

### Q6: å¦‚ä½•æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æ‰€æœ‰äº¤æ˜“ï¼Ÿ

**A**:

1. è¿›å…¥ **PlayPass äº¤æ˜“è®°å½•** é›†åˆ
2. ä½¿ç”¨æœç´¢æ¡†è¾“å…¥ `user_id`
3. æˆ–ä½¿ç”¨ç­›é€‰å™¨:
   - æ·»åŠ ç­›é€‰æ¡ä»¶
   - å­—æ®µ: `user_id`
   - è¿ç®—ç¬¦: `ç­‰äºŽ`
   - å€¼: ç”¨æˆ· ID
4. æŸ¥çœ‹ç­›é€‰ç»“æžœ

---

### Q7: èƒ½å¦åœ¨ Directus ä¸­ä¿®æ”¹ç”¨æˆ·ä½™é¢ï¼Ÿ

**A**:

**ä¸æŽ¨è**ç›´æŽ¥ä¿®æ”¹ `user_playpass` è¡¨ï¼ŒåŽŸå› :
- âš ï¸ ä¸ä¼šè®°å½•äº¤æ˜“åŽ†å²
- âš ï¸ å¯èƒ½å¯¼è‡´ç»Ÿè®¡æ•°æ®ä¸ä¸€è‡´
- âš ï¸ è¿åä¸šåŠ¡é€»è¾‘

**æ­£ç¡®åšæ³•**:

ä½¿ç”¨ Supabase SQL æ‰‹åŠ¨è°ƒæ•´ï¼ˆä¼šè®°å½•äº¤æ˜“ï¼‰:

```sql
-- å¢žåŠ ä½™é¢
UPDATE user_playpass
SET current_balance = current_balance + 1000,
    total_earned = total_earned + 1000
WHERE user_id = 'user-123';

-- è®°å½•äº¤æ˜“
INSERT INTO playpass_transactions (
  user_id, transaction_type, pp_amount,
  source_type, balance_after
) VALUES (
  'user-123', 'earn', 1000,
  'admin_grant',
  (SELECT current_balance FROM user_playpass WHERE user_id = 'user-123')
);
```

---

### Q8: å¦‚ä½•è®¾ç½®æŸä¸ªå†…å®¹æ°¸ä¹…å…è´¹ï¼Ÿ

**A**:

1. è¿›å…¥ **PlayPass å®šä»·é…ç½®**
2. åˆ›å»ºæˆ–ä¿®æ”¹è¯¥å†…å®¹çš„å®šä»·è§„åˆ™
3. è®¾ç½®:
   - **PP ä»·æ ¼**: `0`
   - **ä¼˜å…ˆçº§**: è¾ƒé«˜å€¼ï¼ˆå¦‚ `100`ï¼‰
   - **æ˜¯å¦å¯ç”¨**: `true`
4. ä¿å­˜

æˆ–è€…åœ¨æ¡ä»¶ä¸­åŒ¹é…è¯¥å†…å®¹ ID:

```json
{
  "id": "specific-content-id"
}
```

---

### Q9: åŒå€æ´»åŠ¨å¦‚ä½•è‡ªåŠ¨ç»“æŸï¼Ÿ

**A**:

API ä¼šæ£€æŸ¥ `valid_from` å’Œ `valid_until` å­—æ®µ:

```javascript
// API è‡ªåŠ¨æ£€æŸ¥æ—¶é—´èŒƒå›´
const now = new Date();
if (
  reward.valid_from && new Date(reward.valid_from) > now ||
  reward.valid_until && new Date(reward.valid_until) < now
) {
  // è¶…å‡ºæ—¶é—´èŒƒå›´ï¼Œä¸åº”ç”¨æ´»åŠ¨å€çŽ‡
  reward.reward_multiplier = 1.0;
}
```

**æ— éœ€æ‰‹åŠ¨ç»“æŸ**ï¼Œåªè¦è®¾ç½®äº† `valid_until`ï¼Œæ—¶é—´åˆ°äº†è‡ªåŠ¨æ¢å¤æ­£å¸¸å€çŽ‡ã€‚

---

### Q10: å¦‚ä½•æ‰¹é‡ç¦ç”¨æ‰€æœ‰è§„åˆ™ï¼Ÿ

**A**:

**æ–¹æ³• 1**: Directus é€ä¸ªç¦ç”¨

1. è¿›å…¥é›†åˆ
2. å‹¾é€‰å…¨éƒ¨è®°å½•
3. æ‰¹é‡æ“ä½œ â†’ ç¼–è¾‘
4. ä¿®æ”¹ `is_active` ä¸º `false`

**æ–¹æ³• 2**: Supabase SQL æ‰¹é‡ç¦ç”¨ï¼ˆæŽ¨èï¼‰

```sql
-- ç¦ç”¨æ‰€æœ‰å®šä»·è§„åˆ™
UPDATE playpass_pricing_config
SET is_active = false;

-- ç¦ç”¨æ‰€æœ‰å¥–åŠ±è§„åˆ™
UPDATE playpass_reward_config
SET is_active = false;
```

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [PlayPass é¡¹ç›®æ€»ç»“](PLAYPASS-PROJECT-SUMMARY.md) - å®Œæ•´é¡¹ç›®æ¦‚è§ˆ
- [PlayPass Supabase ç®¡ç†æŒ‡å—](PLAYPASS-SUPABASE-ADMIN-GUIDE.md) - Supabase SQL ç®¡ç†
- [PlayPass éƒ¨ç½²æ£€æŸ¥æ¸…å•](PLAYPASS-DEPLOYMENT-CHECKLIST.md) - éƒ¨ç½²æŒ‡å—
- [PlayPass API æ–‡æ¡£](PLAYPASS-API-DOCS.md) - API æŽ¥å£è¯´æ˜Ž

---

## ðŸ“ž æ”¯æŒ

é‡åˆ°é—®é¢˜è¯·:

1. æ£€æŸ¥æœ¬æ–‡æ¡£ FAQ éƒ¨åˆ†
2. æŸ¥çœ‹ Directus æ—¥å¿—: `docker-compose logs directus`
3. æŸ¥çœ‹æ•°æ®åº“æ•°æ®æ˜¯å¦æ­£ç¡®: Supabase Dashboard
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

**æœ€åŽæ›´æ–°**: 2025-11-17
**ç‰ˆæœ¬**: v2.1.0
**é¡¹ç›®**: PlayNew.ai PlayPass ç³»ç»Ÿ
**Directus ç‰ˆæœ¬**: latest

---

**PlayPass Directus ç®¡ç† - è®©é…ç½®ç®¡ç†æ›´ç®€å•ï¼** ðŸŽ›ï¸
